(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{BUB3:function(e,t,n){"use strict";n("1t7P"),n("LW0h"),n("jwue"),n("daRM"),n("FtHn"),n("+KXO"),n("+oxZ");var r=n("KEM+"),o=n.n(r),a=n("m3Bd"),i=n.n(a),c=n("ERkP"),l=n("sNn6"),s=n("rHpw"),u=n("MWbm");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=s.a.create((function(e){return{activeRoot:{backgroundColor:e.colors.faintGray},overlay:d(d({},s.a.absoluteFillObject),{},{borderRightStyle:"solid",borderRightWidth:e.borderWidths.medium,borderRightColor:e.colors.primary,zIndex:1})}}));t.a=function(e){var t=e.children,n=i()(e,["children"]);return c.createElement(l.a,n,(function(e){return c.createElement(u.a,{style:[e&&f.activeRoot]},"function"==typeof t?t(e):t,e?c.createElement(u.a,{pointerEvents:"none",style:f.overlay}):null)}))}},DghG:function(e,t,n){"use strict";n.r(t),n.d(t,"UserMomentsScreen",(function(){return B}));n("7x/C"),n("OZaJ"),n("DZ+c");var r=n("VrFO"),o=n.n(r),a=n("Y9Ll"),i=n.n(a),c=n("1Pcy"),l=n.n(c),s=n("5Yy7"),u=n.n(s),m=n("N+ot"),d=n.n(m),f=n("AuHH"),p=n.n(f),h=n("KEM+"),v=n.n(h),y=n("ERkP"),b=n("es0u"),g=(n("KqXw"),n("WNMA"),n("RqPI")),E=n("oEGd"),O=n("0KEI"),w=n("hqKg"),I=n("Fg8X"),M=n("G6rE"),x=function(e,t){return t.match.params.screenName},C=Object(w.createSelector)(x,(function(e,t){var n=x(0,t);return M.e.selectByScreenName(e,n)}),g.g,(function(e,t,n){return{screenName:e,user:t,userId:null==t?void 0:t.id_str,loggedInUserId:n}})),_={createLocalApiErrorHandler:Object(O.d)("USER_MOMENTS"),createMoment:I.a.create,fetchOneUserByScreenNameIfNeeded:M.e.fetchOneByScreenNameIfNeeded},S=Object(E.g)(C,_),R=n("7JQg"),j=n("c+OQ"),k=n("7wqI"),P=n("3XMw"),T=n.n(P),D=n("8jkQ"),A=n("yoO3"),L=n("5FtR"),N=n("VS6U"),H=(n("AxOO"),n("aITJ")),z=n("gbni"),G=n("yrzJ");n("aWzz");function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var U=T.a.b4af8c6a,B=function(e){u()(n,e);var t=F(n);function n(e){var r;return o()(this,n),r=t.call(this,e),v()(l()(r),"_renderTimeline",(function(){var e=r.props,t=e.screenName,n=e.userId,o=r._isOwnMoments();return y.createElement(z.a,{isOwnMoments:o,screenName:t,userId:n,withAuthorControls:!1})})),v()(l()(r),"_handleFetchUser",(function(){var e=r.props,t=e.createLocalApiErrorHandler;(0,e.fetchOneUserByScreenNameIfNeeded)(e.screenName).catch(t())})),v()(l()(r),"_handleCreateMoment",(function(){var e=r.props,t=e.createLocalApiErrorHandler;(0,e.createMoment)().then((function(e){e&&e.id&&D.b.navigateTo("https://twitter.com/i/moments/edit/".concat(e.id))}),t({showToast:!0}))})),r._createMomentEnabled=H.a.isDesktopOS(),r}return i()(n,[{key:"componentDidMount",value:function(){this._handleFetchUser()}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.screenName,r=e.user,o=!r||r&&Object(k.b)({isOwnProfile:this._isOwnMoments(),user:r}),a=this._createMomentEnabled&&this._isOwnMoments()?y.createElement(j.a,{onPress:this._handleCreateMoment}):void 0;return o?y.createElement(A.a,null,y.createElement(N.a,{backLocation:"/".concat(n),history:t,primaryContent:this._renderTimeline(),rightControl:a,sidebarContent:y.createElement(b.a,null),subtitle:y.createElement(G.a,{screenName:n}),title:U})):y.createElement(L.a,{to:"/".concat(n)})}},{key:"_isOwnMoments",value:function(){var e=this.props,t=e.userId,n=e.loggedInUserId;return!!n&&t===n}}]),n}(y.Component);t.default=Object(R.c)({page:"profile",section:"moments"})(S(B))},MREw:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));n("2G9S"),n("7x/C"),n("OZaJ"),n("DZ+c");var r=n("VrFO"),o=n.n(r),a=n("Y9Ll"),i=n.n(a),c=n("1Pcy"),l=n.n(c),s=n("5Yy7"),u=n.n(s),m=n("N+ot"),d=n.n(m),f=n("AuHH"),p=n.n(f),h=n("KEM+"),v=n.n(h),y=n("ERkP"),b=n("Vgm9"),g=n("MWbm"),E=n("/yvb"),O=n("rHpw"),w=n("TW8A"),I=n("I/9y");function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var x=function(e){u()(n,e);var t=M(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),v()(l()(e),"_getIcons",(function(){var t=e.props.withGrayIcons&&C.colorDeepGray;return{editIcon:y.createElement(w.a,{style:t}),linkIcon:y.createElement(I.a,{style:t})}})),e}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.author,n=e.eventId,r=e.momentId,o=e.scribeNamespace,a=e.size,i=e.title,c=e.withGrayIcons,l=this._getIcons(),s=l.editIcon,u=l.linkIcon;return y.createElement(g.a,{style:C.buttonContainer},y.createElement(E.a,{icon:s,link:"/i/moment_maker/edit/".concat(r),pullRight:!0,size:a,style:C.button,type:"text"}),y.createElement(E.a,{icon:u,link:"/i/events/".concat(n||r),pullRight:!0,size:a,style:[C.button,C.buttonExtraSpace],type:"text"}),y.createElement(b.a,{author:t,eventId:r,iconStyle:c?C.colorDeepGray:void 0,scribeNamespace:o,size:a,style:C.buttonExtraSpace,title:i,withEditAction:!1}))}}]),n}(y.Component),C=O.a.create((function(e){return{buttonContainer:{flexDirection:"row"},button:{marginRight:e.spaces.xxSmall},buttonExtraSpace:{marginStart:e.spaces.xSmall},colorDeepGray:{color:e.colors.deepGray}}}))},gbni:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ce}));n("2G9S"),n("7x/C"),n("OZaJ"),n("DZ+c");var r,o,a,i=n("VrFO"),c=n.n(i),l=n("Y9Ll"),s=n.n(l),u=n("1Pcy"),m=n.n(u),d=n("5Yy7"),f=n.n(d),p=n("N+ot"),h=n.n(p),v=n("AuHH"),y=n.n(v),b=n("KEM+"),g=n.n(b),E=n("ERkP"),O=n("ezF+"),w=n("PnFR"),I=n("8UdT"),M=(n("1t7P"),n("jQ/y"),n("LW0h"),n("jwue"),n("daRM"),n("FtHn"),n("+KXO"),n("Blm6"),n("+oxZ"),n("VPAj")),x=n("0KEI"),C=n("zlxh"),_=n("lPpt"),S=n("Fg8X"),R=(n("uFXj"),n("FwvS")),j=n("0mK8"),k=n("BUB3"),P=n("3XMw"),T=n.n(P),D=n("MREw"),A=n("zOwA"),L=n("MWbm"),N=n("htQn"),H=n("t62R"),z=n("GBcw"),G=n("TIdA"),F=n("A91F"),U=n("9Xij"),B=n("rHpw"),V=n("29/U");function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var K=T.a.ca15dd4d,J=T.a.cc8f8a8f,X=T.a.c33a97d6,Z=T.a.d8d73100,Q=T.a.ecb27dc6,Y=T.a.jc1c857a,q=T.a.bb40bf65,$=(r={},g()(r,V.c.private,"red"),g()(r,V.c.public,"green"),g()(r,V.c.unlisted,"deepGray"),r),ee=(o={},g()(o,V.c.private,K),g()(o,V.c.public,X),g()(o,V.c.unlisted,J),o),te=(a={},g()(a,V.a.CurationStudio,Z),g()(a,V.a.MomentMakerPro,Q),g()(a,V.a.MomentMakerLite,void 0),g()(a,V.a.MomentMakerMobile,void 0),a),ne=function(e){f()(n,e);var t=W(n);function n(){var e;c()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),g()(m()(e),"_renderViewerMomentSummary",(function(){var t=e.props,n=t.author,r=t.category,o=t.contextImage,a=t.contextLabel,i=t.isTOO,c=t.lastPublishedTime,l=t.onClick,s=t.totalLikes,u=t.visibilityMode;return E.createElement(N.a,{link:e._getLinkToMoment(),onClick:l,style:[re.root,re.flexDirectionRow]},E.createElement(L.a,{style:re.details},E.createElement(L.a,{style:re.aboveTitle},i?E.createElement(H.c,{color:"deepGray",size:"small"},r):n?E.createElement(j.a,{author:n,size:"small"}):void 0,c?E.createElement(j.d,null):null,c?E.createElement(H.c,{size:"small"},E.createElement(z.a,{timestamp:c})):null),e._renderTitle(),u!==V.c.public?e._renderVisibilityLabel(u):null,o&&a?E.createElement(A.a,{image:o,label:a,textSize:"small"}):E.createElement(H.c,{size:"small"},E.createElement(j.c,{totalLikes:s||0}))),e._renderCoverImage())})),g()(m()(e),"_renderAuthorMomentSummary",(function(){var t=e._getLinkToPreview(),n={pathname:t,anchorless:!0};return E.createElement(k.a,{exact:!1,path:t},e._renderAuthorMomentSummaryContent(n))})),g()(m()(e),"_renderAuthorMomentSummaryContent",(function(t){return function(n){var r=e.props,o=r.creationSource,a=r.description,i=r.onClick,c=r.lastModifiedTime,l=r.lastPublishedTime,s=r.visibilityMode,u=o&&te[o];return E.createElement(N.a,{accessibilityRole:"tab",accessibilityState:{selected:n},link:t,onClick:i,style:re.root},E.createElement(L.a,{style:re.flexDirectionRow},E.createElement(L.a,{style:re.topText},e._renderTitle(),a?E.createElement(H.c,{color:"deepGray",numberOfLines:3,size:"normal",style:re.description,withHashflags:!0},a):null),e._renderCoverImage()),E.createElement(L.a,{style:re.bottomContainer},E.createElement(L.a,null,E.createElement(L.a,{style:re.flexDirectionRow},e._renderVisibilityLabel(s),s&&u?E.createElement(j.d,null):null,u?E.createElement(H.c,{color:"deepGray"},u):null),c?e._renderTime(Y,c):null,l&&s!==V.c.private?e._renderTime(q,l):null),e._renderButtons()))}})),g()(m()(e),"_renderTitle",(function(){var t=e.props,n=t.title;return t.withAuthorControls?E.createElement(H.c,{numberOfLines:2,size:"large",weight:"heavy",withHashflags:!0},n):E.createElement(H.c,{style:re.title,weight:"bold",withHashflags:!0},n)})),g()(m()(e),"_renderCoverImage",(function(){var t=e.props.coverMedia,n=t&&R.c(t);return E.createElement(L.a,{style:re.coverContainer},n&&t?E.createElement(G.a,{accessibilityLabel:"",aspectMode:F.a.SQUARE,backgroundColor:R.a(t),cropCandidates:R.b(t),image:n}):E.createElement(U.a,{ratio:1},E.createElement(j.e,{icon:"lightning"})),t?E.createElement(j.b,{style:re.lightningBadge}):null)})),g()(m()(e),"_renderButtons",(function(){var t=e.props,n=t.associatedEventId,r=t.author,o=t.momentId,a=t.title;return E.createElement(L.a,{style:re.buttonContainer},E.createElement(D.a,{author:r,eventId:n,momentId:o,size:"small",title:a,withGrayIcons:!0}))})),g()(m()(e),"_renderVisibilityLabel",(function(e){var t=e?$[e]:null,n=e?ee[e]:null;return t&&n?E.createElement(H.c,{color:t,weight:"bold"},n):null})),g()(m()(e),"_renderTime",(function(e,t){return E.createElement(L.a,{style:re.flexDirectionRow},E.createElement(H.c,{color:"deepGray",size:"small"},e),E.createElement(j.d,null),E.createElement(H.c,{color:"deepGray",size:"small"},E.createElement(z.a,{humanReadable:!0,timestamp:t})))})),g()(m()(e),"_handleFetch",(function(){var t=e.props,n=t.associatedEventId,r=t.createLocalApiErrorHandler,o=t.fetchEvent,a=t.isCurationStudioMoment,i=t.withAuthorControls;n&&a&&i&&o(n).catch(r())})),g()(m()(e),"_getLinkToMoment",(function(){var t=e.props.momentId;return"/i/events/".concat(t)})),g()(m()(e),"_getLinkToPreview",(function(){var t=e.props.momentId;return"/i/moment_maker/preview/".concat(t)})),e}return s()(n,[{key:"componentDidMount",value:function(){this._handleFetch()}},{key:"render",value:function(){return this.props.withAuthorControls?this._renderAuthorMomentSummary():this._renderViewerMomentSummary()}}]),n}(E.Component),re=B.a.create((function(e){return{root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,justifyContent:"space-between"},flexDirectionRow:{flexDirection:"row"},aboveTitle:{alignItems:"center",flexDirection:"row"},coverContainer:{backgroundColor:e.colors.lightGray,borderRadius:e.borderRadii.xLarge,height:"15%",maxHeight:"100px",maxWidth:"100px",minHeight:"70px",minWidth:"70px",overflow:"hidden",width:"15%"},coverMedia:{height:"100%",width:"100%"},lightningBadge:{bottom:e.spaces.xSmall,left:e.spaces.xSmall},topText:{justifyContent:"flex-start",maxWidth:"calc(100% - ".concat("70px",")"),minWidth:"calc(100% - ".concat("100px",")"),paddingRight:e.spaces.small,width:"calc(100% - ".concat("15%",")")},details:{flex:1,marginRight:e.spaces.xSmall},title:{marginVertical:e.spaces.micro},description:{marginBottom:e.spaces.small,marginTop:e.spaces.xxSmall},visibility:{alignItems:"flex-start"},bottomContainer:{flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"},timestamp:{marginTop:e.spaces.xxSmall},buttonContainer:{marginTop:e.spaces.small}}})),oe=n("zh9S"),ae=n("Rp9C"),ie=n("RqPI");function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=function(e){var t=e.errorContext;return Object(M.a)({createLocalApiErrorHandler:Object(x.d)(t),fetchEvent:_.a.fetchOneIfNeeded,scribe:oe.c})},ue=function(e){var t=e.entry;return{associatedEvent:function(e){var n=S.a.selectAssociatedEventId(e,t.content.momentId);return n?_.a.select(e,n):void 0},author:function(e){return S.a.selectAuthor(e,t.content.momentId)},isCurationStudioMoment:function(e){return S.a.selectIsCurationStudioMoment(e,t.content.momentId)},isLoggedIn:ie.e,isTOO:function(e){return S.a.selectIsTOO(e,t.content.momentId)},moment:function(e){return S.a.select(e,t.content.momentId)},momentCoverMedia:function(e){return S.a.selectCoverMedia(e,t.content.momentId)}}},me=function(e){var t=e.withAuthorControls;return function(e){var n=e.data,r=n.associatedEvent,o=n.author,a=n.isCurationStudioMoment,i=(n.isLoggedIn,n.isTOO),c=n.moment,l=n.momentCoverMedia,s=e.entry,u=e.actions,m=u.createLocalApiErrorHandler,d=u.fetchEvent,f=u.scribe,p=e.scribeNamespace;if(!c)return null;var h=function(e){var t=e.entry,n=e.moment,r=le({moments_details:{moment_id:n.id,navigation_uri:n.url,visibility:n.visibility_mode}},ae.a.getAllSurfaceDetails(t.itemMetadata.clientEventInfo)),o=t.itemMetadata&&t.itemMetadata.clientEventInfo&&t.itemMetadata.clientEventInfo.details&&t.itemMetadata.clientEventInfo.details.momentsDetails;if(o){var a=o.contextScribeInfo&&o.contextScribeInfo.position;return le(le({},r),{},{moments_details:le(le({},r.moments_details),{},{guide_category_id:o.guideCategoryId,impression_id:o.impressionId}),position:a?parseInt(a,10):void 0})}return r}({entry:s,moment:c}),v=s.content.socialContext,y=(v=void 0===v?{}:v).generalContext,b=void 0===y?void 0:y,g=c.associated_event_id,E=g&&a&&t;return{associatedEventId:g,author:o,category:c.subcategory_string,coverMedia:E?Object(C.j)(r):l,createLocalApiErrorHandler:m,creationSource:c.creation_source,description:(E?null==r?void 0:r.liveEventDetails.description:c.description)||"",fetchEvent:d,isCurationStudioMoment:a,isTOO:i,lastModifiedTime:c.last_modified_time,lastPublishedTime:c.last_publish_time,momentId:c.id,onClick:function(){f(le(le({},p),{},{action:"click"}),{items:[h]})},title:(E?null==r?void 0:r.liveEventDetails.title:c.title)||"",totalLikes:c.total_likes,visibilityMode:c.visibility_mode,contextLabel:b&&b.text,contextImage:b&&b.contextImageUrls&&b.contextImageUrls[0],withAuthorControls:t}}},de=function(e){var t;return t={},g()(t,I.b.TimelineCursor,w.a),g()(t,I.b.Moment,function(e){var t=e.withAuthorControls,n=e.errorContext;return O.d(O.f({isFocusable:Object(M.a)(!0),component:ne,bindActions:se({errorContext:n}),selectData:ue,createProps:me({withAuthorControls:t})}))}({withAuthorControls:e,errorContext:"USER_MOMENTS_TIMELINE"})),g()(t,I.b.MomentAnnotation,O.d(O.a())),t},fe=n("fTQJ"),pe=n("iUle"),he=n("FIs5"),ve=n("I7xG");function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var be=T.a.fea74b66,ge=T.a.e14206c3,Ee=T.a.d1e5e327,Oe=T.a.ee75768c,we=T.a.f5978663,Ie=T.a.a357d876,Me=function(){return E.createElement(he.a,{message:Ie})},xe=function(e,t){return function(){return E.createElement(he.a,{header:t?ge:Oe({screenName:e}),message:t?Ee:we})}},Ce=function(e){f()(n,e);var t=ye(n);function n(){var e;c()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),g()(m()(e),"_getModule",Object(ve.a)(m()(e),(function(e){return{userId:e.userId,activeTeamId:e.activeTeamId}}),(function(e){var t=e.userId,n=e.activeTeamId;return Object(pe.a)(t,n)}))),e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.isOwnMoments,n=e.screenName,r=e.withAuthorControls;return E.createElement(fe.a,{entryConfiguration:de(r),module:this._getModule(),renderEmptyState:xe(n,t),renderUnavailable:Me,title:be({screenName:n})})}}]),n}(E.Component)}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web-legacy/bundle.UserMoments.6d994015.js.map