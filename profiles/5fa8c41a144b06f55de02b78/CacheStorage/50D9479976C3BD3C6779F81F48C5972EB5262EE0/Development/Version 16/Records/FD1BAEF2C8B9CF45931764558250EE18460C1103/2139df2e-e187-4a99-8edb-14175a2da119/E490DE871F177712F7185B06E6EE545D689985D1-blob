(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"1JIQ":function(e,t,n){"use strict";n.r(t),n.d(t,"DMRichTextComposeContextProvider",(function(){return u}));var r=n("97Jx"),o=n.n(r),i=n("ERkP"),a=n("cOtO"),c=n("RH6X"),s=n("hHEM"),l=n("keCP"),u=function(e){var t={convertEmojiToEntities:s.a.convertEmojiToEntities,element:l.a,initEditorState:s.a.initEditorState,insertTextAtCursor:s.a.insertTextAtCursor};return i.createElement(a.default,o()({},e,{richTextInputContext:t,typeaheadWrapper:c.a}))};t.default=u},M2mT:function(e,t,n){"use strict";n("i4UL"),n("7x/C"),n("OZaJ"),n("DZ+c");var r=n("m3Bd"),o=n.n(r),i=n("VrFO"),a=n.n(i),c=n("Y9Ll"),s=n.n(c),l=n("5Yy7"),u=n.n(l),p=n("N+ot"),h=n.n(p),f=n("AuHH"),d=n.n(f),v=n("KEM+"),y=n.n(v),m=n("+/5o"),w=n("ERkP"),b=n("HPNB"),O=n("VAZu"),C=n("wiP2"),g=n("3xLC"),P=n("Es6L"),E=(n("1t7P"),n("LW0h"),n("jwue"),n("daRM"),n("FtHn"),n("+KXO"),n("+oxZ"),n("rHpw"));function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=E.a.create((function(e){return{fill:{flex:1,alignSelf:"stretch"},viewportView:k(k({},E.a.absoluteFillObject),{},{overflowY:"auto"}),appBarContainer:{backfaceVisibility:"hidden",position:"sticky",top:0,zIndex:1}}})),T=n("MWbm"),I=n("yw4N"),_=n("TnY3"),B=n("cHvH");function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var S=function(e){u()(n,e);var t=j(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this;return w.createElement(B.a,null,(function(t){var n=t.windowWidth;return b.a.isTwoColumnLayout(n)?e._renderForTwoColumnLayout():e._renderForOneColumnLayout()}))}},{key:"_renderForOneColumnLayout",value:function(){var e=this.props,t=e.children,n=(e.leftControl,e.screenType,e.showSubtitleOnWideDetail,e.withBottomBorder,e.withDetailOpen,o()(e,["children","leftControl","screenType","showSubtitleOnWideDetail","withBottomBorder","withDetailOpen"]));return w.createElement(w.Fragment,null,Object(P.a)()?this._renderInlineNav({isTwoColumnLayout:!1}):w.createElement(C.a.Configure,n),t)}},{key:"_renderForTwoColumnLayout",value:function(){return w.createElement(w.Fragment,null,this._renderInlineNav({isTwoColumnLayout:!0}),this._renderChildren())}},{key:"_renderInlineNav",value:function(e){var t=e.isTwoColumnLayout,n=this.props,r=n.TeamsSwitcher,o=n.TabBar,i=n.backLocation,a=n.documentTitle,c=n.headerless,s=n.history,l=n.leftControl,u=n.onBackClick,p=n.rightControl,h=n.screenType,f=n.searchBoxOptions,d=n.secondaryBar,v=n.showSubtitleOnWideDetail,y=n.subtitle,b=n.title,g=n.titleIconCell,P=n.titleIconCellSize,E=n.withBottomBorder,D=n.withDetailOpen,k=n.withSearchBox,I=n.withTweetButton,_="root"===h,B="secondaryRoot"===h,j="primaryDetail"===h,S=_||j&&t,L=_?m.o:j?m.g:void 0,R=w.createElement(T.a,{style:x.appBarContainer},w.createElement(O.a,{backLocation:i,fixed:!1,hideBackButton:S,history:s,leftControl:l,onBackClick:u,rightControl:p,subtitle:j&&v?y:void 0,title:b,titleDomId:L,titleIconCell:g,titleIconCellSize:P,withBottomBorder:Boolean(!d||E)})),N=_||B&&D?null:w.createElement(C.a.Configure,{TabBar:o,TeamsSwitcher:r,backLocation:i,documentTitle:a,headerless:c,onBackClick:u,rightControl:p,searchBoxOptions:f,subtitle:y,title:b,withSearchBox:k,withTweetButton:I});return w.createElement(w.Fragment,null,N,R,d)}},{key:"_renderChildren",value:function(){var e=this.props.children;return this.context.rootDetailPerColumnScroll?w.createElement(T.a,{style:x.fill},w.createElement(I.a,{style:x.viewportView},e)):e}}]),n}(w.Component);y()(S,"contextType",g.a),y()(S,"defaultProps",{screenType:"secondaryDetail",showSubtitleOnWideDetail:!0});t.a=Object(_.a)(S)},cOtO:function(e,t,n){"use strict";n.r(t),n.d(t,"DMConversationScreen",(function(){return Oe}));n("z84I"),n("+KXO"),n("7x/C"),n("OZaJ"),n("KqXw"),n("DZ+c"),n("MvUL"),n("uFXj");var r=n("VrFO"),o=n.n(r),i=n("Y9Ll"),a=n.n(i),c=n("1Pcy"),s=n.n(c),l=n("5Yy7"),u=n.n(l),p=n("N+ot"),h=n.n(p),f=n("AuHH"),d=n.n(f),v=n("KEM+"),y=n.n(v),m=n("ERkP"),w=n("HPNB"),b=(n("WNMA"),n("zh9S")),O=n("MMRb"),C=n("VnFT"),g=n("RqPI"),P=n("oEGd"),E=n("hqKg"),D=(n("Myq3"),n("AQOc")),k=n("z2Pn"),x=n("pNZL"),T=n("G6rE"),I=n("X/yg"),_=function(e,t){return t.match.params.conversationId},B=Object(E.createSelector)((function(e,t){return O.selectConversation(e,_(0,t))}),O.selectEntries,_,I.d,g.g,I.e,I.f,T.e.selectAll,(function(e,t){return C.j(e,_(0,t))}),(function(e,t){return C.i(e,_(0,t))}),O.selectPoppedOutConversationId,O.selectDrawerVisibility,(function(e,t,n,r,o,i,a,c,s,l,u,p){var h=e&&e.data;return{conversation:h&&Object(D.a)(h,t,c),conversationId:n,isNewGroupConversation:r,isUploading:s,media:l,newConversationParticipants:i,perspective:o,poppedOutConversationId:u,dmDrawerVisibility:p}})),j=function(e){return function(t){return C.c(e,t)}},S=Object(P.d)(B,(function(e){return{cancelUpload:(t=e.match.params.conversationId,function(){return C.b(t)}),googleAnalyticsPageView:b.a,removeMedia:j(e.match.params.conversationId),scribePageImpression:b.d,setLastViewedDmInboxPath:k.h,updateTweetDetailNav:x.b,popOutConversation:O.popOutConversation,setDrawerVisibility:O.setDrawerVisibility};var t})),L=n("7JQg"),R=n("i4Oy"),N=(n("uB9N"),n("Oi4X")),M=n("aA19"),V=n("SrtL"),W=n("3XMw"),A=n.n(W),F=n("rHpw"),H=n("mw9i"),z=n("FIs5");function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var X=A.a.a2f8105f,Q=A.a.fa91f351,Z=A.a.b999caa8,q=A.a.de2c3337,J=F.a.create((function(e){return{root:{alignItems:"center",justifyContent:"center",flex:1,backgroundColor:e.colors.cellBackground}}})),K=function(e){u()(n,e);var t=G(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var e=this.props.onButtonPress;return m.createElement(H.a,{style:J.root},m.createElement(V.a,{title:X}),m.createElement(z.a,{buttonText:q,header:Q,message:Z,onButtonPress:e}))}}]),n}(m.PureComponent),Y=n("xPna"),U=n("wrlS"),$=n("XnpN"),ee=n("7myi"),te=n("M2mT"),ne=n("aITJ"),re=n("MWbm"),oe=n("/yvb"),ie=n("OhSZ"),ae=n("6s7X"),ce=(n("1t7P"),n("LW0h"),n("jwue"),n("daRM"),n("FtHn"),n("+oxZ"),n("Lsrn")),se=n("shC7"),le=n("k/Ka");function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(le.a)("svg",pe(pe({},e),{},{style:[ce.a.root,e.style,se.a.isRTL&&ce.a.iconRTL],viewBox:"0 0 24 24"}),m.createElement("g",null,m.createElement("path",{d:"M19.687 22H7.813C6.538 22 5.5 20.962 5.5 19.687v-4.452c0-.414.336-.75.75-.75s.75.335.75.75v4.45c0 .45.365.815.813.815h11.873c.448 0 .813-.365.813-.813V7.813c0-.448-.365-.813-.813-.813h-4.452c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h4.452C20.962 5.5 22 6.538 22 7.813v11.873C22 20.962 20.962 22 19.687 22z"}),m.createElement("path",{d:"M11.25 4.045c-.414 0-.75.336-.75.75V9.44L3.064 2.004c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06L9.438 10.5H4.804c-.414 0-.75.336-.75.75s.336.75.75.75h6.445c.414 0 .75-.336.75-.75V4.795c0-.414-.336-.75-.75-.75z"})))};he.metadata={width:24,height:24};var fe=he;function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ve=A.a.d4986f85,ye=A.a.e3e58b6d,me=A.a.a9ddbb94,we=m.createElement(ae.a,null),be=m.createElement(fe,null),Oe=function(e){u()(n,e);var t=de(n);function n(e){var r;o()(this,n),r=t.call(this,e),y()(s()(r),"_composer",m.createRef()),y()(s()(r),"_handleConversationClose",(function(e){var t=r.props,n=t.conversation,o=t.history;(null==n?void 0:n.trusted)?o.push("/messages"):e()})),y()(s()(r),"_handlePopOutConvo",(function(){var e=r.props,t=e.conversationId;(0,e.popOutConversation)(t)})),y()(s()(r),"_handlePopInConvoFromScreen",(function(){(0,r.props.setDrawerVisibility)(Y.a.CLOSED)})),y()(s()(r),"_handleInfoClick",(function(){var e=r.props,t=e.history,n=e.conversationId;n&&t.push("/messages/".concat(n,"/info"))})),y()(s()(r),"_updateLastViewDmInboxPath",(function(){var e=r.props;(0,e.setLastViewedDmInboxPath)(e.location.pathname)}));var i=e.conversationId,a=e.history,c=e.location,l=e.isNewGroupConversation;return i||l||c.pathname!==window.location.pathname||a.replace({pathname:"/messages"}),r._showDMQuickAccess=U.b.isTrue("responsive_web_dm_quick_access_enabled"),r._showDMQuickAccessWithClose=U.b.isTrue("responsive_web_dm_quick_access_with_close_enabled"),r}return a()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.googleAnalyticsPageView,n=e.scribeNamespace,r=e.scribePageImpression,o=e.updateTweetDetailNav;r(n),o(n),t(n),this._updateLastViewDmInboxPath()}},{key:"componentDidUpdate",value:function(e){this.props.conversationId!==e.conversationId&&this._updateLastViewDmInboxPath()}},{key:"render",value:function(){var e=this.props,t=e.conversationId,n=e.dmDrawerVisibility,r=e.history,o=e.location,i=e.poppedOutConversationId,a=e.richTextInputContext,c=e.typeaheadWrapper,s="string"==typeof o.query.text?o.query.text:void 0,l=R.a.get("window").width>=F.a.theme.breakpoints.small,u=this._showDMQuickAccess&&this._showDMQuickAccessWithClose&&t===i&&n!==Y.a.CLOSED;return m.createElement(te.a,this._getNavProps(),u?m.createElement(K,{onButtonPress:this._handlePopInConvoFromScreen}):m.createElement(N.a,{conversationId:t,history:r,isWide:l,location:o,prefillText:s,richTextInputContext:a,typeaheadWrapper:c}))}},{key:"_getNavProps",value:function(){var e=this.props,t=e.conversation,n=e.newConversationParticipants,r=e.perspective,o=t&&Object.keys(t.participants).length?Object(ie.a)({conversation:t,perspective:r}):n?Object(ie.a)({newConversationParticipants:n,perspective:r}):ve,i=t&&Object.keys(t.participants).length?m.createElement(ie.b,{conversation:t,perspective:r,titleWeight:"heavy",withScreenName:!1}):n?m.createElement(ie.b,{newConversationParticipants:n,perspective:r,titleWeight:"heavy",withScreenName:!1}):ve,a=r?m.createElement(M.a,{conversation:t,perspective:r,size:"large"}):void 0,c=t&&t.type===O.CONVERSATION_TYPE.ONE_TO_ONE&&r&&Object($.a)(t,r).map((function(e){return e.user.screen_name})),s=c?"@".concat(c[0]):void 0;return{backLocation:"/messages",onBackClick:this._handleConversationClose,documentTitle:o,rightControl:this._renderRightControl(),title:i,titleIconCell:a,titleIconCellSize:"large",subtitle:s,screenType:"primaryDetail",withBottomTabBar:!1,headerless:ne.a.isKaiOS()}}},{key:"_renderRightControl",value:function(){var e=this.props,t=e.conversation,n=e.conversationId,r=(null==t?void 0:t.type)===O.CONVERSATION_TYPE.GROUP;return n?m.createElement(re.a,{style:Ce.rightControlStyles},w.a.isTwoColumnLayout(R.a.get("window").width)&&this._showDMQuickAccess&&this._showDMQuickAccessWithClose&&m.createElement(oe.a,{icon:be,onPress:this._handlePopOutConvo,pullRight:!0,style:Ce.infoButton,type:"text"}),m.createElement(oe.a,{accessibilityLabel:r?me:ye,icon:we,key:n,link:"/messages/".concat(n,"/info"),pullRight:!0,style:Ce.infoButton,type:"text"})):void 0}}]),n}(m.PureComponent);y()(Oe,"defaultProps",{isNewGroupConversation:!1,typeaheadWrapper:ee.a});var Ce=F.a.create((function(e){return{root:{flexGrow:1},activity:{flexBasis:"1px",flexGrow:1,height:"100%"},kaiOSFix:{paddingBottom:20},dragDrop:{flexGrow:1},scrollView:{flexGrow:1},infoButton:{marginRight:e.spaces.xxSmall},offsetBottom:{paddingBottom:F.a.iPhoneOffsetBottom},rightControlStyles:{flexDirection:"row"}}}));t.default=Object(L.c)({page:"messages",section:"thread"})(S(Oe))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web-legacy/bundle.DMRichTextCompose.83f03c55.js.map