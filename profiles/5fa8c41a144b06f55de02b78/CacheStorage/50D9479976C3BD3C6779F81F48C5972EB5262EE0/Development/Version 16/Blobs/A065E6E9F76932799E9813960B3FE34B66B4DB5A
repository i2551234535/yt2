(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{"+Aie":function(e,t,n){var r;!function(o,i,c){if(o){for(var a,s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)s[111+p]="f"+p;for(p=0;p<=9;++p)s[p+96]=p.toString();b.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},b.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},b.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},b.prototype.reset=function(){return this._callbacks={},this._directMap={},this},b.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function e(t,n){return null!==t&&t!==i&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},b.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},b.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);a=null},b.init=function(){var e=b(i);for(var t in e)"_"!==t.charAt(0)&&(b[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},b.init(),o.Mousetrap=b,e.exports&&(e.exports=b),void 0===(r=function(){return b}.call(t,n,t,e))||(e.exports=r)}function d(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return s[e.which]?s[e.which]:u[e.which]?u[e.which]:String.fromCharCode(e.which).toLowerCase()}function m(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function v(e,t,n){return n||(n=function(){if(!a)for(var e in a={},s)e>95&&e<112||s.hasOwnProperty(e)&&(a[s[e]]=e);return a}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function y(e,t){var n,r,o,i=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),t&&"keypress"!=t&&l[r]&&(r=l[r],i.push("shift")),m(r)&&i.push(r);return{key:r,modifiers:i,action:t=v(r,i,t)}}function b(e){var t=this;if(e=e||i,!(t instanceof b))return new b(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},o=!1,c=!1,a=!1;function s(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(a=!1)}function u(e,n,o,i,c,a){var s,u,l,f,p=[],d=o.type;if(!t._callbacks[e])return[];for("keyup"==d&&m(e)&&(n=[e]),s=0;s<t._callbacks[e].length;++s)if(u=t._callbacks[e][s],(i||!u.seq||r[u.seq]==u.level)&&d==u.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(l=n,f=u.modifiers,l.sort().join(",")===f.sort().join(",")))){var h=!i&&u.combo==c,v=i&&u.seq==i&&u.level==a;(h||v)&&t._callbacks[e].splice(s,1),p.push(u)}return p}function l(e,n,r,o){t.stopCallback(n,n.target||n.srcElement,r,o)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function f(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=h(e);n&&("keyup"!=e.type||o!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function p(e,t,i,c){function u(t){return function(){a=t,++r[e],clearTimeout(n),n=setTimeout(s,1e3)}}function f(t){l(i,t,e),"keyup"!==c&&(o=h(t)),setTimeout(s,10)}r[e]=0;for(var p=0;p<t.length;++p){var d=p+1===t.length?f:u(c||y(t[p+1]).action);v(t[p],d,c,e,p)}}function v(e,n,r,o,i){t._directMap[e+":"+r]=n;var c,a=(e=e.replace(/\s+/g," ")).split(" ");a.length>1?p(e,a,n,r):(c=y(e,r),t._callbacks[c.key]=t._callbacks[c.key]||[],u(c.key,c.modifiers,{type:c.action},o,e,i),t._callbacks[c.key][o?"unshift":"push"]({callback:n,modifiers:c.modifiers,action:c.action,seq:o,level:i,combo:e}))}t._handleKey=function(e,t,n){var r,o=u(e,t,n),i={},f=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;p=!0,i[o[r].seq]=1,l(o[r].callback,n,o[r].combo,o[r].seq)}else p||l(o[r].callback,n,o[r].combo);var d="keypress"==n.type&&c;n.type!=a||m(e)||d||s(i),c=p&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)v(e[r],t,n)},d(e,"keypress",f),d(e,"keydown",f),d(e,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},"6oVL":function(e,t,n){"use strict";n("2G9S"),n("7x/C"),n("OZaJ"),n("KqXw"),n("DZ+c"),n("MvUL"),n("Ysgh");var r=n("ddV6"),o=n.n(r),i=n("VrFO"),c=n.n(i),a=n("Y9Ll"),s=n.n(a),u=n("1Pcy"),l=n.n(u),f=n("5Yy7"),p=n.n(f),d=n("N+ot"),h=n.n(d),m=n("AuHH"),v=n.n(m),y=n("KEM+"),b=n.n(y),_=n("ERkP"),g=n("s9SB"),S=n.n(g),w=n("3XMw"),k=n.n(w),E=n("cnVF"),O=n("Ukpf"),T=n("BTou"),C=n("mrHL"),P="LoginForm_Login_Button",R=n("fEA7"),D=n.n(R),L=n("MWbm"),I=n("Irs7"),A=n("/yvb"),x=n("rHpw");function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var B=k.a.e919c3bc,M=function(e){p()(n,e);var t=j(n);function n(){var e;c()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),b()(l()(e),"_mobileLoginToken",D.a.v1().replace(/-/g,"")),b()(l()(e),"_handleSubmit",(function(){var t=e.props,n=t.analytics,r=t.deregisterServiceWorkerBeforeSubmit,o=t.onSubmit;return n.scribe({action:"submit"}),r?(T.a.deregisterServiceWorker((function(){e._setLoginCookie(),o?o(e._form.elements):e._form.submit()})),!1):(T.a.flushHTMLCache(),e._setLoginCookie(),o?(o(e._form.elements),!1):void 0)})),b()(l()(e),"_handleSubmitButtonClick",(function(){!1!==e._handleSubmit()&&e._form.submit()})),b()(l()(e),"_setFormRef",(function(t){t&&(e._form=t)})),b()(l()(e),"_setLoginCookie",(function(){var t=new Date(Date.now());t.setTime(t.getTime()+3e5),Object(C.b)(S.a.serialize(E.o,e._mobileLoginToken,{domain:void 0,expires:t,path:"/",secure:!0}))})),e}return s()(n,[{key:"componentDidUpdate",value:function(e){this.props.autoSubmit&&!e.autoSubmit&&this._handleSubmitButtonClick()}},{key:"componentDidMount",value:function(){O.a.inject("https://twitter.com/i/js_inst?c_name=ui_metrics")}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.hideSubmitButton,r=e.horizontalLayout,i=e.formActionUrl,c=e.loginReturnPath,a=e.submitButtonDisabled,s=e.submitButtonLabel,u=e.submitButtonSize,l=e.submitButtonStyle,f=e.submitButtonType,p="string"==typeof c?c.split("?"):[],d=o()(p,2),h=d[0],m=d[1],v=encodeURI(h||"/"),y=m?"?".concat(m):"",b="".concat("").concat(v).concat(y),g=_.createElement(L.a,{style:r&&U.horizontalFields},_.createElement("input",{name:"redirect_after_login",type:"hidden",value:b}),_.createElement("input",{name:"remember_me",type:"hidden",value:"1"}),_.createElement("input",{name:"authenticity_token",type:"hidden",value:this._mobileLoginToken}),_.createElement("input",{name:"wfa",type:"hidden",value:"1"}),_.createElement("input",{autoComplete:"off",name:"ui_metrics",type:"hidden"}),t,n?null:_.createElement(L.a,{style:r&&U.loginButtonContainer},_.createElement(A.a,{disabled:a,onPress:this._handleSubmitButtonClick,size:u,style:l,testID:P,type:f},s)));return _.createElement(L.a,{style:U.loginForm},_.createElement("form",{action:i,children:g,method:"post",noValidate:!0,onSubmit:this._handleSubmit,ref:this._setFormRef}))}}]),n}(_.Component);b()(M,"defaultProps",{autoSubmit:!1,deregisterServiceWorkerBeforeSubmit:!1,formActionUrl:"/sessions",hideSubmitButton:!1,submitButtonDisabled:!1,submitButtonLabel:B,submitButtonType:"primary"});var U=x.a.create((function(e){return{horizontalFields:{flexDirection:"row",justifyContent:"center",alignItems:"stretch"},loginForm:{width:"100%"},loginButtonContainer:{flexDirection:"column",justifyContent:"center"}}}));t.a=Object(I.a)(M,{element:"inline_login_form"})},Ukpf:function(e,t,n){"use strict";var r={inject:function(e){var t=document.createElement("script");t.async=!0,t.src=e;var n=document.body;n&&n.appendChild(t)}};t.a=r},aD6h:function(e,t,n){"use strict";n("7x/C"),n("OZaJ"),n("DZ+c");var r=n("VrFO"),o=n.n(r),i=n("Y9Ll"),c=n.n(i),a=n("5Yy7"),s=n.n(a),u=n("N+ot"),l=n.n(u),f=n("AuHH"),p=n.n(f),d=n("KEM+"),h=n.n(d),m=n("ERkP"),v=n("Hde2"),y=n("yt7X"),b=n("496R");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var g=function(e){s()(n,e);var t=_(n);function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){return this.props.hideEUBanner?null:m.createElement(v.a,null,m.createElement(y.a,null))}}]),n}(m.PureComponent);h()(g,"defaultProps",{hideEUBanner:!1}),t.a=Object(b.a)(g)},donR:function(e,t,n){"use strict";n.r(t),n.d(t,"inputDetect",(function(){return Bt})),n.d(t,"BottomEUBanner",(function(){return Mt})),n.d(t,"DtabBar",(function(){return Ut})),n.d(t,"GlobalKeyboardShortcuts",(function(){return Nt})),n.d(t,"LivePipeline",(function(){return Ft})),n.d(t,"ModalSheet",(function(){return Kt})),n.d(t,"SmartLockPrompt",(function(){return Ht})),n.d(t,"Seo",(function(){return zt})),n.d(t,"Toast",(function(){return Yt})),n.d(t,"appReloader",(function(){return Xt})),n.d(t,"badgeTimers",(function(){return Vt})),n.d(t,"bindKeyboardShortcuts",(function(){return qt})),n.d(t,"ie11Reflower",(function(){return Wt})),n.d(t,"multiAccountListFetcher",(function(){return Zt})),n.d(t,"redirectEmailUser",(function(){return Gt})),n.d(t,"scribeExternalReferer",(function(){return Jt})),n.d(t,"getScreenReaderShortcutsDataAttribute",(function(){return Qt})),n.d(t,"altSvc",(function(){return $t})),n.d(t,"AppInstallOnLandingPrompt",(function(){return en}));var r={};n.r(r),n.d(r,"initialize",(function(){return S})),n.d(r,"detectedTypes",(function(){return w})),n.d(r,"detectedType",(function(){return k})),n.d(r,"register",(function(){return E})),n.d(r,"registerSome",(function(){return O})),n.d(r,"registerEvery",(function(){return T})),n.d(r,"unregister",(function(){return C})),n.d(r,"reset",(function(){return P})),n.d(r,"KEYBOARD",(function(){return d})),n.d(r,"MOUSE",(function(){return h})),n.d(r,"_private",(function(){return R}));var o,i,c=n("3+LL"),a=(n("DfhM"),n("LW0h"),n("jwue"),n("vrRf"),n("5BYb"),n("Ee2X"),n("+KXO"),n("+oxZ"),n("VrFO")),s=n.n(a),u=n("KEM+"),l=n.n(u),f=n("z0MJ"),p=n.n(f),d="keyboard",h="mouse",m=["textarea","input"],v=[],y=(o={},l()(o,d,!1),l()(o,h,!1),o),b=function e(t){var n=this;s()(this,e),l()(this,"_handleTimerEnd",(function(){n._count>=3&&n._handleDetected(),n._reset()})),l()(this,"_handleDetected",(function(){n._reset(),n.detach(),n.detected()})),l()(this,"_reset",(function(){clearTimeout(n._timer),n._timer=void 0,n._count=0})),l()(this,"_handleMouseMove",(function(){n._count=n._count+1,n._count>=3?n._handleDetected():n._timer||(n._timer=setTimeout(n._handleTimerEnd,500))})),l()(this,"attach",(function(){document.addEventListener("mousemove",n._handleMouseMove),document.addEventListener("touchend",n._reset)})),l()(this,"detach",(function(){document.removeEventListener("mousemove",n._handleMouseMove),document.removeEventListener("touchend",n._reset)})),this.detected=t,this._count=0},_=function e(t){var n=this;s()(this,e),l()(this,"_handleKeyDown",(function(e){var t=e.altKey,r=e.ctrlKey,o=e.metaKey,i=e.target,c=void 0===i?{}:i,a=c instanceof HTMLInputElement?c.nodeName:void 0;(t||r||o||!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==m.indexOf(e.toLowerCase())}(a))&&(n.detach(),n.detected())})),l()(this,"attach",(function(){document.addEventListener("keydown",n._handleKeyDown)})),l()(this,"detach",(function(){document.removeEventListener("keydown",n._handleKeyDown)})),this.detected=t};function g(e){y[e]=!0;var t=v.filter((function(e){return(0,e.matches)()})),n=v.filter((function(e){return!(0,e.matches)()}));v=n,t.forEach((function(e){return(0,e.callback)()}))}var S=function(){(i=[new _((function(){return g(d)})),new b((function(){return g(h)}))]).forEach((function(e){return e.attach()}))},w=function(){return Object.keys(y).filter((function(e){return y[e]}))},k=function(e){return y[e]},E=function(e,t){var n=function(){return y[t]};n()?p()(e):v.push({matches:n,callback:e})},O=function(e,t){var n=function(){return t.some((function(e){return y[e]}))};n()?p()(e):v.push({matches:n,callback:e})},T=function(e,t){var n=function(){return t.every((function(e){return y[e]}))};n()?p()(e):v.push({matches:n,callback:e})},C=function(e){var t=v.indexOf(e);t>-1&&v.splice(t,1)},P=function(){v=[],Object.keys(y).forEach((function(e){y[e]=!1})),i.forEach((function(e){return e.detach()}))},R={MOUSE_INTERVAL_TIME_IN_MS:500,SUCCESSIVE_MOUSE_EVENTS:3,detected:g},D=n("0KEI"),L=function(e,t,n){if(e.isTrue("responsive_web_alt_svc")){var r=n(Object(D.d)("APP_INITIALIZATION_ALT_SVC")({}));t.AltSvc.fetch().catch(r)}},I=(n("7x/C"),n("OZaJ"),n("DZ+c"),n("Y9Ll")),A=n.n(I),x=n("1Pcy"),j=n.n(x),B=n("5Yy7"),M=n.n(B),U=n("N+ot"),N=n.n(U),F=n("AuHH"),K=n.n(F),H=n("ERkP"),z=n("v6aA"),Y=(n("jQ3i"),n("x4t0"),n("rxPX")),X=function(e,t){return t.location.pathname.includes("/intent/")},V=function(e,t){return t.location.pathname.includes("/login")},q=Object(Y.a)().propsFromState((function(){return{isIntentRoute:X,isLoginRoute:V}})).adjustStateProps((function(e){var t=e.isIntentRoute,n=e.isLoginRoute;return{hideAppPrompt:t||n}})),W=n("wrlS"),Z=n("RxYA"),G=n("TnY3");function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K()(e);if(t){var o=K()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N()(this,n)}}var Q=function(e){M()(n,e);var t=J(n);function n(e,r){var o;s()(this,n),o=t.call(this,e,r),l()(j()(o),"_handleClose",(function(){o.setState({showPrompt:!1})}));var i=o.context.loggedInUserId,c=!e.hideAppPrompt&&!i&&W.b.isTrue("responsive_web_use_app_prompt_enabled");return o.state={showPrompt:c},o}return A()(n,[{key:"render",value:function(){return this.state.showPrompt?H.createElement(Z.a,{onClose:this._handleClose,onlyShowOnce:!0,useBottomBanner:!0}):null}}]),n}(H.Component);l()(Q,"contextType",z.a);var $=Object(G.a)(q(Q)),ee=n("RqPI"),te=n("k49u"),ne=n("2g+p"),re=n("auX9"),oe=n("fs1G"),ie=n("sJRb"),ce=n("B5iK"),ae=n("l0YN"),se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;window.requestIdleCallback?window.requestIdleCallback((function(){return e.fire()})):setTimeout((function(){return e.fire()}),t)},ue=function(e){if(!!ee.e(e.getState())){var t=e.dispatch(Object(D.d)("BADGE_TIMERS")(l()({showToast:!1},te.a.AccessDeniedByBouncer,{customAction:oe.a}))),n=function(n){return e.dispatch(n).catch(t)},r=new ce.b(3e4).interval((function(){"background"!==ne.a.currentState&&(n(Object(ae.b)()),Object(re.b)(e.getState()).forEach(n))}));r.start(),se(r);var o=new ce.b(3e4).interval((function(){"background"!==ne.a.currentState&&e.dispatch(ie.b.fetchInitialOrTop({polling:!0})).catch(t)}));o.start(),se(o);ne.a.addEventListener("change",(function(e){"active"===e&&(se(r),se(o))}))}},le=n("+Aie"),fe=n.n(le);var pe=n("aD6h"),de=(n("lTEL"),n("7xRU"),n("87if"),n("kYxP"),n("Cm4o"),n("Hde2")),he=n("P1r1"),me=Object(Y.a)().propsFromState((function(){return{dtabBarInfo:he.l}})).adjustStateProps((function(e){var t=e.dtabBarInfo;return{dtabAll:t&&t.dtabAll,dtabRweb:t&&t.dtabRweb,hide:t&&t.hide,ttsToken:t&&t.ttsToken}})).propsFromActions((function(){return{setDtabBarInfo:he.A}})),ve=n("8jkQ"),ye=n("/yvb"),be=n("mw9i"),_e=n("t62R"),ge=n("rHpw");function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K()(e);if(t){var o=K()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N()(this,n)}}var we=function(e){M()(n,e);var t=Se(n);function n(e,r){var o;return s()(this,n),o=t.call(this,e,r),l()(j()(o),"_renderButtons",(function(){return H.createElement(H.Fragment,null,H.createElement(ye.a,{onClick:o._handleInfo,size:"small",type:"destructive"},"Info"),H.createElement(ye.a,{onClick:o._handleClear,size:"small",type:"destructive"},"Clear"),H.createElement(ye.a,{onClick:o._handleClose,size:"small",type:"destructive"},"Hide"))})),l()(j()(o),"_handleInfo",(function(){var e=o._getOverrides();window.prompt(e.join("\n"),window.encodeURIComponent(e.join(";")))})),l()(j()(o),"_getOverrides",(function(){var e=o.props,t=e.dtabAll,n=e.ttsToken,r=[];return t&&!n?r=t:n&&(r=["tts_token=".concat(n)]),r.filter((function(e){return!!e}))})),l()(j()(o),"_handleClear",(function(){var e=o._getOverrides().join("\n"),t="OK to clear overrides?\n".concat(e);if(window.confirm(t)){var n=new URL(ve.b.get());n.searchParams.set("dtab_local",""),n.searchParams.set("tts_token",""),ve.b.navigateTo(n.toString())}})),l()(j()(o),"_handleClose",(function(){var e=o.props,t=e.dtabAll,n=e.dtabRweb,r=e.ttsToken,i=e.setDtabBarInfo;o.setState({show:!1}),i({dtabAll:t,dtabRweb:n,ttsToken:r,hide:!0})})),l()(j()(o),"_shouldShow",(function(){var e=o.props,t=e.dtabAll,n=e.ttsToken;return!(e.hide||!t&&!n)})),o.state={show:o._shouldShow()},o}return A()(n,[{key:"render",value:function(){var e=this.props,t=e.dtabAll,n=e.ttsToken||t?H.createElement(de.a,{style:ke.root},H.createElement(be.a,{isLarge:!0,style:ke.container,withGutter:!0},H.createElement(_e.c,{color:"whiteOnColor",numberOfLines:1,size:"small",style:ke.text},"Staging override is active"),this._renderButtons())):null;return this.state.show?n:null}}]),n}(H.PureComponent);l()(we,"defaultProps",{hide:!1});var ke=ge.a.create((function(e){return{root:{backgroundColor:e.colors.red},container:{alignItems:"center",flexDirection:"row",height:e.spaces.xLarge,justifyContent:"space-between"},text:{width:"100%"}}})),Ee=me(we),Oe=n("OrGc"),Te=n("rRIm"),Ce=n("aITJ"),Pe={init:function(e){Ce.a.isDesktopOS()&&Ce.a.isIE()&&ne.a.addEventListener("change",(function(t){if("active"===t&&e&&e.body){var n=e.body.style.display;e.body.style.display="none",e.body.clientHeight,e.body.style.display=n}}))}},Re=(n("2G9S"),n("z84I"),n("JtPf"),n("pXBW")),De=n("nS6Z");function Le(e){return e.json().then((function(e){return e.errors.some((function(e){return 392===e.code}))}))}function Ie(e){var t=e.promiseFactory,n=e.condition,r=e.sideEffect;return function(){var e=t.apply(void 0,arguments);return e.then(n).then((function(e){e&&r()})).then((function(){return e}),(function(){return e}))}}n("M+/F");var Ae=n("T0aG"),xe=n.n(Ae);n("KOtZ");function je(e){return Object.keys(Be(e))}function Be(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}var Me=function(){function e(t){var n=this,r=t.makeEventSource,o=t.callback,i=t.topics;s()(this,e),l()(this,"topics",[]),l()(this,"backoffDuration",0),l()(this,"_handleMessage",(function(e){var t=e.data;try{var r=JSON.parse(t);n.connection&&"/system/config"===r.topic&&(n.connection.hasConfig=!0),n.callback(r)}catch(o){}})),l()(this,"_handleError",(function(){if(n.connection&&n.connection.eventSource.readyState!==n.connection.eventSource.OPEN){var e,t,r,o,i,c=n.connection;if(!c||c.eventSource.readyState!==c.eventSource.CONNECTING||(e=c.topics,t=n._getTopicsForAutoSubscribe(),r=Be(e),o=Object.keys(r),i=je(t),o.length!==i.length||!i.every((function(e){return r[e]}))))n._cleanup(),n.connection&&n.connection.hasConfig?n.backoffDuration=1e3:n.backoffDuration=Math.max(1e3,Math.min(2*n.backoffDuration,6e4)),n.backoffTimeoutId=setTimeout(n._connect,n.backoffDuration*(.5+Math.random()))}})),l()(this,"_connect",(function(){n._cleanup();var e=n._getTopicsForAutoSubscribe();n.makeEventSource(e).then((function(t){if("object"!==xe()(t))throw new Error("EventSource must be defined");t.addEventListener("message",n._handleMessage),t.addEventListener("error",n._handleError),n.connection={eventSource:t,topics:e,hasConfig:!1}})).catch((function(){n._handleError()}))})),this.makeEventSource=r,this.callback=o,this.setTopics(i),this._connect()}return A()(e,[{key:"setTopics",value:function(e){this.topics=e}},{key:"getAutoSubscribedTopics",value:function(){return this.connection?this.connection.topics:[]}},{key:"_getTopicsForAutoSubscribe",value:function(){return this.topics.slice(0,e.MAX_AUTO_SUBSCRIBE_TOPICS)}},{key:"_cleanup",value:function(){var e=this.connection;e&&(e.eventSource.removeEventListener("message",this._handleMessage),e.eventSource.removeEventListener("error",this._handleError),e.eventSource.close(),this.connection=null),clearTimeout(this.backoffTimeoutId)}},{key:"teardown",value:function(){this._cleanup()}}]),e}();l()(Me,"MAX_AUTO_SUBSCRIBE_TOPICS",20);var Ue=n("+d3d"),Ne=function(){function e(t){var n=this;s()(this,e),l()(this,"sessionId",""),l()(this,"pendingState",{topics:[],forceSubscribeAll:!1}),l()(this,"appliedState",{topics:[]}),l()(this,"setTopics",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n.pendingState.topics=je(e),n._applyPendingState()})),l()(this,"_subscribeAll",(function(){n.pendingState.forceSubscribeAll=!0,n._applyPendingState()})),l()(this,"_applyPendingState",(function(){var e=n.pendingState.forceSubscribeAll?n.pendingState.topics:n.pendingState.topics.filter((function(e){return-1===n.appliedState.topics.indexOf(e)})),t=n.appliedState.topics.filter((function(e){return-1===n.pendingState.topics.indexOf(e)})),r=!n.sessionId,o=0===e.length&&0===t.length;r||o||(n.appliedState={topics:n.pendingState.topics},n.pendingState={topics:n.appliedState.topics,forceSubscribeAll:!1},n.updateSubscriptions({toSubscribe:e,toUnsubscribe:t,sessionId:n.sessionId}))}));var r=t.updateSubscriptions,o=t.throttlePeriod,i=void 0===o?e.UPDATE_SUBSCRIPTIONS_THROTTLE:o;this.updateSubscriptions=r,this.throttlePeriod=i,null!==i&&i>=0&&(this._applyPendingState=Object(Ue.a)(this._applyPendingState,i,{leading:!1}))}return A()(e,[{key:"setConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(clearInterval(this.intervalId),t&&t.config){this.sessionId=t.config.session_id,this.appliedState={topics:n},this._applyPendingState();var r=(t.config.subscription_ttl_millis||e.DEFAULT_TTL)-e.TIMEOUT_PREEMPT_DURATION;this.intervalId=setInterval(this._subscribeAll,r)}}},{key:"teardown",value:function(){clearInterval(this.intervalId),this.updateSubscriptions({toSubscribe:[],toUnsubscribe:this.appliedState.topics,sessionId:this.sessionId})}}]),e}();l()(Ne,"DEFAULT_TTL",12e4),l()(Ne,"TIMEOUT_PREEMPT_DURATION",2e4),l()(Ne,"UPDATE_SUBSCRIPTIONS_THROTTLE",1e3);var Fe,Ke=function(){function e(t){var n=this,r=t.makeEventSource,o=t.updateSubscriptions;s()(this,e),l()(this,"isSuspended",!1),l()(this,"eventSourceConnector",null),l()(this,"subscriptionsByTopic",{}),l()(this,"_closeEventSource",(function(){n._clearExpiryTimeout(),n.livePipelineResubscriber.setConfig(null),n.eventSourceConnector&&(n.eventSourceConnector.teardown(),n.eventSourceConnector=null)})),l()(this,"_restartEventSource",(function(){n._closeEventSource(),n._reconcileTopics()})),l()(this,"_handleMessage",(function(t){var r=t.topic,o=t.payload;r===e.SYSTEM_CONFIG_TOPIC&&n.eventSourceConnector&&n.livePipelineResubscriber.setConfig(o,n.eventSourceConnector.getAutoSubscribedTopics());var i=Promise.resolve(o);return(n.subscriptionsByTopic[r]||[]).map((function(e){return i.then(e.callback)}))})),this.makeEventSource=r,this.livePipelineResubscriber=new Ne({updateSubscriptions:Ie({promiseFactory:o,condition:Le,sideEffect:this._restartEventSource})})}return A()(e,[{key:"teardown",value:function(){this._clearExpiryTimeout(),this.subscriptionsByTopic={},this.livePipelineResubscriber.teardown(),this.eventSourceConnector&&(this.eventSourceConnector.teardown(),this.eventSourceConnector=null)}},{key:"suspend",value:function(){this.isSuspended=!0,this._reconcileTopics()}},{key:"resume",value:function(){this.isSuspended=!1,this._reconcileTopics()}},{key:"subscribeTopic",value:function(e,t){var n=this;if(!e)return{teardown:function(){}};var r={topic:e,callback:t};return this.subscriptionsByTopic[e]=this.subscriptionsByTopic[e]||[],this.subscriptionsByTopic[e].push(r),this._reconcileTopics(),{teardown:function(){var t=(n.subscriptionsByTopic[e]||[]).filter((function(e){return e!==r}));0===t.length?delete n.subscriptionsByTopic[e]:n.subscriptionsByTopic[e]=t,n._reconcileTopics()}}}},{key:"_reconcileTopics",value:function(){var t=this.isSuspended?[]:Object.keys(this.subscriptionsByTopic),n=t.length>0;n&&this._clearExpiryTimeout(),this.livePipelineResubscriber.setTopics(t),this.eventSourceConnector&&this.eventSourceConnector.setTopics(t),n&&!this.eventSourceConnector?(this._closeEventSource(),this.eventSourceConnector=new Me({makeEventSource:this.makeEventSource,callback:this._handleMessage,topics:t})):n||!this.eventSourceConnector||this.connectionExpiryTimeoutId||(this.connectionExpiryTimeoutId=setTimeout(this._closeEventSource,e.UNUSED_CONNECTION_EXPIRY))}},{key:"_clearExpiryTimeout",value:function(){clearTimeout(this.connectionExpiryTimeoutId),this.connectionExpiryTimeoutId=null}}]),e}();l()(Ke,"SYSTEM_CONFIG_TOPIC","/system/config"),l()(Ke,"UNUSED_CONNECTION_EXPIRY",3e4);var He={isSupported:function(e){return"EventSource"in window&&e.isTrue("livepipeline_client_enabled")},isSupportedAndReady:function(e){return this.isSupported(e)&&!!Fe},create:function(e,t,n){var r=this;if(!this.isSupported(e))throw new Error("This browser does not support LivePipeline");if(Fe)throw new Error("LivePipeline should only be initialized once");return Fe=new Ke({makeEventSource:function(e){var t=function(e){var t=e.map(encodeURIComponent).join(","),r=function(e){return"".concat(e,"/live_pipeline/events?topic=").concat(t)},o=r(De.b),i=n.getReplacementHost(new URL(o));return i?r("https://".concat(i)):o}(e);return Promise.resolve(new window.EventSource(t,{withCredentials:!0}))},updateSubscriptions:function(e){return t.LivePipeline.updateSubscriptions(e).catch((function(e){if(e)if(e instanceof Re.a&&Object(te.c)(e,te.a.SessionNotFound))Fe&&Fe._restartEventSource();else if(!(e instanceof Re.a)&&e instanceof Error)return Promise.reject(e);return Promise.resolve()}))}}),ne.a.addEventListener("change",(function(e){return r._handleAppStateChange(e)})),Fe},get:function(){if(!Fe)throw new Error("LivePipeline instance has not been initialized");return Fe},destroy:function(){Fe&&Fe.teardown(),Fe=void 0},_handleAppStateChange:function(e){"active"===e?this.get().resume():this.get().suspend()}},ze=n("pf9B"),Ye=function(e){var t=Object(D.d)("MULTI_ACCOUNT_LIST_UPDATER"),n=e.dispatch(t(l()({showToast:!1},te.a.AccessDeniedByBouncer,{customAction:oe.a}))),r=function(t){return e.dispatch(t).catch(n)};(window.requestIdleCallback||window.requestAnimationFrame)((function(){r(Object(re.d)()).then((function(){Object(re.b)(e.getState()).forEach(r)}))}))},Xe=(n("KqXw"),n("MvUL"),n("Sp5X")),Ve=["/login/error","/i/sms_login"],qe=function(e){var t=!ee.e(e),n=ee.c(e);if(t&&n&&Xe.a){var r=Xe.a.location.pathname;-1===Ve.indexOf(r)&&Xe.a.replace({pathname:"/i/sms_login"})}},We=n("Mx3A"),Ze=n("YeIG"),Ge=n("cnVF"),Je=n("mrHL"),Qe={client:Ge.s,page:"external",action:"referred"},$e=function(e,t,n){var r=function(e){return n.dispatch(Object(D.d)(e)({}))},o=Xe.a&&Xe.a.location.query,i=We.c({query:o,httpReferer:document.referrer||"",requestUrl:window.location.href});if(Object(Ze.a)(i))return Promise.resolve();if(i.referer&&!ve.b.isExternalUrl(i.referer)&&!ve.b.isInternalRedirect(i.referer))return Promise.resolve();i.referer||(i.referer=""),i.referral_details_str||(i.referral_details_str=""),i.referral_type||(i.referral_type=0);var c=Object(Je.a)("external_referer");c&&(i.external_referer_cookie_value=c);var a=i.referral_type===We.a.Access,s=Qe;c&&a&&(s.action="set_access_referer_cookie");var u,l=t.createEventObject(s,"client_event",i),f=t.createPayload([l]);u=i?e.Ocf.referer({landing_url:i.url,referral_details:i.referral_details_str||void 0,referrer_url:i.referer||void 0}).catch((function(){return r("OCF_EXTERNAL_REFERER")})):Promise.resolve();var p=e.Jot.externalReferer(f).then((function(e){var t=We.b(e&&e[0]);t&&Object(Je.b)(t)})).catch((function(){return r("SCRIBE_EXTERNAL_REFERER")}));return Promise.all([p,u])},et=n("6/RC"),tt=n("muX9"),nt=n("O6Yq");function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K()(e);if(t){var o=K()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N()(this,n)}}var ot=function(e){M()(n,e);var t=rt(n);function n(){return s()(this,n),t.apply(this,arguments)}return A()(n,[{key:"render",value:function(){var e;et.canUseDOM&&(e=window.location.href);var t=e?{canonical:nt.a.getCanonicalUrl(e)}:null;return t?H.createElement(tt.a,null,H.createElement("link",{href:t.canonical,rel:"canonical"})):null}}]),n}(H.PureComponent),it=Object(G.a)(ot),ct=(n("1t7P"),n("ho0z"),n("daRM"),n("FtHn"),Object(Y.a)().propsFromState((function(){return{loginReturnPath:ee.h}})).withAnalytics({component:"smartlock_prompt"})),at=n("6oVL"),st=n("SrIh"),ut=n("BnI0"),lt=n("pQ3Z"),ft=n.n(lt),pt=n("MWbm");n("aWzz");function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K()(e);if(t){var o=K()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N()(this,n)}}var vt=["/settings","/signup","/login/error","/i/flow/signup","/login/check"],yt=function(e){M()(n,e);var t=mt(n);function n(e,r){var o;return s()(this,n),(o=t.call(this,e,r)).state={autoSubmit:!1,password:"",smartLockDisabled:!1,userName:""},o._smartLockSupported=!!(window.PasswordCredential&&navigator.credentials&&navigator.credentials.get)&&!r.loggedInUserId,o._isSmartLockDisabledFromCookie="1"===e.getCookie(Ge.u),o}return A()(n,[{key:"componentDidMount",value:function(){"/login/error"===this.props.location.pathname?Object(ut.a)():this._checkShouldDisplayPrompt()}},{key:"componentDidUpdate",value:function(e){ft()(e.location,this.props.location)||this._checkShouldDisplayPrompt()}},{key:"render",value:function(){var e=this.props.loginReturnPath,t=this.state,n=t.autoSubmit,r=t.password,o=t.userName;return this._shouldDisplaySmartLockPrompt()?H.createElement(pt.a,{style:bt.hidden},H.createElement(at.a,{autoSubmit:n,loginReturnPath:e},H.createElement("input",{name:"session[username_or_email]",type:"hidden",value:o}),H.createElement("input",{name:"session[password]",type:"hidden",value:r}))):null}},{key:"_scribeAction",value:function(e,t){this.props.analytics.scribe(ht(ht({},t),{},{action:e}))}},{key:"_checkShouldDisplayPrompt",value:function(){var e=this,t=this.props.location.pathname,n=this.state.smartLockDisabled;if(this._shouldDisplaySmartLockPrompt()){this._scribeAction("impression");var r=(n||this._isSmartLockDisabledFromCookie)&&"/login"===t?"required":"optional",o=!0;setTimeout((function(){return o=!1}),250),navigator.credentials.get({mediation:r,password:!0}).then((function(t){if(t){o?e._scribeAction("select",{element:"unmediated"}):e._scribeAction("select",{element:"mediated"});var n=t.id,r=t.password;e.setState({autoSubmit:!0,userName:n,password:r})}else e._smartLockSupported&&e.setState({smartLockDisabled:!0},ut.a),o?e._scribeAction("cancel",{element:"no_credentials"}):e._scribeAction("cancel",{element:"with_credentials"})}),(function(e){e&&"NotSupportedError"!==e.name&&"NotAllowedError"!==e.name&&"InvalidStateError"!==e.name&&Object(st.a)(e)}))}}},{key:"_shouldDisplaySmartLockPrompt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=this.context.loggedInUserId,n=e.location.pathname,r=this.state.smartLockDisabled,o="/login"===n||!this._isSmartLockDisabledFromCookie&&!r&&!vt.some((function(e){return e===n}));return!t&&this._smartLockSupported&&o}}]),n}(H.Component);l()(yt,"contextType",z.a),l()(yt,"defaultProps",{getCookie:Je.a});var bt=ge.a.create((function(e){return{hidden:{display:"none"}}})),_t=Object(G.a)(ct(yt)),gt=n("1YZw"),St=Object(Y.a)().propsFromState((function(){return{toast:gt.d}})).propsFromActions((function(){return{onClose:gt.c}})),wt=(n("Ysgh"),n("uFXj"),n("97Jx")),kt=n.n(wt),Et=n("HPNB"),Ot=n("w0zD"),Tt="toast",Ct=n("0FVZ"),Pt=n("Oe3h"),Rt=n("cHvH"),Dt=n("+/1j");function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K()(e);if(t){var o=K()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N()(this,n)}}var It=function(e){M()(n,e);var t=Lt(n);function n(){var e;s()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),l()(j()(e),"_renderAriaOnly",(function(){var t=e.props.text;return H.createElement(pt.a,{accessibilityRole:"alert",style:ge.a.visuallyHidden,testID:Tt},H.createElement(Dt.a,null,t))})),l()(j()(e),"_renderContent",(function(t){var n=t.windowWidth,r=e.props,o=r.text,i=r.withAutoDismiss,c=r.withClearButton,a=Et.a.shouldRenderAsModal(n)?Ct.a.ModalToasts:Ct.a.Toasts;return H.createElement(a,null,H.createElement(be.a,null,H.createElement(Pt.a,null,(function(t,r){return H.createElement(pt.a,kt()({ref:t()},r({accessibilityRole:"alert",style:[At.root,n>ge.a.theme.breakpoints.medium&&At.rootWide],testID:Tt})),H.createElement(_e.c,{color:"whiteOnColor",style:At.titleText},o),H.createElement(pt.a,{importantForAccessibility:i?"no-hide-descendants":"yes",style:At.actionButtons},e._renderActionLabel(),c&&H.createElement(Ot.a,{onClose:e._handleClose,style:At.closeButton})))}))))})),l()(j()(e),"_createTimer",(function(){var t=e.props,r=t.actionLabel,o=t.autoDismissDelay,i=t.onClose,c=t.text;if(t.withAutoDismiss){var a=o||n.calculateDismissDelay(c,!!r);e._dismissTimer=new ce.b(a).timeout(i),e._dismissTimer.start()}})),l()(j()(e),"_handleActionPress",(function(t){e._stopTimer();var n=e.props,r=n.onAction,o=n.onClose;r&&r(t),o(t)})),l()(j()(e),"_handleClose",(function(t){e._stopTimer(),e.props.onClose(t)})),e}return A()(n,[{key:"componentDidMount",value:function(){this._createTimer()}},{key:"componentWillUnmount",value:function(){this._stopTimer()}},{key:"render",value:function(){return this.props.ariaOnly?this._renderAriaOnly():H.createElement(Rt.a,null,this._renderContent)}},{key:"_renderActionLabel",value:function(){var e=this.props,t=e.actionLabel,n=e.actionLink;if(t)return H.createElement(_e.c,{children:t,color:"whiteOnColor",link:n,onClick:this._handleActionPress,style:[At.actionText,!n&&At.actionMargin],weight:"bold",withInteractiveStyling:!0})}},{key:"_stopTimer",value:function(){this._dismissTimer&&this._dismissTimer.stop()}}],[{key:"calculateDismissDelay",value:function(e,t){var n=1e3*e.split(" ").length/5+225;return(n<4e3?4e3:n)+(t?2e3:0)}}]),n}(H.Component);l()(It,"defaultProps",{withAutoDismiss:!0,withClearButton:!1});var At=ge.a.create((function(e){return{root:{alignItems:"center",backgroundColor:e.colors.primary,flexDirection:"row",justifyContent:"space-between",padding:e.spaces.xSmall},rootWide:{alignSelf:"center",borderRadius:e.borderRadii.small,marginBottom:e.spaces.large},titleText:{flexShrink:1,paddingHorizontal:e.spaces.xSmall},actionText:{whiteSpace:"nowrap",marginRight:e.spaces.xSmall},actionButtons:{flexDirection:"row"},actionMargin:{marginHorizontal:e.spaces.xSmall},closeButton:{marginLeft:e.spaces.xSmall,paddingHorizontal:e.spaces.xxSmall}}})),xt=It,jt=St((function(e){var t=e.onClose,n=e.toast;return n?H.createElement(xt,{actionLabel:n.actionLabel,actionLink:n.actionLink,ariaOnly:n.ariaOnly,autoDismissDelay:n.autoDismissDelay,key:n.id,onAction:n.onAction,onClose:t,text:n.text,withAutoDismiss:n.withAutoDismiss,withClearButton:n.withClearButton}):null})),Bt=r,Mt=pe.a,Ut=Ee,Nt=Te.a,Ft=He,Kt=ze.a,Ht=_t,zt=it,Yt=jt,Xt=c,Vt=ue,qt=function(e,t){var n,r=Object.keys(e),o=!1,i=function(){o||(n=fe()(t),r.forEach((function(t){return n.bind(t,(r=e[t],function(e){e.preventDefault(),e.stopPropagation(),r(e)}));var r})))};return O(i,[d,h]),function(){o=!0,C(i),n&&n.unbind(r)}},Wt=Pe,Zt=Ye,Gt=qe,Jt=$e,Qt=Oe.c,$t=L,en=$},rRIm:function(e,t,n){"use strict";n.d(t,"b",(function(){return K}));n("1t7P"),n("2G9S"),n("LW0h"),n("jwue"),n("daRM"),n("FtHn"),n("+KXO"),n("7x/C"),n("OZaJ"),n("KqXw"),n("DZ+c"),n("LJOr"),n("+oxZ");var r=n("VrFO"),o=n.n(r),i=n("Y9Ll"),c=n.n(i),a=n("1Pcy"),s=n.n(a),u=n("5Yy7"),l=n.n(u),f=n("N+ot"),p=n.n(f),d=n("AuHH"),h=n.n(d),m=n("KEM+"),v=n.n(m),y=n("ERkP"),b=n("sTyV"),_=n("rxPX"),g=n("G6rE"),S=Object(_.a)().propsFromState((function(){return{loggedInUser:g.e.selectLoggedInUser}})).adjustStateProps((function(e){var t=e.loggedInUser;return{loggedInUserScreenName:t?t.screen_name:void 0}})),w=n("3XMw"),k=n.n(w),E=n("V/Zl"),O=n("OrGc"),T=n("QK5w"),C=n("aITJ"),P=n("MWbm"),R=n("TnY3"),D=n("rHpw"),L=n("t62R"),I=n("uScj"),A=n("BcsE");n("aWzz");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var M=k.a.b47e760d,U=k.a.fd2c7b43,N=new I.a,F=function(e){if(e.target instanceof HTMLInputElement){var t=e.target.tagName.toLowerCase();return"input"===t||"textarea"===t}return!1},K=function(e){return N.subscribe(e).unsubscribe},H=S(function(e){l()(n,e);var t=B(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),v()(s()(e),"_bindKeyboardShortcuts",(function(){var t,n,r,o=e.props,i=o.history,c=o.loggedInUserScreenName,a=function(e){return function(t){t.preventDefault(),N._listeners.length?N.notify(e):i.push({pathname:"/explore",state:{searchFocused:!0,searchPrefill:e}})}},s=(t={},v()(t,O.d.search,a()),v()(t,O.d.goToUser,a("@")),v()(t,O.d.openKeyboardShortcuts,(function(){return i.push("/i/keyboard_shortcuts")})),v()(t,O.d.goExplore,(function(){return i.push("/explore")})),v()(t,O.d.goSettings,(function(){return i.push("/settings")})),t),u=c?(n={},v()(n,O.d.goProfile,(function(){return i.push("/".concat(c))})),v()(n,O.d.goLikes,(function(){return i.push("/".concat(c,"/likes"))})),v()(n,O.d.goLists,(function(){return i.push("/".concat(c,"/lists"))})),n):{},l=j(j(j({},s),u),{},(r={},v()(r,O.d.goHome,(function(){return i.push("/home")})),v()(r,O.d.goDisplay,(function(){return i.push("/i/display")})),v()(r,O.d.goNotifications,(function(){return i.push("/notifications")})),v()(r,O.d.goMentions,(function(){return i.push("/notifications/mentions")})),v()(r,O.d.goMessages,(function(){return i.push("/messages")})),v()(r,O.d.newMessage,(function(){return i.push("/messages/compose")})),v()(r,O.d.newTweet,(function(){return i.push("/compose/tweet")})),v()(r,O.d.goBookmarks,(function(){return i.push("/i/bookmarks")})),r)),f=e.props.loggedInUserScreenName?l:s;e._unbindKeyboardShortcuts=Object(b.a)(f)})),v()(s()(e),"_handleKeyDown",(function(t){F(t)||"Backspace"!==t.key||(e._backspaceDown=Date.now(),t.preventDefault(),t.stopPropagation())})),v()(s()(e),"_handleKeyUp",(function(t){if(!F(t)&&"Backspace"===t.key){t.preventDefault(),t.stopPropagation();var n=e._backspaceDown,r=!!Object(A.a)(n)&&Date.now()-n<500,o=Object(T.a)({},{location:e.props.location});r&&o?e.props.history.goBack():window.close()}})),e}return c()(n,[{key:"componentDidMount",value:function(){this._bindKeyboardShortcuts(),C.a.isKaiOS()&&Object(E.a)()&&(document.addEventListener("keydown",this._handleKeyDown),document.addEventListener("keyup",this._handleKeyUp))}},{key:"componentWillUnmount",value:function(){this._unbindKeyboardShortcuts&&this._unbindKeyboardShortcuts(),C.a.isKaiOS()&&Object(E.a)()&&(document.removeEventListener("keydown",this._handleKeyDown),document.removeEventListener("keyup",this._handleKeyUp))}},{key:"render",value:function(){return this.props.loggedInUserScreenName?y.createElement(P.a,{accessibilityRole:"heading","aria-level":"2",style:D.a.visuallyHidden},y.createElement(L.c,null,M),y.createElement(L.c,{importantForAccessibility:"no",link:"/i/keyboard_shortcuts"},U)):null}}]),n}(y.Component));t.a=Object(R.a)(H)},w0zD:function(e,t,n){"use strict";n("7x/C"),n("OZaJ"),n("DZ+c");var r=n("VrFO"),o=n.n(r),i=n("Y9Ll"),c=n.n(i),a=n("5Yy7"),s=n.n(a),u=n("N+ot"),l=n.n(u),f=n("AuHH"),p=n.n(f),d=n("KEM+"),h=n.n(d),m=n("ERkP"),v=n("/yvb"),y=n("3XMw"),b=n.n(y),_=n("hOZg");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var S=b.a.ia5e7487,w=function(e){s()(n,e);var t=g(n);function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.ariaLabel,n=e.closeIcon,r=e.color,o=e.disabled,i=e.onClose,c=e.isOnMedia,a=e.size,s=e.style,u=n||m.createElement(_.a,null);return m.createElement(v.a,{accessibilityLabel:t||S,borderColor:"transparent",color:r,disabled:o,icon:u,onPress:i,size:a,style:s,type:c?"onMedia":void 0})}}]),n}(m.PureComponent);h()(w,"defaultProps",{color:"white",disabled:!1,size:"normal"}),t.a=w},yt7X:function(e,t,n){"use strict";n("2G9S"),n("7x/C"),n("OZaJ"),n("DZ+c"),n("hBvt");var r=n("VrFO"),o=n.n(r),i=n("Y9Ll"),c=n.n(i),a=n("1Pcy"),s=n.n(a),u=n("5Yy7"),l=n.n(u),f=n("N+ot"),p=n.n(f),d=n("AuHH"),h=n.n(d),m=n("KEM+"),v=n.n(m),y=n("ERkP"),b=n("rxPX"),_=n("RqPI"),g=Object(b.a)().propsFromState((function(){return{currentCountry:_.k}})),S=n("s9SB"),w=n.n(S),k=n("6/RC"),E=n.n(k),O=n("wrlS"),T=n("MWbm"),C=n("t62R"),P=n("cHvH"),R=n("rHpw"),D=n("mw9i"),L=n("/yvb"),I=n("3XMw"),A=n.n(I),x=(n("vrRf"),n("cnVF")),j=function(e,t,n){var r=e.indexOf(t.toLowerCase())>-1,o=n[x.i];return r&&"1"!==o},B=function(){E.a.canUseDOM&&(document.cookie=w.a.serialize(x.i,"1",{maxAge:31536e3,path:"/",domain:".twitter.com",secure:!0}))};function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var U=A.a.ia5e7487,N="https://help.twitter.com/rules-and-policies/twitter-cookies",F=function(e){l()(n,e);var t=M(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),v()(s()(e),"state",{euWarningIsOpen:!1}),v()(s()(e),"_renderMessage",(function(){return y.createElement(C.c,{color:"white",size:"small"},y.createElement(A.a.I18NFormatMessage,{$i18n:"i3c34582"},y.createElement(C.c,{color:"white",link:N,style:K.link},A.a.fd0ff73b)))})),v()(s()(e),"_handleEUBannerClose",(function(){B(),e.setState({euWarningIsOpen:!1})})),e}return c()(n,[{key:"componentDidMount",value:function(){var e=this.props.currentCountry,t=O.b.getArrayValue("responsive_web_eu_countries",[]),n=E.a.canUseDOM?w.a.parse(document.cookie):{};this.setState({euWarningIsOpen:!!e&&j(t,e,n)})}},{key:"render",value:function(){var e=this;return this.state.euWarningIsOpen?y.createElement(P.a,null,(function(t){var n=t.windowWidth<R.a.theme.breakpoints.medium;return y.createElement(T.a,{style:[K.root,n&&K.rootNarrow]},y.createElement(D.a,{isLarge:!0,style:[K.container]},e._renderMessage()),y.createElement(L.a,{onPress:e._handleEUBannerClose,size:"normalCompact",style:[K.closeButton,n&&K.closeButtonNarrow],type:"invertedSecondary"},U))})):null}}]),n}(y.Component),K=R.a.create((function(e){return{root:{alignItems:"center",backgroundColor:e.colors.deepGray,boxShadow:e.boxShadows.medium,flexDirection:"row",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,width:"100%"},rootNarrow:{flexDirection:"column"},container:{alignItems:"center",flexShrink:1},closeButton:{marginLeft:e.spaces.xSmall,marginTop:0,flexGrow:0,flexShrink:0},closeButtonNarrow:{marginLeft:0,marginTop:e.spaces.xSmall,width:"100%"},link:{textDecorationLine:"underline"}}})),H=g(F);t.a=H}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web-legacy/loader.AppModules.71886765.js.map