(window.webpackJsonp=window.webpackJsonp||[]).push([[60,157],{"+ZX+":function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n("dEMF"),a=n("1TxV"),i=n("Rl48");function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),a=(e=s(e,r)).write(t,n);a!==r&&(e=e.slice(0,a));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return M(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function _(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,a){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,a);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,a){var i,o=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var u=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===c)return u*o}else-1!==u&&(i-=i-u),u=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var d=!0,p=0;p<c;p++)if(l(e,i+p)!==l(t,p)){d=!1;break}if(d)return i}return-1}function v(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function g(e,t,n,r){return z(V(t,e.length-n),e,n,r)}function k(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return k(e,t,n,r)}function O(e,t,n,r){return z(M(t),e,n,r)}function E(e,t,n,r){return z(function(e,t){for(var n,r,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,a=n%256,i.push(a),i.push(r);return i}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var i,o,s,c,l=e[a],u=null,d=l>239?4:l>223?3:l>191?2:1;if(a+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(i=e[a+1]))&&(c=(31&l)<<6|63&i)>127&&(u=c);break;case 3:i=e[a+1],o=e[a+2],128==(192&i)&&128==(192&o)&&(c=(15&l)<<12|(63&i)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:i=e[a+1],o=e[a+2],s=e[a+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(c=(15&l)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),a+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):_.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,a){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(i,o),l=this.slice(r,a),u=e.slice(t,n),d=0;d<s;++d)if(l[d]!==u[d]){i=l[d],o=u[d];break}return i<o?-1:o<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return g(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",i=t;i<n;++i)a+=U(e[i]);return a}function P(e,t,n){for(var r=e.slice(t,n),a="",i=0;i<r.length;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,a,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function A(e,t,n,r){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-n,2);a<i;++a)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function T(e,t,n,r){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-n,4);a<i;++a)e[n+a]=t>>>8*(r?a:3-a)&255}function F(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,i){return i||F(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||F(e,0,n,8),a.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var a=t-e;n=new c(a,void 0);for(var i=0;i<a;++i)n[i]=this[i+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},c.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=t,a=1,i=this[e+--r];r>0&&(a*=256);)i+=this[e+--r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),a.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),a.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),a.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),a.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):T(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):T(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);D(this,e,t,n,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);D(this,e,t,n,a-1,-a)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):T(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):T(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a,i=r-n;if(this===e&&n<t&&t<r)for(a=i-1;a>=0;--a)e[a+t]=this[a+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=c.isBuffer(e)?e:V(new c(e,r).toString()),s=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||1/0;for(var r=e.length,a=null,i=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function M(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}}).call(this,n("fRV1"))},"1TxV":function(e,t){t.read=function(e,t,n,r,a){var i,o,s=8*a-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?a-1:0,p=n?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=p,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===i)i=1-l;else{if(i===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),i-=l}return(f?-1:1)*o*Math.pow(2,i-r)},t.write=function(e,t,n,r,a,i){var o,s,c,l=8*i-a-1,u=(1<<l)-1,d=u>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,h=r?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*c-1)*Math.pow(2,a),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[n+f]=255&s,f+=h,s/=256,a-=8);for(o=o<<a|s,l+=a;l>0;e[n+f]=255&o,f+=h,o/=256,l-=8);e[n+f-h]|=128*_}},"3GUV":function(e,t,n){"use strict";n("7x/C"),n("Blm6"),n("OZaJ"),n("DZ+c");var r=n("VrFO"),a=n.n(r),i=n("Y9Ll"),o=n.n(i),s=n("5Yy7"),c=n.n(s),l=n("N+ot"),u=n.n(l),d=n("AuHH"),p=n.n(d),f=n("ERkP"),h=n("rHpw"),_=n("MWbm");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var b=function(e){c()(n,e);var t=m(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return f.createElement(_.a,{style:y.root})}}]),n}(f.Component),y=h.a.create((function(e){return{root:{height:"".concat(5*parseInt(e.lineHeight,10),"rem")}}}));t.a=b},"53j7":function(e,t,n){"use strict";n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return E})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return P})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return A})),n.d(t,"h",(function(){return T})),n.d(t,"i",(function(){return N})),n.d(t,"j",(function(){return B}));n("1t7P"),n("2G9S"),n("LW0h"),n("jwue"),n("daRM"),n("FtHn"),n("+KXO"),n("7x/C"),n("JtPf"),n("+oxZ");var r=n("ddV6"),a=n.n(r),i=n("KEM+"),o=n.n(i),s=n("oEOe"),c=n("AspN"),l=n("/kEJ"),u=n("XMGw"),d=n("Ssj5");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h="".concat(u.a,"/profile"),_="rweb/".concat(h),m=function(e){return"".concat(_,"/").concat(e)},b=s.a(_,"REMOVE_PROFILE_BANNER"),y=s.a(_,"UPDATE_PROFILE"),v=s.a(_,"UPDATE_PROFILE_AVATAR"),g=s.a(_,"UPDATE_PROFILE_BANNER"),k=s.a(_,"UPLOAD_MEDIA"),w={avatarMediaId:null,bannerMediaId:null,isUploading:!1};var O=function(e){return e[h].avatarMediaId},E=function(e){return e[h].bannerMediaId},C=m("ADD_AVATAR_MEDIA"),S=function(e){return{meta:{mediaId:e},type:C}},x=m("REMOVE_AVATAR_MEDIA"),I=function(e){return{meta:{mediaId:e},type:x}},R=m("ADD_BANNER_MEDIA"),P=function(e){return{meta:{mediaId:e},type:R}},j=m("REMOVE_BANNER_MEDIA"),D=function(e){return{meta:{mediaId:e},type:j}},A=function(e){return function(t,n,r){var a=r.api;return s.b(t,{params:e,request:a.Settings.removeProfileBanner})({actionTypes:b,context:"ACTION_REMOVE_USER_BANNER"},(function(e){if(e)return[Object(l.c)({users:o()({},e.id_str,f(f({},e),{},{profile_banner_url:null}))})]}))}},T=function(e){return function(t,n,r){var a=r.api;return s.b(t,{params:e,request:a.Settings.updateProfile})({actionTypes:y,context:"ACTION_UPDATE_PROFILE_SETTINGS"},(function(e){if(e&&e.entities)return[Object(l.c)(e.entities)]}))}},F=function(e,t,n){return function(r){return function(i,u,d){var p=d.api;i({type:k.REQUEST});var f=c.k(r);return i(f).then((function(r){var c=a()(r,1)[0];i([{type:k.SUCCESS},{type:e.REQUEST}]);return s.b(i,{params:{media_id:c.uploadId},request:n(p)})({actionTypes:y,context:t},(function(e){if(e)return[Object(l.c)({users:o()({},e.id_str,e)})]}))}),(function(e){return i({type:k.FAILURE}),Promise.reject(e)}))}}},N=F(v,"ACTION_UPDATE_USER_AVATAR",(function(e){return e.Settings.updateProfileAvatar})),B=F(g,"ACTION_UPDATE_USER_BANNER",(function(e){return e.Settings.updateProfileBanner}));d.a.register(o()({},h,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case C:return f(f({},e),{},{avatarMediaId:t.meta.mediaId});case x:return f(f({},e),{},{avatarMediaId:null});case R:return f(f({},e),{},{bannerMediaId:t.meta.mediaId});case j:return f(f({},e),{},{bannerMediaId:null});case k.REQUEST:return f(f({},e),{},{isUploading:!0});case k.FAILURE:case k.SUCCESS:return f(f({},e),{},{isUploading:!1});default:return e}})))},"5UID":function(e,t,n){"use strict";n("7x/C"),n("OZaJ"),n("DZ+c");var r=n("VrFO"),a=n.n(r),i=n("Y9Ll"),o=n.n(i),s=n("5Yy7"),c=n.n(s),l=n("N+ot"),u=n.n(l),d=n("AuHH"),p=n.n(d),f=n("ERkP"),h=n("3XMw"),_=n.n(h),m=n("rHpw"),b=(n("aWzz"),n("+/1j")),y=n("MWbm");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var g=_.a.e5b0063d,k=0,w=function(e){c()(n,e);var t=v(n);function n(){var e;return a()(this,n),(e=t.call(this))._listDomId="accessible-list-".concat(k),k+=1,e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=g({title:n});return f.createElement(y.a,{accessibilityRole:"region","aria-labelledby":this._listDomId},f.createElement(b.a,{accessibilityRole:"heading","aria-level":1,nativeID:this._listDomId,style:m.a.visuallyHidden},n),f.createElement(y.a,{accessibilityLabel:r},t))}}]),n}(f.Component);t.a=w},"6XNv":function(e,t,n){"use strict";n("1t7P"),n("2G9S"),n("LW0h"),n("jwue"),n("z84I"),n("daRM"),n("FtHn"),n("+KXO"),n("7x/C"),n("OZaJ"),n("DZ+c"),n("uFXj"),n("+oxZ");var r=n("VrFO"),a=n.n(r),i=n("Y9Ll"),o=n.n(i),s=n("1Pcy"),c=n.n(s),l=n("5Yy7"),u=n.n(l),d=n("N+ot"),p=n.n(d),f=n("AuHH"),h=n.n(f),_=n("KEM+"),m=n.n(_),b=n("ERkP"),y=n("t62R"),v=n("FG+G"),g=n("rHpw"),k=(n("aWzz"),n("k/Ka")),w=n("MWbm");function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=b.forwardRef((function(e,t){return Object(k.a)("select",C(C({},e),{},{ref:t}))})),x=function(e){return Object(k.a)("option",e)},I=function(e){u()(n,e);var t=O(n);function n(){var e;a()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),m()(c()(e),"_selectRef",b.createRef()),m()(c()(e),"state",{isFocused:!1}),m()(c()(e),"_handleChange",(function(t){var n=e.props,r=n.onChange,a=n.withEmptyOption,i=t.target,o=i.selectedIndex,s=i.value;r&&r(s,o-(a?1:0))})),m()(c()(e),"_handleBlur",(function(t){var n=e.props.onBlur;e.setState({isFocused:!1}),n&&n()})),m()(c()(e),"_handleFocus",(function(t){var n=e.props.onFocus;e.setState({isFocused:!0}),n&&n()})),e}return o()(n,[{key:"componentDidMount",value:function(){this.props.autofocus&&this._selectRef&&this._selectRef.current&&this._selectRef.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.disabled,r=e.options,a=e.value,i=e.label,o=e.hasError,s=e.helperText,c=e.testID,l=e.withEmptyOption,u=this.state.isFocused;return b.createElement(b.Fragment,null,b.createElement(w.a,{style:[R.container,n&&R.disabled,R.bottomBorder,n&&R.bottomBorderDisabled,u&&R.bottomBorderFocused,o&&R.bottomBorderError,t]},this._renderLabel(),b.createElement(w.a,{style:R.dropdownContainer},b.createElement(S,{accessibilityLabel:i,disabled:n,onBlur:this._handleBlur,onChange:this._handleChange,onFocus:this._handleFocus,ref:this._selectRef,style:[R.select,i&&R.selectWithLabel,n&&R.disabled],testID:c||"",value:a},l?b.createElement(x,{disabled:!0,style:R.option,value:""}):null,r.map((function(e){var t=e.disabled,n=e.label,r=e.value;return b.createElement(x,{disabled:t,key:"".concat(n,"-").concat(r),style:R.option,value:r},n)}))),b.createElement(v.a,{style:[R.dropdownCaret,u&&R.dropdownCaretFocused,o&&R.dropdownCaretError]}))),s?this._renderHelperText():null)}},{key:"_renderLabel",value:function(){var e=this.props,t=e.hasError,n=e.label,r=this.state.isFocused;return b.createElement(y.c,{color:t?"red":r?"primary":"deepGray",style:R.label},n)}},{key:"_renderHelperText",value:function(){return b.createElement(w.a,{accessibilityLiveRegion:"polite"},b.createElement(y.c,{color:"deepGray",style:R.helperText},this.props.helperText))}}]),n}(b.PureComponent);m()(I,"defaultProps",{disabled:!1,autofocus:!1,withEmptyOption:!1}),I.propTypes={};var R=g.a.create((function(e){return{container:{backgroundColor:e.colors.faintGray,paddingHorizontal:e.spaces.xSmall,borderWidth:e.borderWidths.none},disabled:{cursor:"default",opacity:.5},dropdownCaret:{color:e.colors.deepGray,height:"".concat(1.5,"em"),pointerEvents:"none",position:"absolute",marginTop:"-".concat(.75,"em"),top:"50%",right:0},dropdownCaretFocused:{color:e.colors.primary},dropdownContainer:{position:"relative"},bottomBorder:{borderBottomWidth:e.borderWidths.medium,borderBottomColor:e.colors.deepGray,borderRadius:e.borderWidths.medium},bottomBorderFocused:{borderBottomColor:e.colors.primary},bottomBorderDisabled:{borderBottomColor:e.colors.transparent},dropdownCaretError:{color:e.colors.red},bottomBorderError:{borderBottomColor:e.colors.red},label:{alignSelf:"flex-start",paddingTop:e.spaces.xxSmall},option:{backgroundColor:e.colors.navigationBackground},select:{appearance:"none",backgroundColor:"transparent",borderRadius:e.borderWidths.none,borderWidth:e.borderWidths.none,color:e.colors.text,cursor:"pointer",fontSize:e.fontSizes.large,margin:0,outlineStyle:"none",padding:0,paddingRight:"".concat(1.5,"em"),paddingVertical:e.spaces.small},selectWithLabel:{paddingBottom:e.spaces.xxSmall,paddingTop:e.spaces.micro},helperText:{alignSelf:"flex-start",paddingHorizontal:e.spaces.xSmall,paddingTop:e.spaces.xxSmall}}}));t.a=I},"9D1O":function(e,t,n){"use strict";n.d(t,"k",(function(){return D})),n.d(t,"r",(function(){return A})),n.d(t,"j",(function(){return T})),n.d(t,"i",(function(){return F})),n.d(t,"n",(function(){return N})),n.d(t,"o",(function(){return B})),n.d(t,"p",(function(){return L})),n.d(t,"h",(function(){return U})),n.d(t,"q",(function(){return V})),n.d(t,"l",(function(){return M})),n.d(t,"s",(function(){return z})),n.d(t,"m",(function(){return H})),n.d(t,"b",(function(){return G})),n.d(t,"t",(function(){return W})),n.d(t,"w",(function(){return Z})),n.d(t,"f",(function(){return X})),n.d(t,"u",(function(){return Q})),n.d(t,"c",(function(){return J})),n.d(t,"y",(function(){return $})),n.d(t,"a",(function(){return ee})),n.d(t,"g",(function(){return te})),n.d(t,"v",(function(){return ne})),n.d(t,"d",(function(){return re})),n.d(t,"e",(function(){return ae})),n.d(t,"x",(function(){return ie}));n("1t7P"),n("2G9S"),n("LW0h"),n("hBpG"),n("jwue"),n("vrRf"),n("z84I"),n("KOtZ"),n("M+/F"),n("daRM"),n("FtHn"),n("+KXO"),n("7x/C"),n("JtPf"),n("DZ+c"),n("+oxZ");var r=n("m3Bd"),a=n.n(r),i=n("KEM+"),o=n.n(i),s=n("k49u"),c=n("zrOZ"),l=n("OIs+"),u=n("kGix"),d=n("Ssj5"),p=n("oEOe"),f=n("YlqV"),h=n("q82E");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b="rweb/".concat("ocf"),y=Object(p.a)(b,"FETCH"),v=Object(p.a)(b,"START"),g="".concat(b,"/CLEAR"),k="".concat(b,"/UPDATE"),w="".concat(b,"/NAVIGATE"),O="".concat(b,"/RESUME"),E="".concat(b,"/ATTRIBUTE"),C=Object(p.a)(b,"VERIFY_IDENTIFIER"),S=Object(c.a)(["signup"]),x=n("i+/A"),I={currentSubtask:null,failureMessage:"",fetchStatus:u.a.NONE,flowName:null,flowToken:null,shouldAbort:!1,shouldEndFlow:!1,submitFailed:!1,startLocation:{},subtasks:[],subtaskInputs:{},navigationContext:{action:""},navigationStack:[],flowData:{}},R=function(e,t){var n=e===l.a.Offline||e===s.a.ValidationFailure||e===s.a.OnboardingFlowRetriableFailure,r=!!t&&!h.j.has(Object(f.f)(t));return n&&r},P=function(e){var t=e&&Object(f.f)(e);return t===h.p.EmailVerification||t===h.p.PhoneVerification},j=function(e){return e===s.a.ValidationFailure||e===s.a.OnboardingFlowFailure||e===s.a.OnboardingFlowRetriableFailure};d.a.register(o()({},"ocf",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.REQUEST:return m(m({},I),{},{fetchStatus:u.a.LOADING,flowName:t.meta.flowName,startLocation:e.startLocation});case y.REQUEST:return m(m({},e),{},{fetchStatus:u.a.LOADING,submitFailed:!1});case w:var n=t.payload,r=n.navigationContext,a=n.navigationStack,i=n.sendPinCode,o=n.subtaskInputs,s=m({},e.subtaskInputs);for(var c in s)o[c]&&delete s[c];return m(m({},e),{},{currentSubtask:e.subtasks.find((function(e){return e.subtask_id===t.payload.subtaskId})),navigationContext:r,subtaskInputs:s,submitFailed:!1,navigationStack:a,sendPinCode:i});case E:return m(m({},e),{},{startLocation:t.payload});case k:var d=t.payload,p=d.subtaskInputs,f=d.flowData;return m(m({},e),{},{subtaskInputs:m(m({},e.subtaskInputs),p),flowData:m(m({},e.flowData),f)});case v.FAILURE:var h=t.payload.errors[0].code,_=t.payload.errors[0].message,b=h!==l.a.Offline,S=j(h)?_:void 0;return m(m({},e),{},{fetchStatus:u.a.FAILED,failureMessage:S,shouldAbort:b});case y.FAILURE:var x=t.payload.errors[0].code,D=t.payload.errors[0].message,A=j(x)?D:void 0,T=!R(x,e.currentSubtask);return m(m({},e),{},{fetchStatus:u.a.LOADED,failureMessage:A,shouldAbort:T,submitFailed:!0});case C.FAILURE:var F=t.payload.errors[0].code,N=t.payload.errors[0].message,B=j(F)?N:void 0;return m(m({},e),{},{verificationSendFailureMessage:B,sendPinCode:!1});case v.SUCCESS:case y.SUCCESS:var L=t.payload,U=L.flow_token,V=L.subtasks,M=t.meta||{},z=M.isTaskNavigation,q=V&&V.length?V[0]:null,H=P(q),G=!!z&&!q;return m(m({},e),{},{currentSubtask:q,fetchStatus:u.a.LOADED,flowToken:U,sendPinCode:H,shouldEndFlow:G,submitFailed:!1,subtasks:V,subtaskInputs:{},navigationStack:q?[q.subtask_id]:[]});case g:return m({},I);case O:return t.payload;case C.REQUEST:return m(m({},e),{},{verificationSendFailureMessage:void 0,sendPinCode:!1});default:return e}})));var D=function(e){return e.ocf.flowToken},A=function(e){return e.ocf.subtasks},T=function(e){return e.ocf.fetchStatus},F=function(e){return e.ocf.failureMessage},N=function(e){return e.ocf.shouldAbort},B=function(e){return e.ocf.shouldEndFlow},L=function(e){return e.ocf.submitFailed},U=function(e){return e.ocf.currentSubtask},V=function(e){return e.ocf.subtaskInputs},M=function(e){return e.ocf.navigationContext},z=function(e){return e.ocf.verificationSendFailureMessage},q=function(e){return e.ocf.navigationStack},H=function(e){var t=q(e),n=t?t.length:0;if(n<=1)return null;var r=e.ocf.subtasks.find((function(e){return e.subtask_id===t[n-2]}));return r.alert_dialog?t[n-3]:t[n-2]},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearPersistence;return function(e,n,r){var a=r.userPersistence;t&&a.set(b,{}),e({type:g})}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){r.api;var a=r.userPersistence,i=e.flow_name;return(S.has(i)?a.get(b,36e5):Promise.resolve(void 0)).then((function(n){return i&&n&&n[i]?t({payload:n[i],type:O}):t(Y(e))}))}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){var a=r.api,i=r.userPersistence,s=e.flow_name;return Object(p.b)(t,{params:e,request:a.Ocf.task})({actionTypes:v,context:"START_FLOW",meta:{flowName:s}}).then((function(e){return S.has(s)&&"success"===e.status&&i.set(b,o()({},s,n().ocf)),e}))}},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r,a){var i=o()({},e,t);r({type:k,payload:{subtaskId:e,subtaskInputs:i,flowData:n}})}},X=function(e){var t=e.subtaskId,n=e.navigationContext,r=e.destructive,a=e.fromHiddenSubtask;return function(e,i){var s=i(),c=q(s),l=c.indexOf(t),u=[],d={};if(a&&c.length)u=c.slice(0,-1).concat([t]);else if(-1===l)u=c.concat([t]);else{var p=l+1;u=c.slice(0,p),r&&(d=c.slice(p,c.length).reduce((function(e,t){return m(m({},e),{},o()({},t,{}))}),{}))}var f=function(e){return function(t){return e.ocf.subtasks.find((function(e){return e.subtask_id===t}))}}(s)(t),_=n&&n.action,b=_===h.o.ResendSms||_===h.o.ResendVoice||_===h.o.ResendEmail;"clear"===_&&(d[t]={});var y=P(f)&&(!_||b);e({type:w,payload:{navigationContext:m({action:""},n),sendPinCode:y,subtaskId:t,subtaskInputs:d,navigationStack:u}})}},K=function(e,t){return Object.keys(t).map((function(n){var r=e.find((function(e){return e.subtask_id===n})),a=r&&Object(f.e)(r);return o()({subtask_id:r.subtask_id},a,t[n])}))},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isTaskNavigation,n=a()(e,["isTaskNavigation"]);return function(e,r,a){var i=a.api,s=a.userPersistence,c=r(),l=D(c),u=A(c),d=V(c),f=K(u,d),h=m(m({},n),{},{flow_token:l,subtask_inputs:f});return Object(p.b)(e,{params:h,request:i.Ocf.task})({actionTypes:y,context:"SUBMIT_FLOW",meta:{isTaskNavigation:t}}).then((function(e){var t=r().ocf;return s.set(b,o()({},t.flowName,e.subtasks.length&&"success"===e.status?t:void 0)),e}))}};var J=function(e,t){return function(n,r){var a=t.should_generate,i=t.next_link,s=r().ocf.flowData,c=a?x(Math.ceil(10)).toString("hex").slice(0,20):s.OCF_GENERATED_PASSWORD;Z(e,{password:c,link:i.link_id},o()({},"OCF_GENERATED_PASSWORD",c))(n,r)}},$=function(e){return function(t,n,r){var a=r.api;if(n().ocf.sendPinCode){var i=D(n()),o=m(m({},e),{},{flow_token:i});return Object(p.b)(t,{params:o,request:a.Ocf.verifyUserIdentifier})({actionTypes:C,context:"VERIFY_IDENTIFIER"})}return Promise.resolve({})}},ee=function(e){return function(t,n,r){return r.api.Ocf.callOnboardingPath(e)}},te=function(e){return function(t,n,r){return r.api.Ocf.removeContacts(e)}},ne=function(e){return function(t,n,r){return r.api.Ocf.syncContacts(e)}},re=function(e){return function(t,n,r){return r.api.Ocf.getContactsImportStatus(e)}},ae=function(e){return function(t,n,r){return r.api.Ocf.getVerificationStatus(e)}},ie=function(e){return function(t,n,r){return r.api.Ocf.verificationLink(e)}}},EweD:function(e,t,n){"use strict";n("1t7P"),n("LW0h"),n("jwue"),n("daRM"),n("FtHn"),n("+KXO"),n("+oxZ");var r=n("KEM+"),a=n.n(r),i=n("ERkP"),o=n("Lsrn"),s=n("k/Ka");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s.a)("svg",l(l({},e),{},{style:[o.a.root,e.style],viewBox:"0 0 24 24"}),i.createElement("g",null,i.createElement("path",{d:"M16.04 7.266c-.45 0-.815.297-.947.7l-.03.113s-1.064-1.397-3.277-1.397c-2.855 0-4.928 2.4-4.928 5.706 0 2.495 1.755 4.525 3.912 4.525 2.307 0 3.632-1.492 3.632-1.492s.597 1.75 3.503 1.75c.49 0 4.837-.297 4.837-5.172 0-5.923-4.82-10.743-10.744-10.743-5.922 0-10.74 4.82-10.74 10.743 0 5.924 4.818 10.743 10.742 10.743 2.244 0 4.04-.544 5.82-1.765.163-.112.273-.283.31-.48s-.005-.394-.118-.557c-.224-.327-.71-.418-1.037-.193-1.516 1.04-3.05 1.504-4.976 1.504-5.102 0-9.25-4.15-9.25-9.25S6.9 2.75 12 2.75 21.25 6.9 21.25 12c0 2.916-1.822 3.9-3.234 3.9-.53 0-2.234-.213-1.906-2.103 0 0 .938-5.4.938-5.523-.002-.557-.452-1.008-1.01-1.008zm-2.235 6.55c-.58.83-1.378 1.305-2.247 1.335l-.105.003c-1.483 0-2.52-1.112-2.578-2.768-.075-2.12 1.366-3.964 3.146-4.027l.102-.002c1.423 0 2.417 1.07 2.474 2.66.035 1.024-.245 2.018-.79 2.8z"})))};u.metadata={width:24,height:24},t.a=u},H9wA:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("aWzz"),a={accessibilityLabel:r.string,accessibilityLiveRegion:Object(r.oneOf)(["assertive","none","polite"]),importantForAccessibility:r.bool,style:r.any}},"JfD+":function(e,t,n){var r=n("+ZX+"),a=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return a(e,t,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o),o.prototype=Object.create(a.prototype),i(a,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},K2mq:function(e,t,n){"use strict";n.r(t);var r=n("97Jx"),a=n.n(r),i=n("ERkP"),o=n("gPQO");t.default=function(e){return i.createElement(o.default,a()({},e,{flowName:"signup"}))}},LXAX:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return m}));n("1t7P"),n("2G9S"),n("LW0h"),n("jwue"),n("daRM"),n("FtHn"),n("+KXO"),n("+oxZ");var r=n("KEM+"),a=n.n(r),i=n("XMGw"),o=n("Ssj5"),s=n("oEOe");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u="".concat(i.a,"/usernames"),d="rweb/".concat(u),p=Object(s.a)(d,"FETCH_USERNAMES"),f={isLoaded:!1};var h,_=function(e){return e[u]},m=function(e){return function(t,n,r){var a=r.api;return Object(s.b)(t,{params:e,request:a.Settings.usernameAvailable})({actionTypes:p,context:"FETCH_SETTINGS_USERNAME_AVAILABLE",meta:{username:e.username}})}},b=(h="CLEAR_USERNAMES","".concat(d,"/").concat(h));o.a.register(a()({},u,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.REQUEST:return l(l({},e),{},{isLoading:!0});case p.FAILURE:return l(l({},e),{},{isLoading:!1});case p.SUCCESS:return l(l(l({},e),t.payload),{},{username:t.meta.username,isLoading:!1});case b:return{isLoading:!1};default:return e}})))},Lam0:function(e,t,n){"use strict";n.d(t,"a",(function(){return W}));n("7x/C"),n("OZaJ"),n("DZ+c");var r=n("VrFO"),a=n.n(r),i=n("Y9Ll"),o=n.n(i),s=n("1Pcy"),c=n.n(s),l=n("5Yy7"),u=n.n(l),d=n("N+ot"),p=n.n(d),f=n("AuHH"),h=n.n(f),_=n("KEM+"),m=n.n(_),b=n("ERkP"),y=n.n(b),v=n("aWzz"),g=n.n(v);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var O=function(e){var t,n;function r(){var t;return(t=e.call(this)||this).handleExpired=t.handleExpired.bind(w(t)),t.handleErrored=t.handleErrored.bind(w(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(w(t)),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getValue=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},a.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},a.execute=function(){var e=this.props.grecaptcha;if(e&&void 0!==this._widgetId)return e.execute(this._widgetId);this._executeRequested=!0},a.reset=function(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},a.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.props.onChange&&this.props.onChange(null)},a.handleErrored=function(){this.props.onErrored&&this.props.onErrored()},a.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var e=document.createElement("div");this._widgetId=this.props.grecaptcha.render(e,{sitekey:this.props.sitekey,callback:this.props.onChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(e)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},a.componentDidMount=function(){this.explicitRender()},a.componentDidUpdate=function(){this.explicitRender()},a.componentWillUnmount=function(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},a.delayOfCaptchaIframeRemoving=function(){var e=document.createElement("div");for(document.body.appendChild(e),e.style.display="none";this.captcha.firstChild;)e.appendChild(this.captcha.firstChild);setTimeout((function(){document.body.removeChild(e)}),5e3)},a.handleRecaptchaRef=function(e){this.captcha=e},a.render=function(){var e=this.props,t=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]));return y.a.createElement("div",k({},t,{ref:this.handleRecaptchaRef}))},r}(y.a.Component);O.displayName="ReCAPTCHA",O.propTypes={sitekey:g.a.string.isRequired,onChange:g.a.func,grecaptcha:g.a.object,theme:g.a.oneOf(["dark","light"]),type:g.a.oneOf(["image","audio"]),tabindex:g.a.number,onExpired:g.a.func,onErrored:g.a.func,size:g.a.oneOf(["compact","normal","invisible"]),stoken:g.a.string,hl:g.a.string,badge:g.a.oneOf(["bottomright","bottomleft","inline"])},O.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var E=n("oXkQ"),C=n.n(E);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x={},I=0;function R(){return"undefined"!=typeof window&&window.recaptchaOptions||{}}var P,j,D="onloadcallback",A=R(),T=(P=function(){var e=R(),t=e.lang?"&hl="+e.lang:"";return"https://"+(e.useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload="+D+"&render=explicit"+t},j=(j={callbackName:D,globalName:"grecaptcha",removeOnUnmount:A.removeOnUnmount||!1})||{},function(e){var t=e.displayName||e.name||"Component",n=function(t){var n,r;function a(e,n){var r;return(r=t.call(this,e,n)||this).state={},r.__scriptURL="",r}r=t,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=a.prototype;return i.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+I++),this.__scriptLoaderID},i.setupScriptURL=function(){return this.__scriptURL="function"==typeof P?P():P,this.__scriptURL},i.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,(function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)}))},i.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=x[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[j.callbackName]},i.componentDidMount=function(){var e=this,t=this.setupScriptURL(),n=this.asyncScriptLoaderGetScriptLoaderID(),r=j,a=r.globalName,i=r.callbackName,o=r.scriptId;if(a&&void 0!==window[a]&&(x[t]={loaded:!0,observers:{}}),x[t]){var s=x[t];return s&&(s.loaded||s.errored)?void this.asyncScriptLoaderHandleLoad(s):void(s.observers[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var c={};c[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)},x[t]={loaded:!1,observers:c};var l=document.createElement("script");l.src=t,l.async=!0,o&&(l.id=o);var u=function(e){if(x[t]){var n=x[t].observers;for(var r in n)e(n[r])&&delete n[r]}};i&&"undefined"!=typeof window&&(window[i]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),l.onload=function(){var e=x[t];e&&(e.loaded=!0,u((function(t){return!i&&(t(e),!0)})))},l.onerror=function(){var e=x[t];e&&(e.errored=!0,u((function(t){return t(e),!0})))},document.body.appendChild(l)},i.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===j.removeOnUnmount)for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n+=1)t[n].src.indexOf(e)>-1&&t[n].parentNode&&t[n].parentNode.removeChild(t[n]);var r=x[e];r&&(delete r.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===j.removeOnUnmount&&delete x[e])},i.render=function(){var t=j.globalName,n=this.props,r=(n.asyncScriptOnLoad,n.forwardedRef),a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,["asyncScriptOnLoad","forwardedRef"]);return t&&"undefined"!=typeof window&&(a[t]=void 0!==window[t]?window[t]:void 0),a.ref=r,Object(b.createElement)(e,a)},a}(b.Component),r=Object(b.forwardRef)((function(e,t){return Object(b.createElement)(n,S({},e,{forwardedRef:t}))}));return r.displayName="AsyncScriptLoader("+t+")",r.propTypes={asyncScriptOnLoad:g.a.func},C()(r,e)})(O),F=n("MWbm"),N=n("t62R"),B=n("/yvb"),L=n("rHpw"),U=n("3XMw"),V=n.n(U);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var z=V.a.c1df579e,q=V.a.b60eba9e,H=V.a.ba939777,G=V.a.bc6efc72,W=function(e){u()(n,e);var t=M(n);function n(e,r){var i;return a()(this,n),i=t.call(this,e,r),m()(c()(i),"_handlePass",(function(e){var t=i.props.onChange;t&&setTimeout((function(){return t(e)}),1e3)})),m()(c()(i),"_handleConsent",(function(){var e=i.props.onConsent;i.setState({termsAccepted:!0}),e&&e()})),i.state={termsAccepted:!1},i}return o()(n,[{key:"_renderConsentForm",value:function(){var e=this.props.nextButtonDisabled;return b.createElement(F.a,null,b.createElement(N.c,{style:Y.guideCopy},q),b.createElement(F.a,{style:Y.button},b.createElement(B.a,{disabled:e,onPress:this._handleConsent,size:"normalLarge",type:"secondary"},z)),b.createElement(N.c,{color:"deepGray"},b.createElement(V.a.I18NFormatMessage,{$i18n:"hc37d3ba"},b.createElement(N.c,{link:"https://policies.google.com/privacy"},G))))}},{key:"_renderRecaptcha",value:function(){var e=this.props.withConsentForm;return b.createElement(b.Fragment,null,e?b.createElement(F.a,{style:Y.recaptchaTitle},b.createElement(N.c,{style:Y.guideCopy},H)):null,b.createElement(F.a,{style:Y.container},b.createElement(T,{onChange:this._handlePass,sitekey:"6LfOP30UAAAAAFBC4jbzu890rTdXBXBNHx9eVZEX"})))}},{key:"render",value:function(){var e=this.props.withConsentForm,t=this.state.termsAccepted;return e&&!t?this._renderConsentForm():this._renderRecaptcha()}}]),n}(b.Component),Y=L.a.create((function(e){return{container:{margin:"auto",transitionProperty:"opacity",transitionDelay:"2s"},button:{paddingVertical:e.spaces.medium},guideCopy:{paddingTop:e.spaces.xSmall},recaptchaTitle:{paddingBottom:e.spaces.medium}}}))},"N+xe":function(e,t,n){"use strict";n.r(t),n.d(t,"VerificationLanding",(function(){return z}));n("7x/C"),n("OZaJ"),n("KqXw"),n("DZ+c"),n("MvUL");var r=n("VrFO"),a=n.n(r),i=n("Y9Ll"),o=n.n(i),s=n("1Pcy"),c=n.n(s),l=n("5Yy7"),u=n.n(l),d=n("N+ot"),p=n.n(d),f=n("AuHH"),h=n.n(f),_=n("KEM+"),m=n.n(_),b=n("ERkP"),y=n("9D1O"),v=n("oEGd"),g=n("hqKg"),k=n("Hw0q"),w=Object(k.b)("user_identifier"),O=Object(k.b)("phone"),E=Object(k.b)("email"),C=Object(k.b)("pin_code"),S=Object(g.createSelector)(E,w,O,C,(function(e,t,n,r){return{email:e,identifier:t,phone:n,pinCode:r}})),x={verificationLink:y.x},I=Object(v.g)(S,x),R=n("kGix"),P=n("v//M"),j=n("3XMw"),D=n.n(j),A=n("fs1G"),T=n("YCSy"),F=n("MWbm"),N=n("cmUU"),B=n("rHpw");function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var U=D.a.b5474bd2,V=D.a.a9b8fb38,M=D.a.j24c37b2,z=function(e){u()(n,e);var t=L(n);function n(e){var r;return a()(this,n),r=t.call(this,e),m()(c()(r),"_render",(function(){return b.createElement(N.a,{actionLabel:M,headline:r.state.title||"",onAction:r._handleCloseWindow,onClose:r._handleCloseWindow,subtext:r.state.message||"",withCloseButton:!1})})),m()(c()(r),"_handleCloseWindow",(function(){window&&window.close(),r.props.history.replace("/")})),r.state={title:void 0,message:void 0,fetchStatus:R.a.LOADING},r}return o()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.history,r=t.location,a=t.verificationLink,i=t.identifier,o=t.email,s=t.phone,c=t.pinCode;return n.replace(r.pathname),a({user_identifier:i,email:o,phone:s,pin_code:c}).then((function(t){return e.setState({fetchStatus:t.success?R.a.LOADED:R.a.FAILED,title:t.title,message:t.message})})).catch((function(){return e.setState({title:U,message:V,fetchStatus:R.a.FAILED})}))}},{key:"render",value:function(){var e=this.props.history;return b.createElement(T.a,{hideLogo:!0,history:e},b.createElement(F.a,{style:q.root},b.createElement(P.a,{fetchStatus:this.state.fetchStatus,onRequestRetry:A.a,render:this._render,renderFailure:this._render,retryable:!1})))}}]),n}(b.Component),q=B.a.create((function(e){return{root:{backgroundColor:e.colors.cellBackground,flexGrow:1,flexShrink:1}}}));t.default=I(z)},NeAX:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x})),n.d(t,"selectPreferences",(function(){return j})),n.d(t,"selectData",(function(){return D})),n.d(t,"selectUserPreferences",(function(){return A})),n.d(t,"selectPreferencesFetchStatus",(function(){return T})),n.d(t,"selectFetchDataStatus",(function(){return F})),n.d(t,"selectAge",(function(){return N})),n.d(t,"selectBirthdate",(function(){return B})),n.d(t,"selectHasExactAge",(function(){return L})),n.d(t,"selectGender",(function(){return U})),n.d(t,"selectLanguage",(function(){return V})),n.d(t,"selectSignupDetails",(function(){return M})),n.d(t,"selectTwitterInterests",(function(){return z})),n.d(t,"selectFetchTwitterInterestsStatus",(function(){return q})),n.d(t,"selectPartnerInterests",(function(){return H})),n.d(t,"selectFetchPartnerInterestsStatus",(function(){return G})),n.d(t,"clearLocations",(function(){return W})),n.d(t,"updateGender",(function(){return Y})),n.d(t,"updateLanguage",(function(){return Z})),n.d(t,"updateInterest",(function(){return X})),n.d(t,"fetchPreferencesIfNeeded",(function(){return K})),n.d(t,"updatePreferences",(function(){return J})),n.d(t,"updateSettings",(function(){return $})),n.d(t,"fetchDataIfNeeded",(function(){return te})),n.d(t,"createAudienceDownload",(function(){return re})),n.d(t,"createDataDownload",(function(){return ae})),n.d(t,"fetchTwitterInterestsIfNeeded",(function(){return ie})),n.d(t,"fetchPartnerInterestsIfNeeded",(function(){return se})),n.d(t,"syncSettings",(function(){return ue}));n("1t7P"),n("LW0h"),n("jwue"),n("vrRf"),n("KOtZ"),n("Ee2X"),n("daRM"),n("FtHn"),n("+KXO"),n("7x/C"),n("JtPf"),n("+oxZ");var r=n("ddV6"),a=n.n(r),i=n("KEM+"),o=n.n(i),s=n("RqPI"),c=n("P1r1"),l=n("cmwl"),u=n("hqKg"),d=n("kGix"),p=n("YeIG"),f=n("Ssj5"),h=n("oEOe");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b,y="rweb/".concat("personalization"),v=Object(h.a)(y,"FETCH_PREFERENCES"),g=Object(h.a)(y,"UPDATE_PREFERENCES"),k=Object(h.a)(y,"FETCH_DATA"),w=Object(h.a)(y,"UPDATE_COOKIES"),O=Object(h.a)(y,"FETCH_TWITTER_INTERESTS"),E=Object(h.a)(y,"FETCH_PARTNER_INTERESTS"),C=(b="CLEAR_LOCATIONS","".concat(y,"/").concat(b)),S={preferences:{data:{},fetchStatus:d.a.NONE},data:{data:{},fetchStatus:d.a.NONE},twitter_interests:{data:{},fetchStatus:d.a.NONE},partner_interests:{data:{},fetchStatus:d.a.NONE}};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.REQUEST:return m(m({},e),{},{preferences:m(m({},e.preferences),{},{fetchStatus:d.a.LOADING})});case v.SUCCESS:return m(m({},e),{},{preferences:{data:m(m({},e.preferences.data),t.payload),error:null,fetchStatus:d.a.LOADED}});case v.FAILURE:return m(m({},e),{},{preferences:m(m({},e.preferences),{},{error:t.payload,fetchStatus:d.a.FAILED})});case g.REQUEST:return m(m({},e),{},{preferences:{data:m(m({},e.preferences.data),t.payload),error:null,fetchStatus:d.a.LOADED}});case k.REQUEST:return m(m({},e),{},{data:m(m({},e.data),{},{fetchStatus:d.a.LOADING})});case k.SUCCESS:return m(m({},e),{},{data:{data:m(m({},e.data.data),t.payload),error:null,fetchStatus:d.a.LOADED}});case k.FAILURE:return m(m({},e),{},{data:m(m({},e.data),{},{error:t.payload,fetchStatus:d.a.FAILED})});case O.REQUEST:return m(m({},e),{},{twitter_interests:m(m({},e.twitter_interests),{},{fetchStatus:d.a.LOADING})});case O.SUCCESS:return m(m({},e),{},{twitter_interests:{data:m(m({},e.twitter_interests.data),t.payload),error:null,fetchStatus:d.a.LOADED}});case O.FAILURE:return m(m({},e),{},{twitter_interests:m(m({},e.twitter_interests),{},{error:t.payload,fetchStatus:d.a.FAILED})});case E.REQUEST:return m(m({},e),{},{partner_interests:m(m({},e.partner_interests),{},{fetchStatus:d.a.LOADING})});case E.SUCCESS:return m(m({},e),{},{partner_interests:{data:m(m({},e.partner_interests.data),t.payload),error:null,fetchStatus:d.a.LOADED}});case E.FAILURE:return m(m({},e),{},{partner_interests:m(m({},e.partner_interests),{},{error:t.payload,fetchStatus:d.a.FAILED})});case C:return m(m({},e),{},{data:m(m({},e.data),{},{data:m(m({},e.data.data),{},{location_history:[]})})});default:return e}}f.a.register(o()({},"personalization",x));var I={allowCookieUse:"use_cookie_personalization",allowDeviceAccess:"allow_logged_out_device_personalization",allowLocationHistoryUse:"allow_location_history_personalization",allowPartnerships:"allow_sharing_data_for_third_party_personalization",allowPersonalization:"allow_ads_personalization"},R={allowCookieUse:"use_cookie_personalization",allowDeviceAccess:"link_logged_out_devices",allowPartnerships:"share_data_with_third_party",allowPersonalization:"allow_ads_personalization"},P={use_age_for_personalization:"age_preferences",use_gender_for_personalization:"gender_preferences"},j=function(e){return e.personalization.preferences.data},D=function(e){return e.personalization.data.data},A=Object(u.createSelector)(s.e,j,c.f,(function(e,t,n){var r=e?[I,n]:[R,t],i=a()(r,2),o=i[0],s=i[1];return Object.keys(o).reduce((function(e,t){return e[t]=s[o[t]],e}),{})})),T=function(e){var t=j(e);return Object(p.a)(t)?e.personalization.preferences.fetchStatus:d.a.LOADED},F=function(e){return e.personalization.data.fetchStatus},N=function(e){return e.personalization.data.data.age?e.personalization.data.data.age:[]},B=function(e){return e.personalization.data.data.birth_date?e.personalization.data.data.birth_date:""},L=function(e){return!!e.personalization.data.data.has_exact_age},U=function(e){var t=D(e),n=j(e),r=n.gender_preferences&&n.gender_preferences.gender_override;return r&&r.type?r:{type:t.gender,value:t.gender}},V=function(e){return e.personalization.data.data.languages?e.personalization.data.data.languages:[]},M=function(e){return e.personalization.data.data.sign_up_details?e.personalization.data.data.sign_up_details:{}},z=function(e){return e.personalization.twitter_interests.data},q=function(e){return e.personalization.twitter_interests.fetchStatus},H=function(e){return e.personalization.partner_interests.data},G=function(e){return e.personalization.partner_interests.fetchStatus},W=function(){return function(e,t){var n=t(),r=j(n),a=Date.now(),i={location_preferences:m(m({},r.location_preferences),{},{override_times:[a]})};return e(J(i)).then((function(){return e({type:C})}))}},Y=function(e){return function(t,n){var r=n(),a={gender_preferences:m(m({},j(r).gender_preferences),{},{gender_override:e})};return t(J(a))}},Z=function(e,t){return function(n,r){if(Object(p.a)(e))return Promise.resolve();var a=r(),i=j(a),o=i.language_preferences.disabled_languages||[],s=o.indexOf(e),c=s>-1;if(c&&t)o.splice(s,1);else{if(c||t)return Promise.resolve();o.push(e)}var l={language_preferences:m(m({},i.language_preferences),{},{disabled_languages:o})};return n(J(l))}},X=function(e,t,n){return function(r,a){if(Object(p.a)(e)||-1===["ads","partner"].indexOf(n))return Promise.resolve();var i="partner"===n,s=a(),c=j(s).interest_preferences,l=i?"disabled_partner_interests":"disabled_interests",u=c[l],d=u.indexOf(e),f=d>-1;if(f&&t)u.splice(d,1);else{if(f||t)return Promise.resolve();u.push(e)}var h={interest_preferences:o()({disabled_interests:c.disabled_interests,disabled_partner_interests:c.disabled_partner_interests},l,u)};return r(J(h))}},K=function(){return function(e,t,n){n.api;var r=t().personalization.preferences;return r.fetchStatus!==d.a.LOADING&&r.fetchStatus!==d.a.LOADED?e(Q()):Promise.resolve()}},Q=function(){return function(e,t,n){var r=n.api;return Object(h.b)(e,{request:r.Personalization.fetchPreferences})({actionTypes:v,context:"FETCH_PERSONALIZATION_PREFERENCES"})}},J=function(e){return function(t,n,r){var a=r.api;return Object(p.a)(e)?Promise.resolve():Object(h.c)(t,{params:{preferences:e},request:a.Personalization.updatePreferences})({actionTypes:g,context:"ACTION_UPDATE_PERSONALIZATION_PREFERENCES",payload:e})}},$=function(e){return function(t,n,r){var a=r.api;if(Object(p.a)(e))return Promise.resolve();var i=n(),u=s.e(i),d=u?I:R,f=Object.keys(e).reduce((function(t,n){n in d&&(t[d[n]]=e[n]);n in P&&(t[P[n]]=o()({},n,e[n]));return t}),{});return u?t(c.D(f)).then((function(){Object(l.a)().then((function(e){e.updateBranchTracking(a)})),t(le(f))})):ee(t,f,a)}},ee=function(e,t,n){return Object(h.c)(e,{params:{preferences:t},request:n.Personalization.updatePreferences})({actionTypes:g,context:"ACTION_UPDATE_PERSONALIZATION_PREFERENCES",payload:t}).then((function(){Object(l.a)().then((function(e){e.updateBranchTracking(n)}))}))},te=function(){return function(e,t,n){n.api;var r=t().personalization.data;return r.fetchStatus!==d.a.LOADING&&r.fetchStatus!==d.a.LOADED?e(ne()):Promise.resolve()}},ne=function(){return function(e,t,n){var r=n.api;return Object(h.b)(e,{request:r.Personalization.fetchData})({actionTypes:k,context:"FETCH_PERSONALIZATION_DATA"})}},re=function(){return function(e,t,n){var r=n.api;return Object(h.d)(e,{request:r.Personalization.createAudienceDownload})("CREATE_AUDIENCE_DOWNLOAD")}},ae=function(){return function(e,t,n){var r=n.api;return Object(h.d)(e,{request:r.Personalization.createDataDownload})("CREATE_DATA_DOWNLOAD")}},ie=function(){return function(e,t,n){n.api;var r=t().personalization.twitter_interests;return r.fetchStatus!==d.a.LOADING&&r.fetchStatus!==d.a.LOADED?e(oe()):Promise.resolve()}},oe=function(){return function(e,t,n){var r=n.api;return Object(h.b)(e,{request:r.Personalization.fetchTwitterInterests})({actionTypes:O,context:"FETCH_PERSONALIZATION_TWITTER_INTERESTS"})}},se=function(){return function(e,t,n){n.api;var r=t().personalization.partner_interests;return r.fetchStatus!==d.a.LOADING&&r.fetchStatus!==d.a.LOADED?e(ce()):Promise.resolve()}},ce=function(){return function(e,t,n){var r=n.api;return Object(h.b)(e,{request:r.Personalization.fetchPartnerInterests})({actionTypes:E,context:"FETCH_PERSONALIZATION_PARTNER_INTERESTS"})}},le=function(e){return function(t,n,r){var a=r.api,i={};return e.hasOwnProperty("use_cookie_personalization")&&(i.use_cookie_personalization=e.use_cookie_personalization),e.hasOwnProperty("allow_ads_personalization")&&(i.allow_ads_personalization=e.allow_ads_personalization),Object(p.a)(i)?Promise.resolve():Object(h.b)(t,{params:i,request:a.Personalization.updateCookies})({actionTypes:w,context:"APP_UPDATE_PERSONALIZATION_COOKIES",params:i})}},ue=function(){return function(e,t,n){var r=n.api;return Object(h.d)(e,{request:r.Personalization.syncSettings})("SYNC_SETTINGS")}}},P68U:function(e,t,n){"use strict";n("2G9S"),n("hBpG"),n("hCOa"),n("jQ3i"),n("z84I"),n("7x/C"),n("OZaJ"),n("DZ+c"),n("x4t0"),n("87if"),n("uFXj");var r=n("VrFO"),a=n.n(r),i=n("Y9Ll"),o=n.n(i),s=n("1Pcy"),c=n.n(s),l=n("5Yy7"),u=n.n(l),d=n("N+ot"),p=n.n(d),f=n("AuHH"),h=n.n(f),_=n("KEM+"),m=n.n(_),b=n("ERkP"),y=n("oEGd"),v=n("AspN"),g={addMedia:v.b,processMultipleMedia:v.d},k=Object(y.b)(g),w=n("3XMw"),O=n.n(w),E=n("pKoL"),C=n("MWbm"),S=n("rFBM"),x=n("/yvb"),I=n("9Xij"),R=n("rHpw"),P=n("hOZg"),j=(n("1t7P"),n("LW0h"),n("jwue"),n("daRM"),n("FtHn"),n("+KXO"),n("+oxZ"),n("Lsrn")),D=n("k/Ka");function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(D.a)("svg",T(T({},e),{},{style:[j.a.root,e.style],viewBox:"0 0 24 24"}),b.createElement("g",null,b.createElement("path",{d:"M19.708 22H4.292C3.028 22 2 20.972 2 19.708V7.375C2 6.11 3.028 5.083 4.292 5.083h2.146C7.633 3.17 9.722 2 12 2c2.277 0 4.367 1.17 5.562 3.083h2.146C20.972 5.083 22 6.11 22 7.375v12.333C22 20.972 20.972 22 19.708 22zM4.292 6.583c-.437 0-.792.355-.792.792v12.333c0 .437.355.792.792.792h15.416c.437 0 .792-.355.792-.792V7.375c0-.437-.355-.792-.792-.792h-2.45c-.317.05-.632-.095-.782-.382-.88-1.665-2.594-2.7-4.476-2.7-1.883 0-3.598 1.035-4.476 2.702-.16.302-.502.46-.833.38H4.293z"}),b.createElement("path",{d:"M12 8.167c-2.68 0-4.86 2.18-4.86 4.86s2.18 4.86 4.86 4.86 4.86-2.18 4.86-4.86-2.18-4.86-4.86-4.86zm2 5.583h-1.25V15c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-1.25H10c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h1.25V11c0-.414.336-.75.75-.75s.75.336.75.75v1.25H14c.414 0 .75.336.75.75s-.336.75-.75.75z"})))};F.metadata={width:24,height:24};var N=F,B=n("VPdC");function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var U=O.a.b87ca51a,V=function(e){u()(n,e);var t=L(n);function n(){var e;a()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),m()(c()(e),"_getAcceptedFileInputs",(function(){var t=e.props,n=t.acceptGifs,r=t.acceptVideo;return Object(B.b)({acceptGifs:n,acceptVideo:r})})),m()(c()(e),"_handleAddMediaFiles",(function(t){var n=e.props,r=n.addMedia,a=n.location,i=n.onChange,o=n.onFailure,s=n.processMultipleMedia,c=e._getAcceptedFileInputs(),l=Array.from(t).find((function(e){return c.includes(e.type)}));l&&r([l],{location:a}).then((function(e){i&&i(e.map((function(e){return e.id}))),s(e,{onFailure:o})}))})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.borderRadius,n=e.maskStyle,r=e.mediaItem,a=e.onRemove,i=e.rootStyle,o=r&&!r.uploader;return b.createElement(C.a,{style:[z.container,i,M[t]]},b.createElement(S.a,{onFilesAdded:this._handleAddMediaFiles,style:[z.dragDropContainer,M[t]]},this._renderPreview(),o?null:b.createElement(b.Fragment,null,b.createElement(C.a,{style:[z.mask,n,M[t]]}),b.createElement(C.a,{style:z.mediaPicker},this._renderMediaPicker(),a?this._renderMediaRemove():null))))}},{key:"_renderMediaRemove",value:function(){var e=this.props.onRemove;return b.createElement(x.a,{accessibilityLabel:U,icon:b.createElement(P.a,null),onPress:e,style:z.remove,type:"invertedText"})}},{key:"_renderMediaPicker",value:function(){var e=this.props,t=e.acceptGifs,n=e.acceptVideo,r=e.accessibilityLabel;return b.createElement(B.a,{acceptGifs:t,acceptVideo:n,accessibilityLabel:r,icon:b.createElement(N,null),onChange:this._handleAddMediaFiles,type:"invertedText"})}},{key:"_renderPreview",value:function(){var e=this.props,t=e.aspectRatio,n=e.borderRadius,r=e.currentContent,a=e.mediaItem;return a?b.createElement(I.a,{ratio:t},b.createElement(E.a,{borderRadius:n,enableGif:!1,mediaItem:a,style:z.mediaPreview,withCloseButton:!1})):r}}]),n}(b.Component);m()(V,"defaultProps",{acceptGifs:!1,acceptVideo:!1,aspectRatio:1,borderRadius:"none"});var M=R.a.create((function(e){return{infinite:{borderRadius:e.borderRadii.infinite},medium:{borderRadius:e.borderRadii.small},none:{borderRadius:e.borderRadii.none}}})),z=R.a.create((function(e){return{mediaPreview:{height:"100%"},mediaPicker:{alignItems:"center",flexDirection:"row",height:"100%",justifyContent:"center",opacity:.75,position:"absolute",top:0,width:"100%"},remove:{marginLeft:e.spaces.large},mask:{backgroundColor:e.colors.translucentBlack30,height:"100%",position:"absolute",top:0,width:"100%"},container:{justifyContent:"center",overflow:"hidden"},dragDropContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.transparent,borderStyle:"solid"}}}));t.a=k(V)},P7wY:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=function(e,t,n){var r=new Date,a=r.getFullYear()-e,i=r.getMonth()+1-t;if(i<0)a-=1;else if(0===i){r.getDate()-n<0&&(a-=1)}return a},a=function(e,t,n){return!!(e&&t&&n)&&r(e,t,n)<18},i=function(){return(new Date).getFullYear()-120}},Rl48:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},S8sr:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));n("1t7P"),n("LW0h"),n("jwue"),n("jQ3i"),n("z84I"),n("daRM"),n("FtHn"),n("+KXO"),n("7x/C"),n("Blm6"),n("OZaJ"),n("KqXw"),n("DZ+c"),n("x4t0"),n("Ysgh"),n("uFXj"),n("+oxZ");var r=n("VrFO"),a=n.n(r),i=n("Y9Ll"),o=n.n(i),s=n("1Pcy"),c=n.n(s),l=n("5Yy7"),u=n.n(l),d=n("N+ot"),p=n.n(d),f=n("AuHH"),h=n.n(f),_=n("KEM+"),m=n.n(_),b=n("ERkP"),y=n("nS1w"),v=n("t62R"),g=n("p+r5"),k=n("3XMw"),w=n.n(k),O=n("6XNv"),E=n("rHpw"),C=n("aITJ"),S=n("MWbm");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var P=w.a.jf83d091,j=w.a.af4abf2f,D=w.a.b871f28f,A=function(e){u()(n,e);var t=R(n);function n(e){var r;a()(this,n),r=t.call(this,e),m()(c()(r),"_handleSelectorChange",(function(e,t){var n=r.props,a=n.month,i=n.year,o=I(I({},{day:n.day,month:a,year:i}),{},m()({},e,parseInt(t,10)));r.props.onChange(o)})),m()(c()(r),"_handleDayChange",(function(e){r._handleSelectorChange("day",e)})),m()(c()(r),"_handleMonthChange",(function(e){r._handleSelectorChange("month",e)})),m()(c()(r),"_handleYearChange",(function(e){r._handleSelectorChange("year",e)})),m()(c()(r),"_handleDateChange",(function(e){var t=e.target.value.split("-"),n={year:parseInt(t[0],10),month:parseInt(t[1],10),day:parseInt(t[2],10)};r.props.onChange(n)}));var i=e.day,o=e.maxSelectableYear,s=e.minSelectableYear,l=e.month,u=e.year;return r._monthOptions=y.c(),r._nativeDefaultValue=y.e(i,l,u),r._nativeMaxDate=y.e(31,12,o),r._nativeMinDate=y.e(1,1,s),r}return o()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.month,r=t.year,a=t.day,i=t.onChange,o=n&&n!==e.month,s=r&&r!==e.year;(o||s)&&(y.b(n,r).map((function(e){return parseInt(e.value,10)})).includes(a)||i({month:n,year:r,day:void 0}))}},{key:"render",value:function(){var e=this.props.errorMessage;return b.createElement(S.a,null,C.a.isMobileOS()?this._renderNativeDateInput():this._renderSelectors(),e?b.createElement(v.c,{color:"red"},e):null)}},{key:"_renderSelectors",value:function(){var e=this.props,t=e.day,n=e.month,r=e.year,a=e.errors,i=void 0===a?{}:a,o=e.label,s=e.autofocus,c=e.monthSelectorTestID,l=e.daySelectorTestID,u=e.yearSelectorTestID,d=e.style,p=e.minSelectableYear,f=e.maxSelectableYear,h=y.b(n,r),_=y.d(p,f,t,n);return b.createElement(S.a,{accessibilityLabel:o,accessibilityRole:"group",style:[T.selectorsContainer,d]},b.createElement(O.a,{autofocus:s,hasError:i.month,label:j,onChange:this._handleMonthChange,options:this._monthOptions,style:T.monthSelector,testID:c,value:n?"".concat(n):"",withEmptyOption:!0}),b.createElement(O.a,{hasError:i.day,label:P,onChange:this._handleDayChange,options:h,style:T.daySelector,testID:l,value:t?"".concat(t):"",withEmptyOption:!0}),b.createElement(O.a,{hasError:i.year,label:D,onChange:this._handleYearChange,options:_,style:T.yearSelector,testID:u,value:r?"".concat(r):"",withEmptyOption:!0}))}},{key:"_renderNativeDateInput",value:function(){var e=this.props.label;return b.createElement(g.a,{defaultValue:this._nativeDefaultValue,label:e,max:this._nativeMaxDate,min:this._nativeMinDate,name:e,numberOfLines:1,onChange:this._handleDateChange,style:T.dateInputRoot,type:"date"})}}]),n}(b.Component),T=E.a.create((function(e){return{selectorsContainer:{flexDirection:"row",marginVertical:e.spaces.small},monthSelector:{flexGrow:2,marginRight:e.spaces.xSmall},daySelector:{flexGrow:1,marginRight:e.spaces.xSmall},yearSelector:{flexGrow:1},dateInputRoot:{paddingHorizontal:0}}}))},TEoO:function(e,t,n){"use strict";var r=n("m3Bd"),a=n.n(r),i=n("ERkP"),o=n("5UID"),s=n("3GUV"),c=n("iBK2"),l=i.createElement(s.a,null),u=function(e){var t=e.accessibilityTitle,n=a()(e,["accessibilityTitle"]),r=i.createElement(c.b,n);return t?i.createElement(o.a,{title:t},r):r};u.defaultProps={footer:l},t.a=u},Ukpf:function(e,t,n){"use strict";var r={inject:function(e){var t=document.createElement("script");t.async=!0,t.src=e;var n=document.body;n&&n.appendChild(t)}};t.a=r},YCSy:function(e,t,n){"use strict";n("2G9S"),n("7x/C"),n("OZaJ"),n("DZ+c");var r=n("VrFO"),a=n.n(r),i=n("Y9Ll"),o=n.n(i),s=n("1Pcy"),c=n.n(s),l=n("5Yy7"),u=n.n(l),d=n("N+ot"),p=n.n(d),f=n("AuHH"),h=n.n(f),_=n("KEM+"),m=n.n(_),b=n("ERkP"),y=n("VAZu"),v=n("3XMw"),g=n.n(v),k=n("lUZE"),w=n("aITJ"),O=n("MWbm"),E=n("yw4N"),C=n("w9LO"),S=n("mw9i"),x=n("7N4s"),I=n("rHpw");function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var P=g.a.d2fb334b,j=function(e){u()(n,e);var t=R(n);function n(){var e;a()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),m()(c()(e),"_handleViewportSet",(function(t){var n=e.props.onViewportSet;n&&n(t)})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.scrollPrompt,r=this.context.isModal;return b.createElement(C.a,{style:[D.root,r&&D.rootModal]},this._renderAppBar(),b.createElement(S.a,{style:[D.container,r&&D.containerModal]},r?b.createElement(E.a,{onViewportSet:this._handleViewportSet,style:[D.viewport,w.a.isIE()&&D.viewportIE]},t):t,r?null:n),r?n:null)}},{key:"_renderAppBar",value:function(){var e=this.props,t=e.backLocation,n=e.hideBackButton,r=e.hideLogo,a=e.history,i=e.leftControl,o=e.onBackClick,s=e.rightControl,c=e.progressIndication,l=this.context.isModal,u=c||r?void 0:b.createElement(O.a,{style:D.iconContainer},b.createElement(k.a,{accessibilityLabel:P,style:D.icon})),d=c?c.text.text:void 0;return b.createElement(y.a,{backLocation:t,centeredLogo:u,fixed:!l,hideBackButton:n||!o,history:a,leftControl:i,onBackClick:o,rightControl:s,title:d,withBottomBorder:!1})}}]),n}(b.Component);m()(j,"contextType",x.a),m()(j,"defaultProps",{hideBackButton:!1,hideLogo:!1});var D=I.a.create((function(e){return{root:{display:"flex",flexGrow:1},rootModal:{backgroundColor:e.colors.cellBackground,flexShrink:1},container:{flexGrow:1},containerModal:{flexShrink:1},iconContainer:{alignItems:"center",alignSelf:"stretch",display:"flex",flexGrow:1,justifyContent:"center",minWidth:e.spaces.large},icon:{color:e.colors.brandColor,flexGrow:1,height:"1.75rem"},viewport:{flexGrow:1,flexShrink:1,overflow:"auto"},viewportIE:{flexBasis:"0%"}}}));t.a=j},YlqV:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return _})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return k})),n.d(t,"i",(function(){return w})),n.d(t,"g",(function(){return O}));n("1t7P"),n("LW0h"),n("hBpG"),n("jwue"),n("KOtZ"),n("daRM"),n("FtHn"),n("+KXO"),n("KqXw"),n("Ysgh"),n("+oxZ");var r=n("KEM+"),a=n.n(r),i=n("ddV6"),o=n.n(i),s=(n("ERkP"),n("zrOZ")),c=n("6/RC"),l=n("SrIh"),u=n("q82E");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){var r=t.key,a=t.subtask_id,i=e[a]&&e[a][r];return void 0===i?n:i}var h=function(e){return(e?e.split(","):[]).reduce((function(e,t){var n=t.split(":",2),r=o()(n,2),a=r[0],i=r[1];return a&&i&&(e[a]=i),e}),{})},_=function(e,t){var n=t?JSON.parse(t):{};return p(p({},e),n)},m=function(e){switch(e){case u.b.Primary:return"primary";case u.b.Text:return"text";case u.b.DestructiveSecondary:return"destructiveSecondary";default:return Object(l.a)("Unknown Button Style ${style}"),"primary"}},b={subtask_id:null,subtask_back_navigation:null,progress_indication:null,alert_dialog:u.p.AlertDialog,alert_dialog_suppress_client_events:u.p.AlertDialogSupressClientEvents,app_download_cta:u.p.AppDownloadCTA,cta:u.p.CallToAction,choice_selection:u.p.ChoiceSelection,contacts_live_sync_permission_prompt:u.p.ContactsLiveSyncPermissionPrompt,email_contacts_sync:u.p.EmailContactsSync,enter_email:u.p.EnterEmail,enter_phone:u.p.EnterPhone,email_verification:u.p.EmailVerification,enter_password:u.p.EnterPassword,enter_text:u.p.EnterText,enter_username:u.p.EnterUsername,end_flow:u.p.EndFlow,fetch_temporary_password:u.p.FetchPassword,interest_picker:u.p.InterestPicker,menu_dialog:u.p.MenuDialog,notifications_permission_prompt:u.p.NotificationsPermissionPrompt,open_account:u.p.OpenAccount,open_home_timeline:u.p.OpenHomeTimeline,open_link:u.p.OpenLink,phone_verification:u.p.PhoneVerification,privacy_options:u.p.PrivacyOptions,recaptcha:u.p.Recaptcha,select_avatar:u.p.SelectAvatar,select_banner:u.p.SelectBanner,settings_list:u.p.SettingsList,sign_up:u.p.Signup,sign_up_review:u.p.SignupReview,topics_selector:u.p.TopicsSelector,update_users:u.p.UpdateUsers,upload_media:u.p.UploadMedia,user_recommendations_list:u.p.UserRecommendations,user_recommendations_urt:u.p.UserRecommendationsURT,wait_spinner:u.p.WaitSpinner},y={contacts_live_sync_permission_prompt:c.canUseDOM&&"contacts"in navigator&&"ContactsManager"in window?1:0,email_verification:1,topics_selector:1,wait_spinner:1,cta:4},v=Object(s.a)([u.p.AlertDialogSupressClientEvents]),g=function(e){return e&&Object.keys(e).find((function(e){return b[e]}))||null},k=function(e){var t=g(e);return t?b[t]:null},w=function(e){var t=k(e);return!!t&&v.has(t)},O=function(e){return e===u.l.Boolean||e===u.l.PreciseLocation}},dEMF:function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=l(e),r=n[0],o=n[1],s=new i(function(e,t,n){return 3*(t+n)/4-n}(0,r,o)),c=0,u=o>0?r-4:r,d=0;d<u;d+=4)t=a[e.charCodeAt(d)]<<18|a[e.charCodeAt(d+1)]<<12|a[e.charCodeAt(d+2)]<<6|a[e.charCodeAt(d+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;2===o&&(t=a[e.charCodeAt(d)]<<2|a[e.charCodeAt(d+1)]>>4,s[c++]=255&t);1===o&&(t=a[e.charCodeAt(d)]<<10|a[e.charCodeAt(d+1)]<<4|a[e.charCodeAt(d+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,a=n%3,i=[],o=0,s=n-a;o<s;o+=16383)i.push(u(e,o,o+16383>s?s:o+16383));1===a?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===a&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],a=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)r[s]=o[s],a[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var a,i,o=[],s=t;s<n;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(i=a)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},fS8x:function(e,t,n){"use strict";var r=n("ERkP"),a=(n("7x/C"),n("OZaJ"),n("DZ+c"),n("VrFO")),i=n.n(a),o=n("Y9Ll"),s=n.n(o),c=n("1Pcy"),l=n.n(c),u=n("5Yy7"),d=n.n(u),p=n("N+ot"),f=n.n(p),h=n("AuHH"),_=n.n(h),m=n("KEM+"),b=n.n(m),y=n("rxPX"),v=n("/NU0"),g=n("AspN"),k=function(e,t){return t.media?t.media:Object(v.a)(t.mediaId)?Object(g.g)(e,t.mediaId)[0]:void 0},w=function(e,t){return void 0!==t.mediaId?t.mediaId:t.media?t.media.id:null},O=Object(y.a)().propsFromState((function(){return{media:k,mediaId:w}})).propsFromActions((function(){return{processMedia:g.c,updateMediaUpload:g.j}})).withAnalytics({page:"media",section:"edit"}),E=n("jHSc"),C=n("3XMw"),S=n.n(C),x=n("EeFI"),I=n("/yvb"),R=n("rHpw");function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var a=_()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var j=S.a.gd80afba,D=S.a.a753a87f,A=function(e){d()(n,e);var t=P(n);function n(e){var a;return i()(this,n),a=t.call(this,e),b()(l()(a),"_getMedia",(function(){var e=a.props.media;return e&&e.mediaFile&&e.mediaFile.isImage?e:null})),b()(l()(a),"_renderAppBarRightControl",(function(){var e=a.state.isProcessing;return r.createElement(I.a,{disabled:e,onPress:a._handleApplyButtonClick,size:"normalCompact",type:"primary"},D)})),b()(l()(a),"_handleBackClick",(function(){var e=a.props,t=e.analytics,n=e.onCancel;t.scribe({action:"cancel"}),n&&n()})),b()(l()(a),"_handleApplyButtonClick",(function(){var e=a.props.onCropDone,t=a._cropper.current;if(t){var n=a.props,r=n.analytics,i=n.media,o=n.mediaId,s=n.onDone,c=n.processMedia,l=n.updateMediaUpload;a.setState({isProcessing:!0});var u=t.getCropData(),d=(i||{}).originalMediaFile,p=!d||0===u.top&&0===u.left&&u.width===d.width&&u.height===d.height;Object(v.a)(o)&&(e?(e(u),s()):(l({id:o,cropData:p?void 0:u}),c(o).then((function(){a.setState({isProcessing:!1}),r.scribe({action:"done"}),s()}))))}})),a.state={isProcessing:!1},a._cropper=r.createRef(),e.media||e.onCancel(),a}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.defaultAspectRatio,n=e.history,a=e.title,i=e.withAspectRatioOptions,o=e.withZoomControl,s=this._getMedia();return r.createElement(E.b,{backButtonType:"back",containerStyle:T.root,documentTitle:a||j,history:n,onBackClick:this._handleBackClick,rightControl:this._renderAppBarRightControl(),title:a||j},r.createElement(x.a,{defaultAspectRatio:t,media:s,ref:this._cropper,withAspectRatioOptions:i,withZoomControl:o}))}}]),n}(r.Component),T=R.a.create((function(e){return{root:{flexShrink:1,height:650}}})),F=O(A),N=n("X8FW"),B=R.a.create((function(e){return{modal:{width:600,maxWidth:"90vw"}}}));t.a=function(e){return r.createElement(N.b,{clickMaskToClose:!1,location:e.location,modalSize:"fitChildren",style:B.modal},r.createElement(F,e))}},gPQO:function(e,t,n){"use strict";n.r(t),n.d(t,"OcfScreen",(function(){return Gs}));n("1t7P"),n("LW0h"),n("hBpG"),n("jwue"),n("z84I"),n("daRM"),n("FtHn"),n("+KXO"),n("7x/C"),n("JtPf"),n("OZaJ"),n("KqXw"),n("DZ+c"),n("MvUL"),n("+oxZ");var r=n("97Jx"),a=n.n(r),i=n("VrFO"),o=n.n(i),s=n("Y9Ll"),c=n.n(s),l=n("1Pcy"),u=n.n(l),d=n("5Yy7"),p=n.n(d),f=n("N+ot"),h=n.n(f),_=n("AuHH"),m=n.n(_),b=n("KEM+"),y=n.n(b),v=n("ERkP"),g=(n("2G9S"),n("+/5o")),k=n("eb3s"),w=(n("KOtZ"),n("M+/F"),n("k/Ka")),O=n("YlqV"),E=n("q82E"),C=n("t62R"),S=n("aWzz");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var I=function(e){return Object(w.a)("span",e)},R=function(e){p()(n,e);var t=x(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),y()(u()(e),"_textArray",(function(){var t=e.props,n=t.entities,r=t.subtaskInputs,i=t.text,o=t.size,s=t.color,c=t.weight;return n.reduce((function(t,l,u){var d,p=l.from_index,f=l.to_index,h=l.navigation_link,_=l.subtask_data_reference,m=n[u-1]?n[u-1].to_index:0,b=v.createElement(C.c,{color:s,key:"".concat(m,",").concat(p),size:o,weight:c},i.slice(m,p)),y="".concat(p,",").concat(f);if(h){var g=h.link_type===E.i.ChromelessWeb,k={key:y,size:o,weight:c,withInteractiveStyling:!0},w=g?{link:{external:!0,pathname:h.url}}:{accessibilityRole:"button",color:"link",onClick:e._handleClick(h)};d=v.createElement(C.c,a()({},w,k),i.slice(p,f))}else d=_?v.createElement(C.c,{color:s,key:y,size:o,weight:c},Object(O.d)(r,_)):v.createElement(C.c,{color:s,key:y,size:o,weight:c},i.slice(p,f));var S=u===n.length-1?v.createElement(C.c,{color:s,key:"".concat(f),size:o,weight:c},i.slice(f)):null;return t.concat([b,d,S].filter((function(e){return!!e})))}),[])})),y()(u()(e),"_handleClick",(function(t){return function(n){n.preventDefault();var r=e.props,a=r.onClick,i=r.onNavigate;i?i(t):a&&a()}})),e}return c()(n,[{key:"render",value:function(){var e=this.props.entities;return e&&e.length>0?this._renderTextArray():this._renderText()}},{key:"_renderTextArray",value:function(){var e=this.props,t=e.align,n=e.style,r=e.testID;return v.createElement(I,{align:t,style:n,testID:r},this._textArray())}},{key:"_renderText",value:function(){var e=this.props,t=e.align,n=e.text,r=e.style,a=e.color,i=e.size,o=e.weight,s=e.testID;return v.createElement(C.c,{align:t,color:a,size:i,style:r,testID:s,weight:o},n)}}]),n}(v.PureComponent);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var j=function(e){p()(n,e);var t=P(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y()(u()(e),"_handleConfirm",(function(){var t=e.props.subtask;e._handleButtonClick(t.next_link)})),y()(u()(e),"_handleCancel",(function(){var t=e.props.subtask.cancel_link;t&&e._handleButtonClick(t)})),y()(u()(e),"_handleButtonClick",(function(t){var n=e.props,r=n.onNavigate,a=n.subtaskId;(0,n.updateFlow)(a,{link:t.link_id}),r(t)})),e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.subtask,n=e.onNavigate,r=e.subtaskInputs,i=t.primary_text?v.createElement(R,a()({},t.primary_text,{nativeID:g.i,onNavigate:n,subtaskInputs:r})):void 0,o=t.secondary_text?v.createElement(R,a()({},t.secondary_text,{onNavigate:n,subtaskInputs:r})):void 0,s=t.cancel_link,c=t.next_link,l=s&&s.label;return v.createElement(k.a,{cancelButtonLabel:l,confirmButtonLabel:c&&c.label,headline:i,onCancel:this._handleCancel,onConfirm:this._handleConfirm,onMaskClick:this._handleCancel,text:o,withCancelButton:!!l})}}]),n}(v.Component),D=n("fs1G"),A=n("YCSy"),T=n("MWbm"),F=n("TIdA"),N=n("A91F"),B=n("cmUU");function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var U=function(e){p()(n,e);var t=L(n);function n(e){var r;return o()(this,n),r=t.call(this,e),y()(u()(r),"_handleCtaClick",(function(e){var t=r.props,n=t.onNavigate,a=t.subtaskId;(0,t.updateFlow)(a,{link:e.link_id}),n(e)})),y()(u()(r),"_handlePrimaryActionClick",(function(){r.setState({downloadLinkClicked:!0}),r._handleCtaClick(r.props.subtask.primary_action_link)})),y()(u()(r),"_handleSecondaryActionClick",(function(){var e=r.props.subtask.secondary_action_link;e&&r._handleCtaClick(e)})),r.state={downloadLinkClicked:!1},r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.onBackClick,r=e.onNavigate,i=e.subtask,o=e.subtaskInputs,s=this.state.downloadLinkClicked,c=i.primary_text?v.createElement(R,a()({},i.primary_text,{nativeID:g.i,onNavigate:r,subtaskInputs:o})):null,l=!s||!i.primary_action_text_after_click,u=s&&i.primary_action_text_after_click||i.primary_action_link.label,d=i.primary_image_url?v.createElement(F.a,{accessibilityLabel:"",aspectMode:N.a.exact(1),image:i.primary_image_url||""}):null,p=i.secondary_text?v.createElement(R,a()({},i.secondary_text,{onNavigate:r,subtaskInputs:o})):null,f=v.createElement(T.a,null,d,p);return v.createElement(A.a,{hideLogo:!0,history:t,onBackClick:n},v.createElement(B.a,{actionLabel:u||"",actionType:Object(O.b)(i.primary_action_style),headline:c,onAction:l?this._handlePrimaryActionClick:D.a,onClose:D.a,onSecondaryAction:this._handleSecondaryActionClick,secondaryActionLabel:(i.secondary_action_link||{}).label,secondaryActionType:i.secondary_action_style&&Object(O.b)(i.secondary_action_style),subtext:f,withCloseButton:!1}),this.props.errorDialog)}}]),n}(v.Component),V=n("ZS3b"),M="OCF_CallToAction_Button";function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var q=function(e){p()(n,e);var t=z(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y()(u()(e),"_handleCtaClick",(function(t){var n=e.props,r=n.onNavigate,a=n.subtaskId;(0,n.updateFlow)(a,{link:t.link_id}),r(t)})),y()(u()(e),"_handlePrimaryActionClick",(function(){e._handleCtaClick(e.props.subtask.primary_action_link)})),y()(u()(e),"_handleSecondaryActionClick",(function(){var t=e.props.subtask.secondary_action_link;t&&e._handleCtaClick(t)})),e}return c()(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.history,i=n.onBackClick,o=n.onNavigate,s=n.subtask,c=n.subtaskInputs,l=v.createElement(R,a()({},s.primary_text,{nativeID:g.i,onNavigate:o,subtaskInputs:c})),u=s.secondary_text?v.createElement(R,a()({},s.secondary_text,{onNavigate:o,subtaskInputs:c})):null,d=s.detail_text?v.createElement(R,a()({},s.detail_text,{onNavigate:o,subtaskInputs:c})):null;if(s.header_image){var p=s.header_image.image.image_info,f={url:p.url,height:p.height,width:p.width};e=function(e){var t=e.style;return v.createElement(T.a,{style:t},v.createElement(F.a,{accessibilityLabel:p.alt_text,image:f}))},t="illustration"}var h=s.text_alignment&&"left"===s.text_alignment?"left":"center";return v.createElement(A.a,{hideLogo:!0,history:r,onBackClick:i},v.createElement(B.a,{actionLabel:s.primary_action_link.label||"",actionType:Object(O.b)(s.primary_action_style),footer:d,graphic:e,graphicDisplayMode:t,headline:l,onAction:this._handlePrimaryActionClick,onClose:D.a,onSecondaryAction:this._handleSecondaryActionClick,primaryButtonTestID:M,secondaryActionLabel:(s.secondary_action_link||{}).label,secondaryActionType:s.secondary_action_link&&Object(O.b)(s.secondary_action_style),subtext:u,subtextAlign:h,withCloseButton:!1}),this.props.errorDialog)}}]),n}(v.Component),H=(n("jQ3i"),n("vrRf"),n("x4t0"),n("uFXj"),n("rHpw")),G=H.a.create((function(e){return{header:{marginBottom:e.spaces.xSmall},contentArea:{marginHorizontal:e.spaces.large},checkboxText:{flexShrink:1,paddingRight:e.spaces.xSmall,width:"100%"},headline:{marginVertical:e.spaces.small},option:{marginTop:e.spaces.xSmall,flexDirection:"row",justifyContent:"space-between"},primaryButton:{marginTop:e.spaces.small},subHeader:{marginBottom:e.spaces.small},formTextInput:{paddingHorizontal:0}}})),W=n("XiMS"),Y=n("/yvb"),Z=n("V2ml");function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var K,Q,J=function(e){p()(n,e);var t=X(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y()(u()(e),"state",{selectedChoices:[]}),y()(u()(e),"_renderRightControl",(function(){return v.createElement(T.a,{style:$.buttonContainer},e._renderCancelButton(),e._renderNextButton())})),y()(u()(e),"_handleCancelButtonClick",(function(){var t=e.props,n=t.subtask.skip_link,r=t.subtaskId,a=t.onNavigate,i=t.updateFlow;n&&(i(r,{link:n.link_id}),a(n))})),y()(u()(e),"_handleNextButtonClick",(function(){var t=e.props,n=t.subtask.next_link,r=t.subtaskId,a=t.onNavigate,i=t.updateFlow,o=e.state.selectedChoices;n&&(i(r,{link:n.link_id,selected_choices:o}),a(n))})),y()(u()(e),"_handleRadioChange",(function(t,n){e.setState({selectedChoices:[n]})})),y()(u()(e),"_onCheckboxChange",(function(t){return function(n){e._handleMultiSelection(t,n)}})),e}return c()(n,[{key:"componentDidUpdate",value:function(e){e.subtaskId!==this.props.subtaskId&&this.setState({selectedChoices:[]})}},{key:"render",value:function(){var e=this.props,t=e.subtask,n=e.history,r=e.subtaskInputs,i=e.onBackClick;return v.createElement(A.a,{history:n,onBackClick:i,rightControl:this._renderRightControl()},v.createElement(T.a,{style:G.contentArea},t.primary_text&&v.createElement(R,a()({size:"xLarge",style:G.headline,weight:"bold"},t.primary_text,{subtaskInputs:r})),t.secondary_text&&v.createElement(R,a()({color:"deepGray"},t.secondary_text,{subtaskInputs:r})),v.createElement(T.a,null,this._renderChoices())))}},{key:"_renderCheckboxQuestion",value:function(e){var t=this.props.subtaskInputs,n=this.state.selectedChoices.indexOf(e.id)>-1;return v.createElement(T.a,{accessibilityRole:"label",key:e.id,style:[G.option,$.checkboxRow,$.cursor]},v.createElement(R,a()({},e.text,{style:G.checkboxText,subtaskInputs:t})),v.createElement(W.a,{checked:n,onChange:this._onCheckboxChange(e.id)}))}},{key:"_renderCancelButton",value:function(){var e=this.props.subtask;return e.skip_link?v.createElement(Y.a,{onPress:this._handleCancelButtonClick,size:"normalCompact",style:$.skipButton,type:"text"},e.skip_link.label):null}},{key:"_renderNextButton",value:function(){var e=this.props.subtask,t=this._verifyBothTypesValidity();return e.next_link?v.createElement(Y.a,{disabled:!t,onPress:this._handleNextButtonClick,size:"normalCompact",type:"primary"},e.next_link.label):null}},{key:"_renderChoices",value:function(){var e=this,t=this.props.subtask,n=t.selection_type,r=t.choices;if(r){if("multi_select"===n)return v.createElement(v.Fragment,null,r.map((function(t){return e._renderCheckboxQuestion(t)})));if("single_select"===n){var a=r.map((function(e){return{label:e.text.text,value:e.id}}));return v.createElement(Z.a,{name:"single-choice",onChange:this._handleRadioChange,options:a,value:this.state.selectedChoices[0]})}}}},{key:"_verifyBothTypesValidity",value:function(){var e=this.props.subtask,t=e.selection_type,n=this.state.selectedChoices;if(e&&t){if("multi_select"===t)return this._verifyMultiChoiceValidity(n);if("single_select"===t)return 1===n.length}}},{key:"_verifyMultiChoiceValidity",value:function(e){var t=this.props.subtask.next_link_options;if(t){var n=t.min_enable_count,r=t.max_enable_count,a=e.length;return!(n&&a<n)&&!(r&&a>r)}return!1}},{key:"_handleMultiSelection",value:function(e,t){var n,r=this.state.selectedChoices;n=r&&r.includes(e)?r.filter((function(t){return t!==e})):r.concat([e]),this.setState({selectedChoices:n})}}]),n}(v.Component),$=H.a.create((function(e){return{buttonContainer:{flexDirection:"row"},skipButton:{marginRight:e.spaces.xSmall},checkboxRow:{justifyContent:"space-between"},cursor:{cursor:"pointer"}}})),ee=(n("WNMA"),n("zh9S")),te=n("9D1O"),ne=n("1YZw"),re=n("oEGd"),ae=n("0KEI"),ie=n("hqKg"),oe=n("If64"),se=n("G6rE"),ce=n("RqPI"),le=function(e){return function(t,n){var r=n.location.query[e];return Array.isArray(r)?r[0]:r}},ue=le("country_code"),de=Object(ie.createSelector)((K="input",Q={},function(e,t){return t.location.state&&t.location.state[K]||Q}),le("input_flow_data"),O.h),pe=le("return_path"),fe=le("is_native"),he=le("test_country_code"),_e=le("target_user_id"),me=Object(ie.createSelector)(te.h,ue,(function(e,t){var n=le("overrides")(e,t);return Object(O.c)(n)}),(function(e,t){return t.flowName||t.location.pathname.slice(t.match.path.length)}),de,pe,fe,he,_e,te.r,te.k,te.j,te.m,oe.a,te.q,te.i,te.n,te.o,te.p,(function(e,t,n,r,a,i,o,s,c,l,u,d,p,f,h,_,m,b,y){return{currentSubtask:e,countryCode:t,debugOverrides:n,isNative:o,testCountryCode:s,flowName:r,inputFlowData:a,returnPath:i,subtasks:l,flowToken:u,fetchStatus:d,previousNavigableSubtaskId:p,subtaskInputs:h,failureMessage:_,shouldAbort:m,shouldEndFlow:b,startLocation:f,submitFailed:y,targetUserId:c}})),be={addToast:ne.b,clearFlow:te.b,createLocalApiErrorHandler:Object(ae.d)("OCF_FLOW"),removeContacts:te.g,fetchTemporaryPassword:te.c,fetchUsers:se.e.fetchMany,logNymizerSignup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){return r.api.Nymizer.logSignup(e)}},navigateSubtask:te.f,startFlow:te.t,submitFlow:te.u,updateFlow:te.w,googleAnalyticsPageView:ee.a,googleAnalyticsSendEvent:ee.b,scribeAction:ee.c,scribePageImpression:ee.d,verifyCredentials:ce.m},ye=Object(re.g)(me,be),ve=n("7JQg"),ge=(n("ho0z"),{createLocalApiErrorHandler:Object(ae.d)("CONTACTS_SYNC"),uploadAddressBook:function(e){return function(t,n,r){return r.api.Contacts.uploadAddressBook(e)}}}),ke=Object(re.b)(ge),we=n("SrIh"),Oe=n("Irs7");function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ce=function(e){p()(n,e);var t=Ee(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y()(u()(e),"_handleCtaClick",(function(t){var n=e.props,r=n.onNavigate,a=n.subtaskId;(0,n.updateFlow)(a,{link:t.link_id}),r(t)})),y()(u()(e),"_handlePrimaryActionClick",(function(){try{window.navigator.contacts.select(["name","email","tel"],{multiple:!0}).then(e._handleContactResults)}catch(t){Object(we.a)(t),e._handleSecondaryActionClick()}})),y()(u()(e),"_handleContactResults",(function(t){var n=e.props,r=n.analytics,a=n.createLocalApiErrorHandler,i=n.uploadAddressBook,o=t.map((function(e){var t=e.name,n=e.email,r=e.tel;return{name:t[0]||"",email_addresses:n,phone_numbers:r}}));if(0===o.length)return r.scribeAction("cancel");r.scribe({action:"success",data:{event_value:o.length}}),i({contacts:o}).catch(a()),e._handleCtaClick(e.props.subtask.next_link)})),y()(u()(e),"_handleSecondaryActionClick",(function(){var t=e.props.subtask.skip_link;t&&e._handleCtaClick(t)})),e}return c()(n,[{key:"componentDidMount",value:function(){"contacts"in navigator&&"ContactsManager"in window||this._handleSecondaryActionClick()}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.onBackClick,r=e.onNavigate,i=e.subtask,o=e.subtaskInputs,s=i.detail_text?v.createElement(R,a()({},i.detail_text,{onNavigate:r,subtaskInputs:o})):null;return v.createElement(A.a,{hideLogo:!0,history:t,onBackClick:n},v.createElement(B.a,{actionLabel:i.next_link.label||"",footer:s,headline:i.primary_text||"",onAction:this._handlePrimaryActionClick,onClose:D.a,onTertiaryAction:this._handleSecondaryActionClick,subtext:"",tertiaryActionLabel:(i.skip_link||{}).label,withCloseButton:!1}))}}]),n}(v.Component),Se=Object(Oe.a)(ke(Ce),{element:"contacts_sync"}),xe=n("6/RC"),Ie=Object(ie.createSelector)((function(e,t){return Array.isArray(t.location.query.error)?t.location.query.error[0]:t.location.query.error}),(function(e,t){return!!t.location.query.state}),(function(e,t){return{importError:e,startImport:t}})),Re={createLocalApiErrorHandler:Object(ae.d)("EMAIL_CONTACTS_SYNC"),importStatus:te.d,scribeAction:ee.c,syncContacts:te.v},Pe=Object(re.g)(Ie,Re),je=(n("1IsZ"),Object(S.shape)({action:S.string.isRequired,text:S.string})),De=Object(S.shape)({subtask_data_reference:Object(S.shape)({subtask_id:S.string.isRequired,key:S.string.isRequired})}),Ae=Object(S.shape)({media_data_reference:De.isRequired,style:Object(S.oneOf)(Object.values(E.h)).isRequired}),Te=Object(S.shape)({link_type:Object(S.oneOf)(Object.values(E.i)).isRequired,link_id:S.string.isRequired,label:S.string,label_icon:S.string,continue_message:S.string,url:S.string,subtask_navigation_context:je,is_destructive:S.bool,suppress_client_events:S.bool,subtask_id:S.string}),Fe=Object(S.shape)({from_index:S.number.isRequired,to_index:S.number.isRequired,navigation_link:Te,subtask_data_reference:De}),Ne=Object(S.shape)({text:S.string.isRequired,entities:Object(S.arrayOf)(Fe).isRequired}),Be=Object(S.shape)({threshold:S.number,text:Ne}),Le=Object(S.shape)({label_conditional_text:Object(S.arrayOf)(Be),min_enable_count:S.number,max_enable_count:S.number}),Ue=Object(S.shape)({id:S.string.isRequired,name:S.string.isRequired}),Ve=Object(S.shape)({user_id:S.number.isRequired,user:S.object.isRequired,social_text:S.string,tracking_token:S.string,checked_by_default:S.bool.isRequired}),Me=Object(S.shape)({header:S.string,show_more:S.object,items:Object(S.arrayOf)(Object(S.oneOfType)([Ue,Ve])).isRequired}),ze=Object(S.shape)({initial_value:S.bool.isRequired}),qe=Object(S.shape)({threshold:S.number.isRequired,text:Ne}),He=Object(S.shape)({primary_text:Ne.isRequired,secondary_text:Ne,value_data:Object(S.shape)({boolean_data:ze,settings_group_data:Object(S.shape)({settings:Object(S.arrayOf)(Object(S.shape)({primary_text:Ne.isRequired,secondary_text:Ne,value_data:Object(S.shape)({boolean_data:ze}),value_identifier:S.string,value_type:Object(S.oneOf)(Object.values(E.l))})).isRequired,status_text_quantity_pairs:Object(S.arrayOf)(qe)})}),value_identifier:S.string,value_type:Object(S.oneOf)(Object.values(E.l))}),Ge=Object(S.shape)({id:S.string.isRequired,text:Ne.isRequired});function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze={subtask_id:S.string.isRequired},Xe=Object(S.shape)({day:S.number.isRequired,month:S.number.isRequired,year:S.number.isRequired}),Ke=Object(S.shape)({primary_text:Ne,secondary_text:Ne,next_link:Te.isRequired,cancel_link:Te,dismiss_link:Te}),Qe=Object(S.shape)({primary_text:Ne.isRequired,secondary_text:Ne,next_link:Te.isRequired,cancel_link:Te,dismiss_link:Te}),Je=Object(S.shape)({title:S.string.isRequired,next_link:Te.isRequired}),$e=Object(S.shape)({primary_text:Ne,secondary_text:Ne,detail_text:Ne,primary_action_link:Te.isRequired,primary_action_style:Object(S.oneOf)(Object.values(E.b)),secondary_action_link:Te,secondary_action_style:Object(S.oneOf)(Object.values(E.b)),settings:Object(S.arrayOf)(S.object),button_location:Object(S.oneOf)(Object.values(E.a)),text_alignment:Object(S.oneOf)(Object.values(E.q))}),et=(Object(S.shape)({choices:Object(S.arrayOf)(Ge).isRequired,selection_type:S.string.isRequired,primary_text:Ne,secondary_text:Ne,next_link:Te,skip_link:Te,next_link_options:Le}),Object(S.shape)({primary_text:Ne.isRequired,secondary_text:Ne,detail_text:Ne,accept_text:S.string.isRequired,authorization_url:S.string.isRequired,decline_link:Te,next_link:Te.isRequired,skip_link:Te.isRequired})),tt=Object(S.shape)({primary_text:Ne.isRequired,secondary_text:Ne,hint:S.string,name:S.string,username:S.string,email:S.string,next_link:Te.isRequired,phone:S.string}),nt=Object(S.shape)({primary_text:Ne,secondary_text:Ne,hint_text:S.string,default_text:S.string,max_length:S.number,next_link:Te.isRequired,skip_link:Te}),rt=Object(S.shape)({status:Object(S.oneOf)(Object.values(E.d)).isRequired,end_flow_type:Object(S.oneOf)(Object.values(E.i)).isRequired}),at=Object(S.shape)({should_generate:S.bool.isRequired,next_link:Te.isRequired}),it=Object(S.shape)({primary_text:Ne,secondary_text:Ne,hint:S.string.isRequired,custom_interests_header:S.string.isRequired,groups:Object(S.arrayOf)(Me).isRequired,selected_items:Object(S.arrayOf)(S.string).isRequired,next_link:Te.isRequired,skip_link:Te}),ot=Object(S.shape)({primary_text:Ne,primary_action_links:Object(S.arrayOf)(Te).isRequired,cancel_link:Te,dismiss_link:Te}),st=Object(S.shape)({primary_text:Ne,secondary_text:Ne,detail_text:Ne,granted_link:Te.isRequired,denied_link:Te.isRequired,previously_granted_link:Te,previously_denied_link:Te,previously_denied_reprompt_behavior:Object(S.oneOf)(["always","never","preprompt"])}),ct=Object(S.shape)({user:S.object.isRequired,auth_token:S.string,oauth_token:S.string,oauth_token_secret:S.string,known_device_token:S.string,next_link:Te.isRequired}),lt=Object(S.shape)({primary_text:Ne,secondary_text:Ne,cta_link:Te,next_link:Te.isRequired}),ut=Object(S.shape)({link:Te.isRequired,onboarding_callback_path:S.string}),dt=Object(S.shape)({primary_text:Ne.isRequired,secondary_text:Ne.isRequired,detail_text:Ne.isRequired,hint_text:S.string.isRequired,phone_number:De.isRequired,next_link:Te.isRequired,fail_link:Te.isRequired,cancel_link:Te.isRequired}),pt=Object(S.shape)({primary_text:Ne,secondary_text:Ne,detail_text:Ne,hint_text:S.string.isRequired,email:De.isRequired,name:De.isRequired,next_link:Te.isRequired,fail_link:Te.isRequired,cancel_link:Te.isRequired}),ft=Object(S.shape)({primary_text:S.string.isRequired,secondary_text:S.string,discoverable_by_email:S.bool,discoverable_by_email_label:S.string.isRequired,discoverable_by_email_detail_text:Ne,discoverable_by_phone:S.bool,discoverable_by_phone_label:S.string.isRequired,discoverable_by_phone_detail_text:Ne,next_link:Te.isRequired}),ht=Object(S.shape)({settings:Object(S.arrayOf)(He).isRequired,primary_text:Ne,secondary_text:Ne,detail_text:Ne,next_link:Te.isRequired,cancel_link:Te,scroll_hint:S.string,style:Object(S.oneOf)(["prompt","step"])}),_t=Object(S.shape)({primary_text:S.string,secondary_text:S.string,name_hint:S.string.isRequired,phone_hint:S.string.isRequired,email_hint:S.string.isRequired,phone_email_hint:S.string.isRequired,birthday_hint:S.string.isRequired,birthday_explanation:S.string,use_phone_text:S.string.isRequired,use_email_text:S.string.isRequired,next_link:Te.isRequired,email_next_link:Te,js_instrumentation:S.object,ignore_birthday:S.bool,show_password_field:S.bool,password_hint:S.string}),mt=Object(S.shape)({primary_text:S.string,secondary_text:S.string,name:De,phone_number:De,email:De,birthday:De,birthday_requirement:Xe,sign_in_text:Ne,detail_text:Ne,phone_next_link:Te.isRequired,email_next_link:Te.isRequired,name_edit_link:Te.isRequired,phone_edit_link:Te.isRequired,email_edit_link:Te.isRequired,birthday_edit_link:Te.isRequired,invalid_birthday_link:Te.isRequired,ignore_birthday:S.bool}),bt=Object(S.shape)({primary_text:Ne,secondary_text:Ne,next_link:Te.isRequired,skip_link:Te}),yt=Object(S.shape)({primary_text:Ne,secondary_text:Ne,next_link:Te.isRequired,skip_link:Te,avatar_image_reference:De}),vt=Object(S.shape)({sources:Object(S.arrayOf)(Ae).isRequired,next_link:Te.isRequired}),gt=Object(S.shape)({primary_text:Ne,secondary_text:Ne,hint:S.string,groups:Object(S.arrayOf)(Me).isRequired,next_link:Te,next_link_label_enabled_text:Ne,next_link_label_disabled_text:Ne,skip_link:Te,follow_button_type:Object(S.oneOf)(Object.values(E.e)).isRequired,min_follow_count:S.number}),kt=(Object(S.shape)(Ye(Ye({},Ze),{},{alert_dialog:Ke,alert_dialog_suppress_client_events:Qe,cta:$e,contacts_user_list:Je,email_contacts_sync:et,end_flow:rt,enter_password:tt,enter_text:nt,email_verification:pt,fetch_temporary_password:at,interest_picker:it,menu_dialog:ot,notifications_permission_prompt:st,open_account:ct,open_home_timeline:lt,open_link:ut,phone_verification:dt,privacy_options:ft,select_avatar:bt,select_banner:yt,settings_list:ht,sign_up:_t,sign_up_review:mt,upload_media:vt,user_recommendations_list:gt})),n("kGix")),wt=n("v//M"),Ot=n("3XMw"),Et=n.n(Ot),Ct=n("lUZE"),St=n("8jkQ");function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Rt=Et.a.cea71013,Pt=function(){return null},jt=function(e){p()(n,e);var t=It(n);function n(e){var r;return o()(this,n),r=t.call(this,e),y()(u()(r),"_startContactImports",(function(e){r._scribeOAuthAction("accepted");var t=r.props,n=t.createLocalApiErrorHandler;(0,t.syncContacts)(e).then((function(e){return r._pollImportStatus()})).catch((function(e){n()(e),r.setState({importFinished:!0})}))})),y()(u()(r),"_handlePrimaryActionClick",(function(){var e=r.props.subtask,t=e.authorization_url;if(e.open_in_new_tab&&xe.canUseDOM){var n=window.innerWidth,a="width=500,height=500,top=0,left=".concat(n-500,",toolbar=no,location=yes");window.open(t,"twitter_oauth",a).focus()}else St.b.navigateTo(t)})),y()(u()(r),"_handleTertiaryActionClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId,i=e.updateFlow,o=n.skip_link;i(a,{link:o.link_id}),t(o)})),y()(u()(r),"_scribeOAuthAction",(function(e){(0,r.props.scribeAction)({page:"onboarding",section:"email_contacts_sync",component:"oauth_prompt",element:"permission",action:e})})),y()(u()(r),"_handleEvent",(function(e){if(e.origin==="https://".concat(window.location.hostname)){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({callback_url:"https://".concat(window.location.hostname).concat(window.location.pathname)},e.data);!t.error&&t.state&&r._startContactImports(t)}})),y()(u()(r),"_pollImportStatus",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(e>10)r.setState({importFinished:!0});else{var t=r.props,n=t.createLocalApiErrorHandler,a=t.importStatus;r._timer=setTimeout((function(){a().then((function(t){switch(t.status){case E.c.Success:r.setState({importFinished:!0});break;case E.c.NotFound:r._pollImportStatus(e+1);break;default:r.setState({importFinished:!0})}})).catch((function(e){n()(e),r.setState({importFinished:!0})}))}),1e3)}})),r.state={importFinished:void 0},r._navigating=!1,window.addEventListener("message",r._handleEvent,!1),r}return c()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,n=e.importError,r=e.location,a=e.onNavigate,i=e.startImport,o=e.subtask,s=e.subtaskId,c=e.updateFlow;this._showLoadingSpinner=i;var l=o.decline_link;if("access_denied"===n)this._scribeOAuthAction("declined"),l&&(c(s,{link:l.link_id}),a(l));else if(i){var u=r.query,d=u.error,p=u.state,f={callback_url:"https://".concat(window.location.hostname).concat(r.pathname)};d&&"string"==typeof d&&(f.error=d),p&&"string"==typeof p&&(f.state=p),t.replace(r.pathname),this._startContactImports(f)}}},{key:"componentWillUnmount",value:function(){this._timer&&clearTimeout(this._timer),window.removeEventListener("message",this._handleEvent,!1)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.onNavigate,n=e.subtask,r=e.subtaskId,a=e.updateFlow,i=this.state.importFinished,o=n.next_link;!this._navigating&&i&&(this._navigating=!0,a(r,{link:o.link_id}),t(o))}},{key:"render",value:function(){var e=this.props,t=e.errorDialog,n=e.history,r=e.onBackClick,i=e.onNavigate,o=e.subtask,s=e.subtaskInputs,c=o.accept_text,l=o.detail_text,u=o.primary_text,d=o.skip_link,p=o.secondary_text,f=v.createElement(R,a()({},u,{nativeID:g.i,onNavigate:i,subtaskInputs:s})),h=p?v.createElement(R,a()({},p,{onNavigate:i,subtaskInputs:s})):null,_=l?v.createElement(R,a()({},l,{onNavigate:i,subtaskInputs:s})):null;return this._showLoadingSpinner?v.createElement(wt.a,{fetchStatus:kt.a.LOADING,loadingMessage:Rt,onRequestRetry:D.a,render:Pt,retryable:!1}):v.createElement(A.a,{hideLogo:!0,history:n,onBackClick:r},v.createElement(B.a,{actionLabel:c,footer:_,graphic:Ct.a,graphicStyle:Dt.twitterIcon,headline:f,onAction:this._handlePrimaryActionClick,onClose:D.a,onTertiaryAction:this._handleTertiaryActionClick,subtext:h,tertiaryActionLabel:d.label,withCloseButton:!1}),t)}}]),n}(v.Component),Dt=H.a.create((function(e){return{twitterIcon:{color:e.colors.brandColor}}})),At=Pe(jt),Tt=Object(ie.createSelector)(te.l,te.s,(function(e,t){return{navigationContext:e,verificationSendFailureMessage:t}})),Ft={createLocalApiErrorHandler:Object(ae.d)("OCF_FLOW_EMAIL_VERIFICATION"),getVerificationStatus:te.e,verifyIdentifier:te.y},Nt=Object(re.g)(Tt,Ft),Bt=n("p+r5"),Lt=n("ddV6"),Ut=n.n(Lt),Vt=n("k49u"),Mt=n("OIs+");function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht=Et.a.e4ff75a9,Gt=Et.a.e4f6bd9e,Wt=y()({},Mt.a.Offline,Ht),Yt=function(e,t,n){var r,a=y()({},Vt.a.AccessDeniedByBouncer,{customAction:function(t){Object(ae.c)(t,{flow:e})}});if(n)r=qt(qt({},a),{},{customErrorHandler:function(r){var a=Ut()(r.errors,1)[0];return a.code===Vt.a.AccessDeniedByBouncer?Object(ae.c)(a,{flow:e}):n(t||a.code&&Wt[a.code]||Gt),[]}});else if(t){var i,o={toast:{text:t}};r=qt((i={},y()(i,Vt.a.ValidationFailure,o),y()(i,Vt.a.OnboardingFlowRetriableFailure,o),y()(i,Vt.a.OnboardingFlowFailure,o),y()(i,"defaultToast",{text:t}),y()(i,"showToast",!0),i),a)}else{var s;r=qt(qt({},a),{},(s={},y()(s,Mt.a.Offline,{toast:{text:Wt[Mt.a.Offline]}}),y()(s,"defaultToast",{text:Gt}),y()(s,"showToast",!0),s))}return r};function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Xt="email",Kt=function(e){p()(n,e);var t=Zt(n);function n(e){var r;o()(this,n),r=t.call(this,e),y()(u()(r),"_sendEmailVerificationRequest",(function(){var e=r.props,t=e.createLocalApiErrorHandler,n=e.subtask,a=e.verifyIdentifier,i=e.onNavigate,o=e.subtaskInputs,s=n.email.subtask_data_reference,c=n.name.subtask_data_reference,l=s?o[s.subtask_id][s.key]:void 0,u=c?o[c.subtask_id][c.key]:void 0;return a({email:l,display_name:u}).then((function(e){r.setState({email:l})})).catch((function(e){var a=r.props,o=a.flowName,s=a.verificationSendFailureMessage;t(Yt(o,s||Gt))(e),i(n.fail_link)}))})),y()(u()(r),"_handleCodeUpdated",(function(e){r.setState({pinCode:e.target.value})})),y()(u()(r),"_startStatusPolling",(function(){var e=r.props,t=e.createLocalApiErrorHandler,n=e.getVerificationStatus,a=e.subtask,i=e.subtaskInputs,o=a.email.subtask_data_reference,s=o?i[o.subtask_id][o.key]:void 0;r._timer=setTimeout((function(){n({email:s}).then((function(e){e.verified?(r.setState({pinCode:e.pin_code}),r._clearTimer(),r._handleDoneButtonClick()):(r._clearTimer(),r._startStatusPolling())})).catch((function(e){t()(e),r._clearTimer(),r._startStatusPolling()}))}),1e3)})),y()(u()(r),"_clearTimer",(function(){r._timer&&clearTimeout(r._timer)})),y()(u()(r),"_handleDoneButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId,i=e.updateFlow,o=r.state,s=o.email;i(a,{code:o.pinCode,email:s,link:n.next_link.link_id}),t(n.next_link)}));var a=e.subtaskId,i=e.subtaskInputs,s=Object(O.d)(i,{key:Xt,subtask_id:a},"")||"";return r.state={email:s,pinCode:""},r}return c()(n,[{key:"componentDidMount",value:function(){return this.props.subtask.verification_status_polling_enabled&&this._startStatusPolling(),this._sendEmailVerificationRequest()}},{key:"componentWillUnmount",value:function(){this._clearTimer()}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.onBackClick,r=e.onNavigate,i=e.subtask,o=e.subtaskInputs,s=e.progressIndication,c=v.createElement(Y.a,{disabled:!this.state.pinCode,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},i.next_link.label),l=v.createElement(R,a()({},i.detail_text,{color:"link",onNavigate:r,style:Qt.detailLink,subtaskInputs:o}));return v.createElement(A.a,{history:t,onBackClick:n,progressIndication:s,rightControl:c},v.createElement(T.a,null,v.createElement(T.a,{style:G.contentArea},i.primary_text&&v.createElement(R,a()({},i.primary_text,{nativeID:g.i,onNavigate:r,size:"xLarge",style:G.headline,subtaskInputs:o,weight:"bold"})),i.secondary_text&&v.createElement(R,a()({},i.secondary_text,{color:"deepGray",onNavigate:r,subtaskInputs:o})),v.createElement(Bt.a,{autoFocus:!0,helperText:i.detail_text&&l,label:i.hint_text,name:"verfication_code",onChange:this._handleCodeUpdated,style:G.formTextInput,value:this.state.pinCode}))),this.props.errorDialog)}}]),n}(v.Component),Qt=H.a.create((function(e){return{detailLink:{marginTop:e.spaces.small}}})),Jt=Nt(Kt),$t=n("m3Bd"),en=n.n($t),tn=(n("iKE+"),n("RgK2")),nn=n.n(tn),rn=n("3zvM"),an=n("lMB6"),on=n("FgXs");function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ln=function(e){return{valid:!0}};function un(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.localValidator,n=void 0===t?ln:t,r=en()(e,["localValidator"]),a=Object(rn.e)(cn({customActions:{clear:{reducer:function(e,t){return{}}}}},r));a.clear=function(){return function(e){return e({type:a.customActionTypes.clear.SUCCESS})}},a.validate=function(e,t){return function(r){var i=n(e,t);return i.valid?r(a.fetchOneIfNeeded(e,t)):(r(a.add(y()({},e,i))),Promise.resolve())}};var i=function(e){return a.selectState(e).fetchStatus||nn.a},o=function(e,t){return Object(on.a)(t,(function(t,n){var r=e[n]||{};return cn(cn({},r),{},{valid:!!r.valid||t===kt.a.FAILED,isLoading:t===kt.a.LOADING})}))};return a.selectEntitiesWithFetchStatus=Object(ie.createSelector)(a.selectAll,i,o),an.a.register(a)}function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pn=new RegExp("^[a-zA-Z0-9_\\-+\\.!\\&]+@(?:[a-zA-Z0-9\\-_]+\\.)+[a-zA-Z]{2,63}$"),fn=Et.a.hc72e1fc,hn=un({namespace:"emailValidity",fetchOneContext:"FETCH_EMAIL_VALIDITY",fetchOneEndpoint:function(e){return e.Validity.isEmailAvailable},fetchOneParams:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({email:Ut()(e,1)[0]},t)},localValidator:function(e){var t=pn.test(e);return{errorMessage:fn,valid:t}}}),_n=(n("tVqn"),n("rxPX")),mn=function(e,t){return t.module.selectEntitiesWithFetchStatus(e)},bn=Object(_n.a)().propsFromState((function(){return{validity:mn}})).propsFromActions((function(e){var t=e.module;return{clearValidity:t.clear,createLocalApiErrorHandler:Object(ae.d)("VALIDITY_FIELD_CONTEXT"),validate:t.validate}})),yn=n("H9wA");function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gn(gn({},{autoComplete:S.string,autoFocus:S.bool,defaultValue:S.string,editable:S.bool,label:S.string,name:S.string.isRequired,onChange:S.func,onRef:S.func.isRequired,onValidityChange:S.func.isRequired,placeholder:S.string,style:yn.a.style,type:S.string}),{},{clearValidity:S.func.isRequired,createLocalApiErrorHandler:S.func.isRequired,module:S.object.isRequired,validate:S.func.isRequired,validity:S.object.isRequired});var kn=n("VY6S"),wn=n("mN6z");function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Sn=function(e){p()(n,e);var t=Cn(n);function n(e,r){var a;o()(this,n),a=t.call(this,e,r),y()(u()(a),"_setInputRef",(function(e){a._input=e})),y()(u()(a),"_handleValueChange",(function(e){var t=a.props,n=t.onChange,r=t.validationParams,i=e.target.value.trim();a._validateDebounced(En({value:i},r)),a.setState({value:i}),n&&n(e)})),y()(u()(a),"_getIsValid",(function(e,t){return!!(t&&e[t]&&e[t].valid)}));var i=e.defaultValue||"";return a.state={value:i,isValid:a._getIsValid(e.validity,i)},a._validateDebounced=Object(kn.a)((function(e){var t=e.value,n=en()(e,["value"]);return a.props.validate(t,n).catch(a.props.createLocalApiErrorHandler())}),500),a}return c()(n,[{key:"componentWillUnmount",value:function(){this.props.clearValidity(),this._validateDebounced.clear(),this.props.onRef(null)}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.defaultValue,r=t.validationParams;n&&this._validateDebounced(En({value:n},r)),this.props.onValidityChange(this.state.isValid),this.props.onRef({clear:function(){return e.clear()},focus:function(){return e.focus()},isValid:function(){return e.isValid()},getValue:function(){return e.getValue()}})}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){var n=this.props.validity,r=this.state.value;if(n!==e.validity||r!==t.value){var a=this._getIsValid(e.validity,t.value);this.state.isValid!==a&&this.setState({isValid:a})}}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.value,r=t.isValid!==this.state.isValid,a=!Object(wn.a)(e.validationParams,this.props.validationParams);r?this.props.onValidityChange(this.state.isValid):n&&a&&(this.props.clearValidity(),this._validateDebounced(En({value:n},this.props.validationParams)))}},{key:"render",value:function(){var e=this.props,t=e.autoComplete,n=e.autoFocus,r=e.editable,a=e.label,i=e.name,o=e.placeholder,s=e.style,c=e.type,l=e.validity,u=this.state.value,d=u&&l[u]?l[u].errorMessage:"";return v.createElement(Bt.a,{autoComplete:t,autoFocus:n,editable:r,errorText:d,invalid:!!d,label:a,name:i,onChange:this._handleValueChange,placeholder:o,ref:this._setInputRef,style:s,type:c,value:this.state.value})}},{key:"clear",value:function(){this.setState({value:"",isValid:!1})}},{key:"isValid",value:function(){return this.state.isValid}},{key:"getValue",value:function(){return this.state.value}},{key:"focus",value:function(){this._input&&this._input.focus()}}]),n}(v.Component);y()(Sn,"defaultProps",{label:""});var xn=bn(Sn),In=function(e){var t=e.onRef,n=en()(e,["onRef"]);return v.createElement(xn,a()({module:hn,onRef:t,type:"email"},n))};n("hBvt");function Rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Pn=Et.a.c52be451,jn=Et.a.cfd2f35d,Dn=Et.a.gea6cc19,An=Et.a.i769e50a,Tn=Et.a.ec129eb6,Fn=Et.a.f1b50489,Nn=Et.a.deaf5b15,Bn=function(e){p()(n,e);var t=Rn(n);function n(e){var r;return o()(this,n),r=t.call(this,e),y()(u()(r),"_handleRemoveContactsClick",(function(){r.setState({showRemoveContactsDialog:!0})})),y()(u()(r),"_handleRemoveContactsConfirm",(function(){r.setState({showRemoveContactsDialog:!1}),r._handleRemoveContacts()})),y()(u()(r),"_handleRemoveContacts",(function(){var e=r.props,t=e.addToast;(0,e.removeContacts)().then((function(e){r.setState({disableRemoveContactsButton:!0}),t({text:Tn,withClearButton:!0})})).catch((function(e){t({actionLabel:Nn,onAction:r._handleRemoveContacts,text:Fn,withAutoDismiss:!0})}))})),y()(u()(r),"_handleRemoveContactsCancel",(function(){r.setState({showRemoveContactsDialog:!1})})),r.state={showRemoveContactsDialog:!1,disableRemoveContactsButton:!1},r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.onNavigate,n=e.removeContactsSetting,r=e.subtaskInputs,i=this.state.disableRemoveContactsButton;return v.createElement(T.a,null,v.createElement(R,a()({},n.primary_text,{onNavigate:t,style:Ln.header,subtaskInputs:r})),v.createElement(R,a()({},n.secondary_text,{color:"deepGray",onNavigate:t,size:"small",style:Ln.subtext,subtaskInputs:r})),v.createElement(T.a,null,v.createElement(Y.a,{disabled:i,onPress:this._handleRemoveContactsClick,type:"destructiveText"},n.value_data.action_data.link.label),this._maybeRenderRemoveContactsDialog()))}},{key:"_maybeRenderRemoveContactsDialog",value:function(){return this.state.showRemoveContactsDialog?v.createElement(k.a,{cancelButtonLabel:jn,confirmButtonLabel:Pn,headline:Dn,onCancel:this._handleRemoveContactsCancel,onConfirm:this._handleRemoveContactsConfirm,onMaskClick:this._handleRemoveContactsCancel,text:An}):null}}]),n}(v.Component),Ln=H.a.create((function(e){return{header:{marginTop:e.spaces.xSmall,marginBottom:e.spaces.xSmall},subtext:{marginBottom:e.spaces.medium}}})),Un=Bn;function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var qn=function(e){p()(n,e);var t=zn(n);function n(e){var r;o()(this,n),r=t.call(this,e),y()(u()(r),"_handleActionClick",(function(){var e=r.props,t=e.onNavigate,n=e.settingValue.value_data;n.action_data&&n.action_data.link&&t(n.action_data.link)})),y()(u()(r),"_getSettingValueFromSubtaskInputs",(function(e){var t,n=r.props,a=n.subtaskId,i=n.subtaskInputs,o=e.value_identifier,s=e.value_type,c=Object(O.d)(i,{key:E.k,subtask_id:a},[]).find((function(e){return e.key===o}));return c&&Object(O.g)(s)&&(t=c.response_data.boolean_data.result),t})),y()(u()(r),"_handleSettingGroupClick",(function(){var e=r.props,t=e.onSettingGroupClick,n=e.settingValue;t&&t(n)})),y()(u()(r),"_handleSettingToggle",(function(){var e=r.props,t=e.onSettingToggle,n=e.settingValue,a=n.value_identifier;r.setState(Mn(Mn({},r.state),{},y()({},a,!r.state[a]))),t&&t(n)})),y()(u()(r),"_addToast",(function(e){r.props.addToast&&r.props.addToast(e)}));var a=e.settingValue,i=a.value_data,s=a.value_identifier,c=a.value_type;if(Object(O.g)(c)){var l=r._getSettingValueFromSubtaskInputs(a);void 0===l&&(l=i.boolean_data.initial_value),r.state=y()({},s,l)}return r}return c()(n,[{key:"render",value:function(){switch(this.props.settingValue.value_type){case E.l.Action:return this._renderAction();case E.l.Boolean:case E.l.PreciseLocation:return this._renderSettingOption();case E.l.SettingsGroup:return this._renderSettingsGroup();case E.l.StaticText:return this._renderHeader();case E.l.DestructiveAction:return this._renderDestructiveAction();default:return null}}},{key:"_renderHeader",value:function(){var e=this.props,t=e.onNavigate,n=e.settingValue,r=e.subtaskInputs,i=n.primary_text;return v.createElement(T.a,{style:Hn.header},v.createElement(R,a()({},i,{onNavigate:t,size:"large",subtaskInputs:r,weight:"bold"})))}},{key:"_renderDestructiveAction",value:function(){var e=this.props,t=e.onNavigate,n=e.removeContacts,r=e.settingValue,a=e.subtaskInputs;return v.createElement(T.a,{style:{marginBottom:H.a.theme.spaces.small}},v.createElement(Un,{addToast:this._addToast,onNavigate:t,removeContacts:n,removeContactsSetting:r,subtaskInputs:a}))}},{key:"_renderAction",value:function(){var e=this.props,t=e.onNavigate,n=e.settingValue,r=e.subtaskInputs;return v.createElement(T.a,null,v.createElement(R,a()({},n.primary_text,{onNavigate:t,style:Hn.header,subtaskInputs:r})),v.createElement(R,a()({},n.secondary_text,{color:"deepGray",onNavigate:t,size:"small",style:Hn.subtext,subtaskInputs:r})),v.createElement(T.a,null,v.createElement(Y.a,{onPress:this._handleActionClick,type:"text"},n.value_data.action_data.link.label)))}},{key:"_renderSettingOption",value:function(){var e=this.props,t=e.onNavigate,n=e.settingValue,r=e.showDividers,i=e.subtaskInputs,o=n.primary_text,s=n.secondary_text,c=n.value_identifier;return v.createElement(T.a,{accessibilityRole:"label",accessible:!0,style:[G.option,r&&Hn.optionDivider]},v.createElement(T.a,{style:G.checkboxText},v.createElement(R,a()({},o,{onNavigate:t,subtaskInputs:i})),s&&v.createElement(R,a()({},s,{color:"deepGray",onNavigate:t,size:"small",style:Hn.secondaryText,subtaskInputs:i}))),v.createElement(W.a,{checked:this.state[c],name:c,onChange:this._handleSettingToggle}))}},{key:"_renderSettingsGroup",value:function(){var e=this.props,t=e.onNavigate,n=e.settingValue,r=e.subtaskInputs,i=n.primary_text,o=n.secondary_text,s=n.value_data.settings_group_data,c=s.settings,l=s.status_text_quantity_pairs;return v.createElement(T.a,{accessibilityRole:"button",onClick:this._handleSettingGroupClick,style:Hn.settingGroup},v.createElement(R,a()({},i,{onNavigate:t,subtaskInputs:r})),this._renderQuantityStatus(c,l),o&&v.createElement(R,a()({},o,{color:"deepGray",onNavigate:t,size:"small",subtaskInputs:r})))}},{key:"_renderQuantityStatus",value:function(e,t){var n,r=this,i=this.props,o=i.onNavigate,s=i.subtaskInputs,c=e.reduce((function(e,t){return e+(r._getSettingValueFromSubtaskInputs(t)?1:0)}),0);return t.forEach((function(e){c>=e.threshold&&(n=v.createElement(R,a()({},e.text,{color:"deepGray",onNavigate:o,size:"small",style:Hn.quantityStatusText,subtaskInputs:s})))})),n}}]),n}(v.Component),Hn=H.a.create((function(e){return{header:{marginTop:e.spaces.large},secondaryText:{marginTop:e.spaces.xSmall},quantityStatusText:{marginTop:e.spaces.micro,marginBottom:e.spaces.xSmall},optionDivider:{paddingBottom:e.spaces.xSmall,borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},settingGroup:{marginTop:e.spaces.xSmall}}}));function Gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Wn=function(e){p()(n,e);var t=Gn(n);function n(e){var r;o()(this,n),r=t.call(this,e),y()(u()(r),"_renderEmailTextField",(function(){return v.createElement(In,{autoComplete:"email",defaultValue:r.state.email,label:r.props.subtask.hint_text,name:"email",onRef:r._handleSetInputRef,onValidityChange:r._handleUpdateValidity,style:Yn.emailTextField})})),y()(u()(r),"_renderDiscoverabilitySetting",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId,i=e.subtaskInputs,o=e.updateFlow;return n.discoverability_setting?v.createElement(qn,{onNavigate:t,onSettingToggle:r._handleDiscoverabilitySettingToggle,removeContacts:D.a,settingValue:n.discoverability_setting,subtaskId:a,subtaskInputs:i,updateFlow:o}):null})),y()(u()(r),"_handleDiscoverabilitySettingToggle",(function(e){var t=r.state.discoverabilityValue;r.setState({discoverabilityValue:!t})})),y()(u()(r),"_handleDoneButtonClick",(function(){var e=r.props.subtask,t={discoverability_value:r.state.discoverabilityValue,email:r._getIdentifierValue(),link:e.next_link.link_id};r._handleButtonClick(e.next_link,t)})),y()(u()(r),"_handleSkipButtonClick",(function(){var e=r.props.subtask;e.skip_link&&r._handleButtonClick(e.skip_link,{link:e.skip_link.link_id})})),y()(u()(r),"_handleButtonClick",(function(e,t){var n=r.props,a=n.onNavigate,i=n.subtaskId;(0,n.updateFlow)(i,t),a(e)})),y()(u()(r),"_handleSetInputRef",(function(e){r._input=e})),y()(u()(r),"_handleUpdateValidity",(function(){var e=r._input&&r._input.isValid();r.setState({isValid:!!e})})),y()(u()(r),"_getIdentifierValue",(function(){return r._input&&r._input.getValue()||void 0}));var a=e.subtask,i=e.subtaskId,s=e.subtaskInputs,c=a.discoverability_setting&&a.discoverability_setting.value_data&&a.discoverability_setting.value_data.boolean_data&&a.discoverability_setting.value_data.boolean_data.initial_value,l=Object(O.d)(s,{key:"discoverability_value",subtask_id:i},void 0)||c,d=Object(O.d)(s,{key:"email",subtask_id:i},"")||void 0;return r.state={discoverabilityValue:l,email:d,isValid:!!d},r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.onBackClick,r=e.onNavigate,i=e.progressIndication,o=e.subtask,s=e.subtaskInputs,c=o.primary_text,l=o.secondary_text,u=o.next_link,d=o.skip_link,p=this.state.isValid||!d?v.createElement(Y.a,{disabled:!this.state.isValid,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},u.label):v.createElement(Y.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},d.label);return v.createElement(A.a,{history:t,onBackClick:n,progressIndication:i,rightControl:p},v.createElement(T.a,null,v.createElement(T.a,{style:G.contentArea},c&&v.createElement(R,a()({},c,{nativeID:g.i,onNavigate:r,size:"xLarge",style:G.headline,subtaskInputs:s,weight:"bold"})),l&&v.createElement(R,a()({},l,{color:"deepGray",onNavigate:r,subtaskInputs:s})),v.createElement(T.a,{style:Yn.textFieldArea},this._renderEmailTextField()),this._renderDiscoverabilitySetting())),this.props.errorDialog)}}]),n}(v.Component),Yn=H.a.create((function(e){return{textFieldArea:{marginTop:e.spaces.medium},emailTextField:{paddingHorizontal:0,paddingVertical:e.spaces.small}}})),Zn={scribeAction:ee.c},Xn=Object(re.b)(Zn),Kn=n("IMA+"),Qn=function(e){var t,n,r,i=e.onNavigate,o=e.primaryTextProp,s=e.secondaryTextProp,c=e.header,l=e.subtaskInputs;return c?(r=c.user,t=c.primary_text,n=c.secondary_text):(t=o,n=s),v.createElement(T.a,{style:G.contentArea},t?v.createElement(R,a()({},t,{nativeID:g.i,onNavigate:i,size:"xLarge",style:G.headline,subtaskInputs:l,weight:"bold"})):null,n?v.createElement(R,a()({},n,{color:"deepGray",onNavigate:i,subtaskInputs:l})):null,r?v.createElement(Kn.a,{avatarUri:r.profile_image_url_https,displayMode:"UserCompact",name:r.name,screenName:r.screen_name,userId:r.id_str}):null)},Jn=n("/Dbh");function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var er=Et.a.d5568440,tr=un({namespace:"passwordValidity",fetchOneContext:"FETCH_PASSWORD_VALIDITY",fetchOneEndpoint:function(e){return e.Validity.fetchPasswordStrength},fetchOneParams:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({password:Ut()(e,1)[0]},t)},localValidator:function(e,t){var n=!(!t||!t.username)&&e===t.username,r=e.length>=Jn.b,a=e.length<=Jn.a,i=er;return r?a||(i=ae.a):i=ae.b,{errorMessage:!n&&r&&a?void 0:i,valid:r&&a&&!n}}}),nr=Object(ie.createSelector)(tr.selectEntitiesWithFetchStatus,(function(e){return{validity:e}})),rr={clearPasswordValidity:tr.clear,createLocalApiErrorHandler:Object(ae.d)("PASSWORD_FIELD_CONTEXT"),scribeAction:ee.c,validate:tr.validate},ar=Object(re.g)(nr,rr);function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var cr={page:"onboarding",component:"password_entry"},lr=Et.a.fa69a1ca,ur=Et.a.aacf5085,dr=function(e){p()(n,e);var t=sr(n);function n(e){var r;o()(this,n),r=t.call(this,e),y()(u()(r),"_onValidationUpdated",(function(e){return function(){var t=r.props,n=t.validity,a=t.scribeAction,i=t.onPasswordValidated,o=(e&&n[e]?n[e]:{}).valid,s=void 0!==o&&o;r.setState({valid:s}),a(or(or({},cr),{},{element:"entered_password",action:s?"valid":"invalid"})),i(s)}})),y()(u()(r),"_renderFormTextInput",(function(){var e=r.props,t=e.autoComplete,n=e.label,a=e.validity,i=r.state,o=i.valid,s=i.revealed,c=i.password,l=(a[c]||{}).errorMessage,u=void 0===l?"":l,d=v.createElement(C.c,{accessibilityRole:"button",color:"link",onPress:r._handleVisibilityToggle,style:pr.toggleLink},s?ur:lr);return v.createElement(Bt.a,{autoComplete:t,errorText:u,helperText:d,invalid:!o,label:n,name:"password",onChange:r._handlePasswordUpdated,style:G.formTextInput,type:s?"text":"password",value:c})})),y()(u()(r),"_handleVisibilityToggle",(function(){r.setState({revealed:!r.state.revealed})})),y()(u()(r),"_handlePasswordUpdated",(function(e){var t=r.props,n=t.onPasswordChange,a=t.skipPasswordValidation,i=t.userIdentifier,o=e.target.value;a||r._validateDebounced(o,{username:i}),r.setState({password:o}),n(o)}));var a=e.defaultValue;return r.state={revealed:!1,password:a||"",valid:!0},r._validateDebounced=Object(kn.a)((function(e,t){r.props.validate(e,t).catch(r.props.createLocalApiErrorHandler()).then(r._onValidationUpdated(e))}),500),r}return c()(n,[{key:"componentWillUnmount",value:function(){this.props.clearPasswordValidity(),this._validateDebounced.clear()}},{key:"render",value:function(){var e=this.props.userIdentifier;return v.createElement(T.a,{style:G.formTextInput},e?v.createElement("input",{name:"username",type:"hidden",value:e}):null,this._renderFormTextInput())}}]),n}(v.Component);y()(dr,"defaultProps",{autoComplete:"on",onPasswordChange:D.a,onPasswordValidated:D.a,skipPasswordValidation:!1});var pr=H.a.create((function(e){return{toggleLink:{marginTop:e.spaces.xxSmall}}})),fr=ar(dr);function hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var _r=Xn(function(e){p()(n,e);var t=hr(n);function n(e){var r;return o()(this,n),r=t.call(this,e),y()(u()(r),"renderIdentifier",(function(){var e,t=r.props.subtask,n=t.user_identifier_display_type,a=t.phone_number,i=t.username,o=t.email;return"phone_number"===n&&(e=a),"username"===n&&(e=i),"email"===n&&(e=o),e?v.createElement(Bt.a,{editable:!1,name:e,placeholder:e,style:G.formTextInput}):null})),y()(u()(r),"_handleDoneButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId,i=e.updateFlow;r._saveCredentialsIfNeeded().then((function(){i(a,{password:r.state.password,link:n.next_link.link_id}),t(n.next_link)})).catch((function(){r._scribeSmartLockError(),i(a,{password:r.state.password,link:n.next_link.link_id}),t(n.next_link)}))})),y()(u()(r),"_handleSkipButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId,i=e.updateFlow,o=n.skip_link;o&&(i(a,{link:o.link_id}),t(o))})),y()(u()(r),"_scribeSmartLockError",(function(){(0,r.props.scribeAction)({page:"onboarding",section:"enter_password",component:"smart_lock",element:"prompt",action:"error"})})),y()(u()(r),"_handlePasswordChange",(function(e){r.setState({password:e})})),y()(u()(r),"_handleValidationChange",(function(e){r.setState({isPasswordValid:e})})),y()(u()(r),"_saveCredentialsIfNeeded",(function(){var e=r.props.subtask,t=e.email,n=e.phone,a=e.username,i=e.skip_password_validation,o=r.state.password,s=!!window.PasswordCredential,c=a||t||n;if(c&&s&&!i&&navigator.credentials){var l=new window.PasswordCredential({id:c,password:o});return navigator.credentials.store(l)}return Promise.resolve()})),r.state={},r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.errorDialog,n=e.history,r=e.onBackClick,a=e.onNavigate,i=e.subtask,o=e.subtaskInputs,s=e.progressIndication,c=this.state,l=c.isPasswordValid,u=c.password,d=!(u&&u.length),p=l||i.skip_password_validation&&!d,f=p||!i.skip_link?v.createElement(Y.a,{disabled:!p,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},i.next_link.label):v.createElement(Y.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},i.skip_link.label),h=i.user_identifier_display_type;return v.createElement(A.a,{hideBackButton:!0,history:n,onBackClick:r,progressIndication:s,rightControl:f},v.createElement(T.a,{style:G.contentArea},v.createElement(Qn,{header:i.header,onNavigate:a,primaryTextProp:i.primary_text,secondaryTextProp:i.secondary_text,subtaskInputs:o}),h?this.renderIdentifier():null,v.createElement(fr,{label:i.hint,onPasswordChange:this._handlePasswordChange,onPasswordValidated:this._handleValidationChange,skipPasswordValidation:i.skip_password_validation,userIdentifier:i.username})),t)}}]),n}(v.Component));function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var br=new RegExp("^\\+?[0-9\\-\\.\\(\\)\\s]{7,1000}$"),yr=Et.a.cd24fe6f,vr=un({namespace:"phoneNumberValidity",fetchOneContext:"FETCH_PHONE_VALIDITY",fetchOneEndpoint:function(e){return e.Validity.isPhoneNumberAvailable},fetchOneParams:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({raw_phone_number:Ut()(e,1)[0]},t)},localValidator:function(e){var t=br.test(e);return{errorMessage:yr,valid:t}}}),gr=function(e){var t=e.countryCode,n=e.onRef,r=en()(e,["countryCode","onRef"]),i={country_code:t};return v.createElement(xn,a()({module:vr,onRef:n,type:"tel",validationParams:i},r))},kr=n("6XNv");function wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Or=Et.a.gf8388fe,Er=function(e){p()(n,e);var t=wr(n);function n(e){var r;o()(this,n),r=t.call(this,e),y()(u()(r),"_renderCountryCodes",(function(){var e=r.props.subtask.country_codes;if(e&&e.length){var t=e.map((function(e){return{label:e.text.text,value:e.id}}));return v.createElement(kr.a,{helperText:void 0,label:Or,onChange:r._handleCountryChange,options:t,value:r.state.countryCode||""})}return null})),y()(u()(r),"_handleCountryChange",(function(e){r.setState({countryCode:e})})),y()(u()(r),"_renderPhoneTextField",(function(){return v.createElement(gr,{autoComplete:"tel",countryCode:r.state.countryCode,defaultValue:r.state.phoneNumber,label:r.props.subtask.hint_text,name:"phone_number",onRef:r._handleSetInputRef,onValidityChange:r._handleUpdateValidity,style:Cr.phoneTextField})})),y()(u()(r),"_renderDiscoverabilitySetting",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId,i=e.subtaskInputs,o=e.updateFlow;return n.discoverability_setting?v.createElement(qn,{onNavigate:t,onSettingToggle:r._handleDiscoverabilitySettingToggle,removeContacts:D.a,settingValue:n.discoverability_setting,subtaskId:a,subtaskInputs:i,updateFlow:o}):null})),y()(u()(r),"_handleDiscoverabilitySettingToggle",(function(e){var t=r.state.discoverabilityValue;r.setState({discoverabilityValue:!t})})),y()(u()(r),"_handleDoneButtonClick",(function(){var e=r.props.subtask,t=r.state,n={country_code:t.countryCode,discoverability_value:t.discoverabilityValue,phone_number:r._getIdentifierValue(),link:e.next_link.link_id};r._handleButtonClick(e.next_link,n)})),y()(u()(r),"_handleSkipButtonClick",(function(){var e=r.props.subtask;e.skip_link&&r._handleButtonClick(e.skip_link,{link:e.skip_link.link_id})})),y()(u()(r),"_handleButtonClick",(function(e,t){var n=r.props,a=n.onNavigate,i=n.subtaskId;(0,n.updateFlow)(i,t),a(e)})),y()(u()(r),"_handleSetInputRef",(function(e){r._input=e})),y()(u()(r),"_handleUpdateValidity",(function(){var e=r._input&&r._input.isValid();r.setState({isValid:!!e})})),y()(u()(r),"_getIdentifierValue",(function(){return r._input&&r._input.getValue()||void 0}));var a=e.subtask,i=e.subtaskId,s=e.subtaskInputs,c=a.discoverability_setting&&a.discoverability_setting.value_data&&a.discoverability_setting.value_data.boolean_data&&a.discoverability_setting.value_data.boolean_data.initial_value,l=Object(O.d)(s,{key:"country_code",subtask_id:i},a.default_country_code)||void 0,d=Object(O.d)(s,{key:"discoverability_value",subtask_id:i},void 0)||c,p=Object(O.d)(s,{key:"phone_number",subtask_id:i},"")||void 0;return r.state={countryCode:l,discoverabilityValue:d,phoneNumber:p,isValid:!!p},r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.onBackClick,r=e.onNavigate,i=e.progressIndication,o=e.subtask,s=e.subtaskInputs,c=o.primary_text,l=o.secondary_text,u=o.next_link,d=o.skip_link,p=this.state.isValid||!d?v.createElement(Y.a,{disabled:!this.state.isValid,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},u.label):v.createElement(Y.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},d.label);return v.createElement(A.a,{history:t,onBackClick:n,progressIndication:i,rightControl:p},v.createElement(T.a,null,v.createElement(T.a,{style:G.contentArea},c&&v.createElement(R,a()({},c,{nativeID:g.i,onNavigate:r,size:"xLarge",style:G.headline,subtaskInputs:s,weight:"bold"})),l&&v.createElement(R,a()({},l,{color:"deepGray",onNavigate:r,subtaskInputs:s})),v.createElement(T.a,{style:Cr.textFieldArea},this._renderCountryCodes(),this._renderPhoneTextField()),this._renderDiscoverabilitySetting())),this.props.errorDialog)}}]),n}(v.Component),Cr=H.a.create((function(e){return{textFieldArea:{marginTop:e.spaces.medium},phoneTextField:{paddingHorizontal:0,paddingVertical:e.spaces.small}}})),Sr=n("Lam0");function xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ir=function(e){p()(n,e);var t=xr(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y()(u()(e),"_handleRecaptchaStateChange",(function(t){var n=e.props,r=n.subtaskId,a=n.subtask,i=n.updateFlow,o=n.onNavigate,s=a.next_link;t&&(i(r,{link:s.link_id,recaptcha_response:t}),o(s))})),y()(u()(e),"_handleSkipButtonClick",(function(){var t=e.props,n=t.onNavigate,r=t.subtask.skip_link,a=t.subtaskId,i=t.updateFlow;r&&i(a,{link:r.link_id}),r&&n(r)})),e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.errorDialog,n=e.history,r=e.onBackClick,i=e.onNavigate,o=e.subtask,s=e.subtaskInputs,c=o.primary_text,l=o.secondary_text,u=o.skip_link,d=u&&v.createElement(Y.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},u.label);return v.createElement(A.a,{history:n,onBackClick:r,rightControl:d},v.createElement(T.a,{style:G.contentArea},c?v.createElement(R,a()({},c,{nativeID:g.i,onNavigate:i,size:"xLarge",style:G.headline,subtaskInputs:s,weight:"bold"})):null,l?v.createElement(R,a()({},l,{color:"deepGray",onNavigate:i,subtaskInputs:s})):null,v.createElement(Sr.a,{nextButtonDisabled:!1,onChange:this._handleRecaptchaStateChange,withConsentForm:!1})),t)}}]),n}(v.Component);function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Dr=function(e){p()(n,e);var t=jr(n);function n(e){var r;return o()(this,n),r=t.call(this,e),y()(u()(r),"_handleDoneButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask.next_link,a=e.subtaskId;(0,e.updateFlow)(a,Pr(Pr({},r.state),{},{link:n.link_id})),t(n)})),y()(u()(r),"_handleSkipButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask.skip_link,a=e.subtaskId,i=e.updateFlow;n&&i(a,{link:n.link_id}),n&&t(n)})),y()(u()(r),"_handleEntryUpdated",(function(e){var t=e.target.value,n=void 0===t?"":t;r.setState({text:n})})),y()(u()(r),"_getAutoCompleteFromKeyboardType",(function(e){switch(e){case E.g.Email:return"email";case E.g.Telephone:return"tel";default:return}})),y()(u()(r),"_getPropsFromKeyboardType",(function(e){switch(e){case E.g.Email:return"email";case E.g.Number:return"number";case E.g.Password:return"password";case E.g.Telephone:return"tel";default:return"text"}})),r.state={text:r.props.subtask.default_text||""},r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.errorDialog,n=e.history,r=e.onBackClick,i=e.onNavigate,o=e.subtask,s=e.subtaskInputs,c=o.keyboard_type,l=o.hint_text,u=o.max_length,d=o.multiline,p=o.next_link,f=o.skip_link,h=o.detail_text,_=v.createElement(Y.a,{disabled:!f&&!this.state.text,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},p.label),m=f&&v.createElement(Y.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},f.label);return v.createElement(A.a,{history:n,onBackClick:r,rightControl:this.state.text||!f?_:m},v.createElement(T.a,{style:G.contentArea},v.createElement(Qn,{header:o.header,onNavigate:i,primaryTextProp:o.primary_text,secondaryTextProp:o.secondary_text,subtaskInputs:s}),v.createElement(Bt.a,{autoComplete:this._getAutoCompleteFromKeyboardType(c),label:l,maxLength:u,multiline:d,name:"text",onChange:this._handleEntryUpdated,type:this._getPropsFromKeyboardType(c),value:this.state.text}),h?v.createElement(R,a()({},h,{color:"deepGray",onNavigate:i,subtaskInputs:s})):null),t)}}]),n}(v.Component),Ar=n("LXAX"),Tr=Object(ie.createSelector)(se.e.selectLoggedInUser,Ar.b,te.l,(function(e,t,n){return{loggedInUser:e,navigationContext:n,isUsernameValid:t.valid,validationError:t.desc}})),Fr={fetchUsernameAvailability:Ar.a},Nr=Object(re.g)(Tr,Fr),Br=n("EweD"),Lr=n("shC7");function Ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Vr=function(e){p()(n,e);var t=Ur(n);function n(e){var r;o()(this,n),r=t.call(this,e),y()(u()(r),"_maybeRenderDetailTexts",(function(){var e=r.props,t=e.subtask,n=e.subtaskInputs,i=r.state.currentDetailTextIndex;return t.detail_texts&&t.detail_texts.length?v.createElement(R,a()({},t.detail_texts[i],{color:"link",onNavigate:r._handleDetailTextClick,style:Mr.detailLink,subtaskInputs:n})):void 0})),y()(u()(r),"_handleDetailTextClick",(function(e){var t=r.props,n=t.analytics,a=t.onNavigate;"show_more_usernames"===e.link_id?(r._updateCurrentDetailTextIndex(),n.scribe({element:"show_more",action:"click"})):(r._selectUsername(e.link_id,r._fetchUsernameStatus),n.scribe({element:"suggestion",action:"click"})),a(e)})),y()(u()(r),"_handleUsernameUpdated",(function(e){var t=e.target.value;r._selectUsername(t,r._fetchUsernameStatusDebounced)})),y()(u()(r),"_selectUsername",(function(e,t){r.setState({username:e}),t(e)})),y()(u()(r),"_handleNextButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId,i=e.updateFlow,o=r.state.username;n.next_link&&(i(a,{username:o,link:n.next_link.link_id}),t(n.next_link))})),y()(u()(r),"_handleSkipButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId,i=e.updateFlow,o=n.skip_link;o&&(i(a,{link:o.link_id}),t(o))})),y()(u()(r),"_fetchUsernameStatus",(function(e){var t=r.props,n=t.analytics,a=t.fetchUsernameAvailability,i=t.loggedInUser;i&&a({email:i.email&&i.email[0]&&i.email[0].address,full_name:i.name,suggest:!1,username:e}).then((function(e){e&&!e.valid&&"taken"===e.reason&&n.scribe({element:"username",action:"taken"})}))})),y()(u()(r),"_updateCurrentDetailTextIndex",(function(){r.setState({currentDetailTextIndex:r.state.currentDetailTextIndex+1})}));var i=e.loggedInUser,s=e.subtaskId,c=e.subtaskInputs,l=Object(O.d)(c,{key:"username",subtask_id:s},"")||(i?i.screen_name:"");return r.state={currentDetailTextIndex:0,username:l},r._fetchUsernameStatusDebounced=Object(kn.a)((function(){var e;return(e=r)._fetchUsernameStatus.apply(e,arguments)}),250),r}return c()(n,[{key:"componentDidMount",value:function(){var e=this.props.navigationContext||{},t=e.action,n=e.text;"set_text"===t&&n&&this._selectUsername(n,this._fetchUsernameStatus)}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.isUsernameValid,r=e.loggedInUser,i=e.onBackClick,o=e.onNavigate,s=e.subtask,c=e.subtaskInputs,l=e.progressIndication,u=e.validationError,d=this.state.username,p=(r&&r.screen_name&&r.screen_name.toLowerCase())===(d&&d.toLowerCase()),f=v.createElement(Y.a,{disabled:!n,onPress:this._handleNextButtonClick,size:"normalCompact",type:"primary"},s.next_link.label),h=s.skip_link&&v.createElement(Y.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"primary"},s.skip_link.label),_=d&&!p?f:h||f;return v.createElement(A.a,{history:t,onBackClick:i,progressIndication:l,rightControl:_},v.createElement(v.Fragment,null,v.createElement(T.a,{style:G.contentArea},v.createElement(R,a()({},s.primary_text,{nativeID:g.i,onNavigate:o,size:"xLarge",style:G.headline,subtaskInputs:c,weight:"bold"})),v.createElement(R,a()({},s.secondary_text,{color:"deepGray",onNavigate:o,subtaskInputs:c})),v.createElement(Bt.a,{Icon:Br.a,autoComplete:"off",autoCorrect:!1,autoFocus:!0,errorText:u,iconStyle:[Mr.iconAtStyle,Lr.a.isRTL&&Mr.rtlStyle],invalid:!!d&&!p&&!n,label:s.hint,name:"username",onChange:this._handleUsernameUpdated,showValidationIcon:!!d,spellCheck:"false",style:G.formTextInput,value:d}),this._maybeRenderDetailTexts())),this.props.errorDialog)}}]),n}(v.Component),Mr=H.a.create((function(e){return{detailLink:{marginTop:e.spaces.small},iconAtStyle:{color:e.colors.deepGray},rtlStyle:{order:1,paddingLeft:0,paddingRight:e.spaces.xSmall}}})),zr=Object(Oe.a)(Nr(Vr),{section:"enter_username"}),qr=n("caTy");function Hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Gr=function(e){p()(n,e);var t=Hr(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y()(u()(e),"_executeSubtaskAction",(function(){var t=e.props,n=t.navigationLink,r=t.subtaskAction,a=t.onNavigate,i=t.onError;try{r().then((function(){return a(n,!0)})).catch(i)}catch(o){i(o)}})),e}return c()(n,[{key:"componentDidMount",value:function(){this._executeSubtaskAction()}},{key:"componentDidUpdate",value:function(e){this.props.subtaskId!==e.subtaskId&&this._executeSubtaskAction()}},{key:"render",value:function(){return null}}]),n}(v.Component);y()(Gr,"defaultProps",{onError:D.a});n("hCOa"),n("87if");var Wr=n("RhWx"),Yr=n.n(Wr),Zr=n("zrOZ"),Xr="selected_custom_interests",Kr="selected_interest_ids",Qr=function(e,t){var n=Object(te.q)(e);return(Object(O.d)(n,{key:Xr,subtask_id:t.subtaskId},[])||[]).map((function(e){return{topic:e.custom_interest,ttt_token:e.ttt_token}}))},Jr=Object(ie.createSelector)(Qr,(function(e,t){return Qr(e,t).map((function(e){return e.topic}))}),(function(e,t){var n=Object(te.q)(e);return Object(O.d)(n,{key:Kr,subtask_id:t.subtaskId},[])||void 0}),(function(e,t,n){return{initialCustomInterests:e,initialCustomInterestIds:t,initialSelectedInterestIds:n}})),$r=Object(re.c)(Jr),ea=n("2dXj"),ta=n("aV/s"),na=n("GZwR");function ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var aa=[na.a.Topics],ia=function(e){p()(n,e);var t=ra(n);function n(e){var r;o()(this,n),r=t.call(this,e),y()(u()(r),"_maybeRenderCustomInterests",(function(){var e=r.props.subtask.custom_interests_header,t=r.state,n=t.customInterests;if(t.shouldRenderCustomInterests)return v.createElement(T.a,null,v.createElement(T.a,{style:oa.group,testID:"custom"},v.createElement(C.c,{size:"large",style:oa.groupHeader,weight:"bold"},e),v.createElement(T.a,{style:oa.pillsContainer},n.map((function(e){return r._renderCustomInterest(e.topic)})))))})),y()(u()(r),"_renderGroup",(function(e){var t;if(e.show_more){var n=e.show_more.initial_to_show+(e.expanded?e.show_more.extra_to_show:0);t=e.items.slice(0,n)}else t=e.items;return v.createElement(T.a,{key:"group_".concat(e.header),style:oa.group,testID:"group"},v.createElement(C.c,{size:"large",style:oa.groupHeader,weight:"bold"},e.header),v.createElement(T.a,{style:oa.pillsContainer},t.map(r._renderSelectionPill),r._maybeRenderShowMoreButton(e)))})),y()(u()(r),"_maybeRenderShowMoreButton",(function(e){var t=e.show_more;return t&&e.items.length>t.initial_to_show&&!e.expanded?v.createElement(ta.a,{compact:!0,key:"showMore_".concat(e.header),mode:"expand",onClick:r._handleShowMore(e),style:oa.selectionPillStyles,text:t.text}):null})),y()(u()(r),"_renderCustomInterest",(function(e){var t=r.state.selectedCustomInterestIds;return v.createElement(ta.a,{compact:!0,key:"selectionPill_".concat(e),onClick:r._handleToggleCustomInterest(e),selected:t.has(e),style:oa.selectionPillStyles,text:e})})),y()(u()(r),"_renderSelectionPill",(function(e){var t=r.state.selectedInterestIds.has(e.id),n=r._handleToggleInterest(e.id,t);return v.createElement(ta.a,{compact:!0,key:"selectionPill_".concat(e.id),onClick:n,selected:t,style:oa.selectionPillStyles,text:e.name})})),y()(u()(r),"_shouldShowSkipInstead",(function(){var e=r.state,t=e.selectedInterestIds,n=e.selectedCustomInterestIds;return 0===t.size&&0===n.size})),y()(u()(r),"_handleSuggestionSelected",(function(e){var t=r.state,n=t.customInterestIds,a=t.selectedCustomInterestIds,i=e.data,o=i.topic,s={topic:o,ttt_token:i.ttt_context};n.has(o)||r.setState({customInterests:r.state.customInterests.concat([s]),customInterestIds:Object(Zr.a)(Yr()(n)).add(o),selectedCustomInterestIds:Object(Zr.a)(Yr()(a)).add(o),shouldRenderCustomInterests:!0})})),y()(u()(r),"_handleShowMore",(function(e){return function(){var t=r.state.groups,n=t.find((function(t){return t.header===e.header}));n&&(n.expanded=!0),r.setState({groups:t})}})),y()(u()(r),"_handleToggleCustomInterest",(function(e){return function(){var t=Object(Zr.a)(Yr()(r.state.selectedCustomInterestIds));t.has(e)?(t.delete(e),r.setState({selectedCustomInterestIds:t})):r.setState({selectedCustomInterestIds:t.add(e)})}})),y()(u()(r),"_handleToggleInterest",(function(e,t){return function(){var n=Object(Zr.a)(Yr()(r.state.selectedInterestIds));t?(n.delete(e),r.setState({selectedInterestIds:n})):r.setState({selectedInterestIds:n.add(e)})}})),y()(u()(r),"_handleNextButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId,i=e.updateFlow,o=r.state,s=o.customInterests,c=o.selectedCustomInterestIds,l=s.reduce((function(e,t){return c.has(t.topic)&&e.push({custom_interest:t.topic,ttt_token:t.ttt_token}),e}),[]);i(a,{link:n.next_link.link_id,selected_interest_ids:Array.from(r.state.selectedInterestIds),selected_custom_interests:l}),t(n.next_link)})),y()(u()(r),"_handleSkipButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId,i=e.updateFlow;n.skip_link&&i(a,{link:n.next_link.link_id}),n.skip_link&&t(n.skip_link)}));var a=e.initialCustomInterests,i=e.initialCustomInterestIds,s=e.initialSelectedInterestIds,c=e.subtask.selected_items;return r.state={groups:e.subtask.groups||[],customInterests:a,customInterestIds:Object(Zr.a)(i),selectedCustomInterestIds:Object(Zr.a)(i),selectedInterestIds:s&&s.length>0?Object(Zr.a)(s):Object(Zr.a)(c||[]),shouldRenderCustomInterests:a.length>0},r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.onNavigate,r=e.subtask,i=e.subtaskInputs,o=this.state.groups,s=v.createElement(Y.a,{onPress:this._handleNextButtonClick,size:"normalCompact",type:"primary"},r.next_link.label),c=r.skip_link?v.createElement(Y.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},r.skip_link.label):null,l=this._shouldShowSkipInstead()?c:s;return v.createElement(A.a,{history:t,rightControl:l},v.createElement(T.a,{style:G.contentArea},r.primary_text?v.createElement(R,a()({},r.primary_text,{nativeID:g.i,onNavigate:n,size:"xLarge",style:G.headline,subtaskInputs:i,weight:"bold"})):null,r.secondary_text?v.createElement(R,a()({},r.secondary_text,{onNavigate:n,style:G.subHeader,subtaskInputs:i})):null,v.createElement(T.a,{style:oa.searchContainer},v.createElement(ea.c,{filter:aa,maxTopics:8,onItemClick:this._handleSuggestionSelected,placeholder:r.hint,rounded:!0,shouldAutoFocus:!0,shouldClearOnSelect:!0,source:na.d.WelcomeFlow,withFocusStyling:!0})),this._maybeRenderCustomInterests(),v.createElement(T.a,null,o.map(this._renderGroup))),this.props.errorDialog)}}]),n}(v.Component),oa=H.a.create((function(e){return{searchContainer:{marginBottom:e.spaces.small,zIndex:1},selectionPillStyles:{margin:e.spaces.xxSmall},pillsContainer:{flexDirection:"row",flexWrap:"wrap"},groupHeader:{marginTop:e.spaces.xSmall,marginBottom:e.spaces.xSmall},group:{marginBottom:e.spaces.xSmall}}})),sa=$r(ia),ca=n("mjJ+");function la(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var ua=function(e){p()(n,e);var t=la(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y()(u()(e),"_makeNavFunction",(function(t){return function(){var n=e.props,r=n.onNavigate,a=n.subtaskId;(0,n.updateFlow)(a,{link:t.link_id}),r(t)}})),y()(u()(e),"_itemFromNavLink",(function(t){return{text:t.label||"",onClick:e._makeNavFunction(t)}})),e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.onNavigate,n=e.subtask,r=e.subtaskInputs;return v.createElement(ca.a,{cancelButtonLabel:n.cancel_link&&n.cancel_link.text,description:n.primary_text?v.createElement(R,a()({},n.primary_text,{nativeID:g.i,onNavigate:t,subtaskInputs:r})):null,items:n.primary_action_links.map(this._itemFromNavLink),onCloseRequested:n.cancel_link?this._makeNavFunction(n.cancel_link):D.a})}}]),n}(v.Component),da=n("vEo5"),pa=Object(ie.createSelector)(da.selectShouldPromptBrowserPush,(function(e){return da.selectBrowserPushStatus(e)}),(function(e,t){return{promptAllowed:e,pushSettingsFetchStatus:t.fetchStatus,subscribed:t.subscribed}})),fa={createLocalApiErrorHandler:Object(ae.d)("NOTIFICATIONS_PERMISSIONS_PROMPT"),dismissPushNotificationsPrompt:da.dismissPushNotificationsPrompt,fetchPushSettingsIfNeeded:da.fetchPushSettingsIfNeeded,loadPushPromptSettingsIfNeeded:da.loadPushPromptSettingsIfNeeded,pushSubscribe:da.pushSubscribe},ha=Object(re.g)(pa,fa),_a=n("5pef");function ma(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}function ba(e,t){e.granted_link.label||Object(we.a)("Invalid notification permission prompt subtask: granted_link does not have a label",{extra:{subtaskId:t,grantedLinkId:e.granted_link.link_id}})}var ya=ha(function(e){p()(n,e);var t=ma(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y()(u()(e),"componentDidMount",(function(){var t=e.props,n=t.createLocalApiErrorHandler,r=t.fetchPushSettingsIfNeeded,a=t.pushSettingsFetchStatus;ba(t.subtask,t.subtaskId),r().catch(n()),a===kt.a.LOADED&&e._skipIfPushPromptNotAllowed()})),y()(u()(e),"componentDidUpdate",(function(t){var n=e.props,r=n.pushSettingsFetchStatus,a=n.subtask;r===kt.a.LOADED&&t.pushSettingsFetchStatus!==kt.a.LOADED&&e._skipIfPushPromptNotAllowed(),a!==t.subtask&&ba(a,e.props.subtaskId)})),y()(u()(e),"_actionClicked",(function(t){var n=e.props,r=n.onNavigate,a=n.subtaskId;(0,n.updateFlow)(a,{link:t.link_id}),r(t)})),y()(u()(e),"_handleSkip",(function(){var t=e.props,n=t.dismissPushNotificationsPrompt,r=t.subtask;n(),e._actionClicked(r.denied_link)})),y()(u()(e),"_handleConfirm",(function(){var t=e.props,n=t.subtask;(0,t.pushSubscribe)().then((function(){e._actionClicked(n.granted_link)}))})),y()(u()(e),"_skipIfPushPromptNotAllowed",(function(){var t=e.props,n=t.promptAllowed,r=t.subscribed,a=t.subtask;n||e._actionClicked(r?a.granted_link:a.denied_link)})),e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.onNavigate,r=e.promptAllowed,i=e.subtask,o=e.subtaskInputs,s=i.primary_text?v.createElement(R,a()({},i.primary_text,{nativeID:g.i,onNavigate:n,subtaskInputs:o})):null,c=i.secondary_text?v.createElement(R,a()({},i.secondary_text,{onNavigate:n,subtaskInputs:o})):null;return r&&i.granted_link.label?v.createElement(A.a,{hideLogo:!0,history:t},v.createElement(B.a,{actionLabel:i.granted_link.label,graphic:_a.a,headline:s,onAction:this._handleConfirm,onClose:this._handleSkip,onTertiaryAction:this._handleSkip,subtext:c,tertiaryActionLabel:i.denied_link.label,withCloseButton:!1})):null}}]),n}(v.Component)),va={callOnboardingPath:te.a,createLocalApiErrorHandler:Object(ae.d)("OCF_OPEN_LINK")};function ga(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var ka=Object(re.b)(va)(function(e){p()(n,e);var t=ga(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y()(u()(e),"_hitCallbackPath",(function(){var t=e.props,n=t.createLocalApiErrorHandler,r=t.flowName,a=t.subtask.onboarding_callback_path,i=t.callOnboardingPath;return a?i(a).catch(n(Yt(r,void 0,D.a))):Promise.resolve()})),e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.subtask,n=e.subtaskId,r=e.onNavigate;return v.createElement(Gr,{navigationLink:t.link,onNavigate:r,subtaskAction:this._hitCallbackPath,subtaskId:n})}}]),n}(v.Component)),wa=n("Mx3A"),Oa=Object(ie.createSelector)(te.l,te.s,(function(e,t){return{navigationContext:e,verificationSendFailureMessage:t}})),Ea={createLocalApiErrorHandler:Object(ae.d)("OCF_FLOW_PHONE_VERIFICATION"),verifyIdentifier:te.y},Ca=Object(re.g)(Oa,Ea),Sa=n("wrlS");function xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ia="normalized_phone",Ra=function(e){p()(n,e);var t=xa(n);function n(e){var r;o()(this,n),r=t.call(this,e),y()(u()(r),"_sendSmsVerificationRequest",(function(){var e=r.props,t=e.createLocalApiErrorHandler,n=e.navigationContext,a=e.subtask,i=e.onNavigate,o=e.subtaskInputs,s=e.verifyIdentifier,c=a.phone_number.subtask_data_reference,l=a.phone_country_code&&a.phone_country_code.subtask_data_reference,u=c&&o[c.subtask_id][c.key],d=l&&o[l.subtask_id]&&o[l.subtask_id][l.key],p=n&&n.action?n.action===E.o.ResendVoice:!!a.send_via_voice;return r._isSmsAutoVerifySupported&&r._autoVerifySmsCode(),s({phone:u,use_voice:p,sim_country_code:d,send_auto_verify_hash:r._isSmsAutoVerifySupported}).then((function(e){var t=e.normalized_phone_number;t&&r.setState({normalized_phone:t})})).catch((function(e){var n=r.props,o=n.flowName,s=n.verificationSendFailureMessage;t(Yt(o,s||Gt))(e),i(a.fail_link)}))})),y()(u()(r),"_handleCodeUpdated",(function(e){r.setState({code:e.target.value})})),y()(u()(r),"_autoVerifySmsCode",(function(){var e,t=r.props.analytics;t.scribe({element:"auto",action:"attempt"}),window.navigator.credentials.get({otp:{transport:["sms"]},signal:null===(e=r._smsAutoVerifyAbortController)||void 0===e?void 0:e.signal}).then((function(e){var n=e.code;n&&(r._smsAutoVerifyAbortController=void 0,r.setState({code:n}),t.scribe({element:"auto",action:"success"}),r._handleDoneButtonClick()),t.scribe({element:"auto",action:"missing"})})).catch((function(){t.scribe({element:"auto",action:"failure"})}))})),y()(u()(r),"_handleDoneButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId,i=e.updateFlow,o=r.state,s=o.code,c=o.normalized_phone;i(a,{code:s,link:n.next_link.link_id,normalized_phone:c,by_voice:!!n.send_via_voice}),t(n.next_link)}));var a=e.subtaskId,i=e.subtaskInputs,s=Object(O.d)(i,{key:Ia,subtask_id:a},"")||"";return r.state={code:"",normalized_phone:s,showSmsResendDialog:!1},r._isSmsAutoVerifySupported="OTPCredential"in window&&Sa.b.isTrue("responsive_web_ocf_sms_autoverify_enabled"),r._isSmsAutoVerifySupported&&(r._smsAutoVerifyAbortController=new AbortController),r}return c()(n,[{key:"componentDidMount",value:function(){return this._sendSmsVerificationRequest()}},{key:"componentWillUnmount",value:function(){this._smsAutoVerifyAbortController&&(this._smsAutoVerifyAbortController.abort(),this.props.analytics.scribe({element:"auto",action:"abort"}))}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.onBackClick,r=e.onNavigate,i=e.subtask,o=e.subtaskInputs,s=e.progressIndication,c=v.createElement(Y.a,{disabled:!this.state.code,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},i.next_link.label),l=v.createElement(R,a()({},i.detail_text,{color:"link",onNavigate:r,style:Pa.detailLink,subtaskInputs:o}));return v.createElement(A.a,{history:t,onBackClick:n,progressIndication:s,rightControl:c},v.createElement(T.a,{style:G.contentArea},v.createElement(R,a()({},i.primary_text,{nativeID:g.i,onNavigate:r,size:"xLarge",style:G.headline,subtaskInputs:o,weight:"bold"})),v.createElement(R,a()({},i.secondary_text,{color:"deepGray",onNavigate:r,subtaskInputs:o})),v.createElement(Bt.a,{autoFocus:!0,helperText:l,label:i.hint_text,name:"verfication_code",onChange:this._handleCodeUpdated,style:G.formTextInput,value:this.state.code})),this.props.errorDialog)}}]),n}(v.Component),Pa=H.a.create((function(e){return{detailLink:{marginTop:e.spaces.small}}})),ja=Object(Oe.a)(Ca(Ra),{component:"phone_verification"});function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Aa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ta="discoverable_by_email",Fa="discoverable_by_phone",Na=function(e){p()(n,e);var t=Aa(n);function n(e){var r;o()(this,n),r=t.call(this,e),y()(u()(r),"_formatSubtaskInputsForRedux",(function(e){return{link:r.props.subtask.next_link,discoverable_by_email:e.discoverable_by_email?1:0,discoverable_by_phone:e.discoverable_by_phone?1:0}})),y()(u()(r),"_numberToBoolean",(function(e){return e>0})),y()(u()(r),"_getInitialSubtaskInputs",(function(){var e=r.props,t=e.subtaskId,n=e.subtaskInputs,a=Object(O.d)(n,{key:Ta,subtask_id:t}),i=Object(O.d)(n,{key:Fa,subtask_id:t});return{discoverable_by_email:void 0===a||r._numberToBoolean(a),discoverable_by_phone:void 0===i||r._numberToBoolean(i)}})),y()(u()(r),"_handleDoneButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId;(0,e.updateFlow)(a,r._formatSubtaskInputsForRedux(r.state)),t(n.next_link)})),y()(u()(r),"_handleDiscoverableByEmailToggle",(function(e){r.setState({discoverable_by_email:e})})),y()(u()(r),"_handleDiscoverableByPhoneToggle",(function(e){r.setState({discoverable_by_phone:e})}));var a=r._getInitialSubtaskInputs();return r.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a),r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,r=e.onNavigate,i=e.subtask,o=e.subtaskInputs,s=i.secondary_text?v.createElement(C.c,{size:"xLarge",style:G.headline,weight:"bold"},i.secondary_text):null,c=this.state,l=c.discoverable_by_email,u=c.discoverable_by_phone,d=v.createElement(Y.a,{onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},i.next_link.label);return v.createElement(A.a,{history:t,location:n,rightControl:d},v.createElement(T.a,{style:G.contentArea},v.createElement(C.c,{nativeID:g.i,style:H.a.visuallyHidden},i.primary_text),v.createElement(C.c,{size:"xLarge",style:G.headline,weight:"bold"},s),v.createElement(T.a,{accessibilityRole:"label",style:G.option},v.createElement(T.a,{style:G.checkboxText},v.createElement(C.c,null,i.discoverable_by_email_label),v.createElement(R,a()({},i.discoverable_by_email_detail_text,{color:"deepGray",onNavigate:r,size:"small",style:G.detailText,subtaskInputs:o}))),v.createElement(W.a,{checked:l,name:"discoverable_by_email",onChange:this._handleDiscoverableByEmailToggle})),v.createElement(T.a,{accessibilityRole:"label",style:G.option},v.createElement(T.a,{style:G.checkboxText},v.createElement(C.c,null,i.discoverable_by_phone_label),v.createElement(R,a()({},i.discoverable_by_phone_detail_text,{color:"deepGray",onNavigate:r,size:"small",style:G.supportingText,subtaskInputs:o}))),v.createElement(W.a,{checked:u,name:"discoverable_by_phone",onChange:this._handleDiscoverableByPhoneToggle}))))}}]),n}(v.Component),Ba=n("AspN"),La=n("53j7"),Ua=Object(ie.createSelector)(se.e.selectLoggedInUser,(function(e,t){var n=La.f(e),r=n?Ba.g(e,n):[];return Ut()(r,1)[0]}),(function(e,t){return{loggedInUser:e,avatarMedia:t}})),Va={addAvatarMedia:La.a,removeAvatarMedia:La.c},Ma=Object(re.g)(Ua,Va),za=n("fS8x"),qa=n("P68U"),Ha=n("eyty"),Ga=n("oSwX");function Wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ya=function(e){p()(n,e);var t=Wa(n);function n(e){var r;return o()(this,n),r=t.call(this,e),y()(u()(r),"_handleCropDone",(function(){return r.setState({done:!0,showCropper:!1})})),y()(u()(r),"_handleCropCancel",(function(){return r._handleCropDone()})),y()(u()(r),"_handleImageMediaChange",(function(e){(0,r.props.addAvatarMedia)(e[0]),r.setState({mediaId:e[0],showCropper:!0,done:!0})})),y()(u()(r),"_handleImageMediaFailure",(function(){r._handleSkipButtonClick()})),y()(u()(r),"_handleImageMediaRemove",(function(){(0,r.props.removeAvatarMedia)(),r.setState({done:!1,showCropper:!1})})),y()(u()(r),"_handleDoneButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId;(0,e.updateFlow)(a,{link:n.next_link.link_id}),t(n.next_link)})),y()(u()(r),"_handleSkipButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask.skip_link,a=e.subtaskId,i=e.updateFlow;n&&i(a,{link:n.link_id}),n&&t(n)})),r.state={done:!1,showCropper:!1,mediaId:void 0},r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.errorDialog,n=e.history,r=e.location,i=e.onBackClick,o=e.onNavigate,s=e.subtask,c=e.subtaskInputs,l=s.primary_text,u=s.secondary_text,d=s.next_link,p=s.skip_link,f=v.createElement(Y.a,{disabled:!p&&!this.state.mediaId,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},d.label),h=p&&v.createElement(Y.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},p.label);return v.createElement(A.a,{history:n,onBackClick:i,rightControl:this.state.done||!p?f:h},v.createElement(T.a,{style:G.contentArea},l?v.createElement(R,a()({},l,{nativeID:g.i,onNavigate:o,size:"xLarge",style:G.headline,subtaskInputs:c,weight:"bold"})):null,u?v.createElement(R,a()({},s.secondary_text,{color:"deepGray",onNavigate:o,subtaskInputs:c})):null,this._renderMediaPickerWithPreview()),this.state.showCropper&&void 0!==this.state.mediaId?v.createElement(za.a,{circle:!0,defaultAspectRatio:1,location:r,mediaId:this.state.mediaId,onCancel:this._handleCropCancel,onDone:this._handleCropDone}):null,t)}},{key:"_renderMediaPickerWithPreview",value:function(){var e=this.props,t=e.avatarMedia,n=e.loggedInUser,r=this.state.done;return v.createElement(T.a,{style:Za.centerContent},v.createElement(qa.a,{borderRadius:"infinite",currentContent:n?v.createElement(Ga.default,{size:"custom",uri:n.profile_image_url_https}):null,location:Ha.c.Avatar,mediaItem:t,onChange:this._handleImageMediaChange,onFailure:this._handleImageMediaFailure,onRemove:r?this._handleImageMediaRemove:void 0,rootStyle:Za.avatarContainer}))}}]),n}(v.Component),Za=H.a.create((function(e){return{avatarContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.white,borderStyle:"solid",marginTop:e.spaces.jumbo,marginBottom:e.spaces.jumbo,width:"calc(".concat(e.spaces.jumbo," * 3)")},bannerContainer:{marginTop:e.spaces.jumbo,marginBottom:e.spaces.jumbo,maxHeight:"9em"},banner:{height:"100%"},centerContent:{alignItems:"center",display:"flex",width:"100%"}}})),Xa=Ma(Ya),Ka=Object(ie.createSelector)(se.e.selectLoggedInUser,(function(e,t){var n=La.f(e),r=n?Ba.g(e,n):[];return Ut()(r,1)[0]}),(function(e,t){var n=La.g(e),r=n?Ba.g(e,n):[];return Ut()(r,1)[0]}),(function(e,t,n){return{loggedInUser:e,avatarMedia:t,bannerMedia:n}})),Qa={addBannerMedia:La.b,removeBannerMedia:La.d},Ja=Object(re.g)(Ka,Qa),$a=n("9Xij"),ei=n("U+bB");function ti(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var ni=function(e){p()(n,e);var t=ti(n);function n(e){var r;return o()(this,n),r=t.call(this,e),y()(u()(r),"_handleImageMediaRemove",(function(){(0,r.props.removeBannerMedia)(),r.setState({done:!1,showCropper:!1})})),y()(u()(r),"_handleCropDone",(function(){return r.setState({done:!0,showCropper:!1})})),y()(u()(r),"_handleCropCancel",(function(){return r._handleCropDone()})),y()(u()(r),"_handleImageMediaChange",(function(e){(0,r.props.addBannerMedia)(e[0]),r.setState({media_id:e[0],showCropper:!0,done:!0})})),y()(u()(r),"_handleImageMediaFailure",(function(){r._handleSkipButtonClick()})),y()(u()(r),"_handleDoneButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId;(0,e.updateFlow)(a,{link:n.next_link.link_id}),t(n.next_link)})),y()(u()(r),"_handleSkipButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask.skip_link,a=e.subtaskId,i=e.updateFlow;n&&i(a,{link:n.link_id}),n&&t(n)})),r.state={done:void 0,media_id:void 0,showCropper:!1},r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.errorDialog,n=e.history,r=e.location,i=e.onBackClick,o=e.onNavigate,s=e.subtask,c=e.subtaskInputs,l=s.primary_text,u=s.secondary_text,d=s.next_link,p=s.skip_link,f=v.createElement(Y.a,{disabled:!p&&!this.state.media_id,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},d.label),h=p&&v.createElement(Y.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},p.label);return v.createElement(A.a,{history:n,onBackClick:i,rightControl:this.state.done||!p?f:h},v.createElement(T.a,{style:G.contentArea},l?v.createElement(R,a()({},l,{nativeID:g.i,onNavigate:o,size:"xLarge",style:G.headline,subtaskInputs:c,weight:"bold"})):null,u?v.createElement(R,a()({},s.secondary_text,{color:"deepGray",onNavigate:o,subtaskInputs:c})):null,v.createElement(T.a,{style:ri.container},this._renderMediaPickerWithPreview(),this._renderAvatar(),this._renderNames()),this.state.showCropper&&void 0!==this.state.media_id?v.createElement(za.a,{defaultAspectRatio:3,location:r,mediaId:this.state.media_id,onCancel:this._handleCropCancel,onDone:this._handleCropDone}):null),t)}},{key:"_renderMediaPickerWithPreview",value:function(){var e=this.props,t=e.bannerMedia,n=e.loggedInUser,r=t||!!n&&!!n.profile_banner_url,a=this.state.done;return v.createElement(qa.a,{aspectRatio:3,currentContent:v.createElement($a.a,{ratio:H.a.theme.aspectRatios.profileBanner},r&&n?v.createElement(ei.a,{source:{uri:n.profile_banner_url},style:ri.banner}):null),location:Ha.c.Banner,mediaItem:t,onChange:this._handleImageMediaChange,onFailure:this._handleImageMediaFailure,onRemove:a?this._handleImageMediaRemove:void 0,rootStyle:ri.bannerContainer})}},{key:"_renderAvatar",value:function(){var e=this.props,t=e.avatarMedia,n=e.loggedInUser,r=t&&t.mediaFile&&t.mediaFile.url||n&&n.profile_image_url_https;return v.createElement(Ga.default,{size:"custom",style:[ri.avatarContainer],uri:r})}},{key:"_renderNames",value:function(){var e=this.props.loggedInUser;if(!e)return null;var t=e.name,n="@".concat(e.screen_name);return v.createElement(T.a,{style:ri.nameContainer},v.createElement(C.c,{align:"left",style:ri.names},v.createElement(C.c,{accessibilityRole:"heading",size:"xLarge",style:ri.displayName,weight:"bold"},t),v.createElement(C.c,{color:"deepGray",style:ri.screenName},n)))}}]),n}(v.Component),ri=H.a.create((function(e){return{container:{paddingBottom:e.spaces.jumbo},avatarContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.white,borderStyle:"solid",marginLeft:e.spaces.small,marginTop:"-25%",maxWidth:"calc(${theme.spaces.small} * 8)",width:"25%"},bannerContainer:{marginTop:e.spaces.jumbo,marginBottom:e.spaces.jumbo,maxHeight:"9em"},banner:{height:"100%"},centerContent:{alignItems:"center",display:"flex",width:"100%"},nameContainer:{marginLeft:e.spaces.small},names:{display:"block",marginBottom:e.spaces.xSmall},displayName:{writingDirection:"ltr",display:"block",marginTop:e.spaces.xxSmall},screenName:{writingDirection:"ltr"}}})),ai=Ja(ni),ii=n("QK5w"),oi=(n("ZVkB"),n("Lsrn"));function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?si(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var li=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(w.a)("svg",ci(ci({},e),{},{style:[oi.a.root,e.style],viewBox:"0 0 24 24"}),v.createElement("g",null,v.createElement("path",{d:"M18.707 13.293c-.39-.39-1.023-.39-1.414 0L13 17.586V5c0-.553-.447-1-1-1s-1 .447-1 1v12.586l-4.293-4.293c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293l6-6c.39-.39.39-1.023 0-1.414z"})))};li.metadata={width:24,height:24};var ui=li,di=H.a.create((function(e){return{icon:{height:"1.5em",width:"1.5em"},pillContainer:{bottom:e.spaces.small,alignItems:"center",left:"0",right:"0",margin:"auto",zIndex:1},pillContainerNarrow:{position:"fixed"},pillContainerModal:{position:"absolute"}}})),pi=function(e){var t=e.isModal,n=e.label,r=e.onPress,a=[di.pillContainer,t?di.pillContainerModal:di.pillContainerNarrow];return v.createElement(T.a,{style:a},v.createElement(Y.a,{icon:v.createElement(ui,{style:di.icon}),onPress:r,type:"primary"},v.createElement(C.c,{size:"normal",weight:"normal"},n)))},fi=n("7nmT"),hi=n.n(fi),_i="OCF_SettingsList_Text",mi=n("+d3d"),bi=n("jtO7");function yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yi(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var ki=function(e){p()(n,e);var t=gi(n);function n(e){var r;o()(this,n),r=t.call(this,e),y()(u()(r),"_formatSubtaskInputsForStore",(function(e){return Object.entries(e).map((function(e){var t=Ut()(e,2),n=t[0],r=t[1],a=r.result,i=r.type;return{key:n,response_data:y()({},i,{result:a})}}))})),y()(u()(r),"_loadSubtaskInputsFromStore",(function(){var e=r.props,t=e.subtaskId,n=e.subtaskInputs;return Object(O.d)(n,{key:E.k,subtask_id:t},[]).reduce((function(e,t){var n=t.key,r=Object.keys(t.response_data),a=Ut()(r,1)[0],i=t.response_data[a].result;return e[n]={result:i,type:a},e}),{})})),y()(u()(r),"_updateFlow",(function(){var e,t=r.props,n=t.subtask,a=t.subtaskId,i=t.updateFlow,o=n.next_link,s=r.state.settingsValues;i(a,(e={},y()(e,E.k,r._formatSubtaskInputsForStore(s)),y()(e,"link",o.link_id),e))})),y()(u()(r),"_handleShowMore",(function(){r.setState({showMore:!0})})),y()(u()(r),"_handleDoneButtonPress",(function(){var e=r.props,t=e.onNavigate,n=e.subtask.next_link;r._updateFlow(),t(n)})),y()(u()(r),"_handleSubListBackClick",(function(){r.setState({isSubList:!1,showDividers:!1,showMoreConfig:null,subList:[],subListHeader:{}}),r._updateFlow()})),y()(u()(r),"_handleSettingGroupClick",(function(e){var t=e.primary_text,n=e.value_data;e.value_type===E.l.SettingsGroup&&r.setState({isSubList:!0,showDividers:!1,showMoreConfig:null,subList:n.settings_group_data.settings,subListHeader:t})})),y()(u()(r),"_handleScrollPromptClick",(function(){r._viewport.scrollBy(r._viewport.getRect().getHeight())})),y()(u()(r),"_handleViewportSet",(function(e){var t=r.props,n=t.isModal;t.subtask.scroll_hint&&n&&(r._viewport=e,r._viewport&&r._viewport.addScrollListener(r._handleViewportScroll))})),y()(u()(r),"_handleViewportScroll",Object(mi.a)((function(){r.state.lastSettingSeen||r.setState({lastSettingSeen:r._isLastSettingInViewport()})}),250)),y()(u()(r),"_isLastSettingInViewport",(function(){if(r._lastSetting&&r._viewport){var e=r._lastSetting.getBoundingClientRect(),t=r._viewport.getRect();return e.top>=t.getTop()&&e.bottom<=t.getBottom()}return!1})),y()(u()(r),"_setSettingsRef",(function(e){return function(t){var n=r.state.isSubList;if(r.props.subtask.scroll_hint&&!n&&e&&void 0===r._lastSetting){r._lastSetting=hi.a.findDOMNode(t);var a=r._isLastSettingInViewport();a&&!r.state.lastSettingSeen&&r.setState({lastSettingSeen:a})}else r._lastSetting=void 0}})),y()(u()(r),"_handleSettingToggle",(function(e){var t=e.value_identifier,n=e.value_type;if(Object(O.g)(n)){var a=r.state.settingsValues;r.setState({settingsValues:vi(vi({},a),{},y()({},t,vi(vi({},a[t]),{},{result:!a[t].result})))})}}));var a=e.subtask,i=r._initializeSettingsState(a.settings);return r.state={isSubList:!1,showDividers:a.show_divider,showMoreConfig:a.show_more,showMore:!1,subList:[],subListHeader:{},settingsValues:i,lastSettingSeen:!1},r}return c()(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.context.viewport,t=this.props,n=t.isModal;t.subtask.scroll_hint&&!n&&(this._viewport=e,this._removeScrollListener=this._viewport.addScrollListener(this._handleViewportScroll)),this._updateFlow()}},{key:"componentWillUnmount",value:function(){this.props.subtask.scroll_hint&&this._removeScrollListener&&this._removeScrollListener()}},{key:"render",value:function(){return this.state.isSubList?this._renderSubList():this._renderMainList()}},{key:"_renderMainList",value:function(){var e=this.props,t=e.errorDialog,n=e.history,r=e.isModal,i=e.location,o=e.onBackClick,s=e.onNavigate,c=e.subtask,l=e.subtaskInputs,u=e.progressIndication,d=this.state.lastSettingSeen,p=!!!c.scroll_hint||d,f="prompt"===c.style,h=v.createElement(Y.a,{disabled:!p,onPress:this._handleDoneButtonPress,size:f?"normal":"normalCompact",type:"primary"},c.next_link.label),_=p?null:v.createElement(pi,{isModal:!!r,label:c.scroll_hint,onPress:this._handleScrollPromptClick});return v.createElement(A.a,{history:n,location:i,onBackClick:o,onViewportSet:this._handleViewportSet,progressIndication:u,rightControl:f?void 0:h,scrollPrompt:_},v.createElement(T.a,{style:[G.contentArea,wi.bottomPadding,f&&wi.centeredRoot]},v.createElement(R,a()({},c.primary_text,{nativeID:g.i,onNavigate:s,size:"xLarge",style:wi.headline,subtaskInputs:l,testID:_i,weight:"bold"})),c.secondary_text?v.createElement(R,a()({},c.secondary_text,{color:"deepGray",onNavigate:s,style:wi.headline,subtaskInputs:l})):null,this._renderSettingsList(c.settings),c.detail_text?v.createElement(R,a()({},c.detail_text,{color:"deepGray",onNavigate:s,style:wi.detailText,subtaskInputs:l})):null,f?v.createElement(T.a,{style:wi.doneButtonContainer},h):null),t)}},{key:"_renderSubList",value:function(){var e=this.props,t=e.history,n=e.location,r=e.onNavigate,i=e.subtaskInputs,o=this.state,s=o.subList,c=o.subListHeader;return v.createElement(A.a,{history:t,location:n,onBackClick:this._handleSubListBackClick},v.createElement(T.a,{style:G.contentArea},v.createElement(R,a()({},c,{onNavigate:r,size:"xLarge",style:wi.headline,subtaskInputs:i,weight:"bold"})),this._renderSettingsList(s)))}},{key:"_renderSettingsList",value:function(e){var t=this,n=this.props,r=n.addToast,a=n.onNavigate,i=n.removeContacts,o=n.subtaskId,s=n.subtaskInputs,c=n.updateFlow,l=this.state,u=l.showDividers,d=l.showMoreConfig,p=l.showMore;return v.Children.toArray(e.map((function(n,l){var f=l===e.length-1;if(d&&!p){if(l===d.initial_to_show)return v.createElement(bi.a,{color:"primary",label:d.text,onPress:t._handleShowMore});if(l>d.initial_to_show)return null}return v.createElement(qn,{addToast:r,onNavigate:a,onSettingGroupClick:t._handleSettingGroupClick,onSettingToggle:t._handleSettingToggle,ref:t._setSettingsRef(f),removeContacts:i,settingValue:n,showDividers:!f&&u,subtaskId:o,subtaskInputs:s,updateFlow:c})})))}},{key:"_initializeSettingsState",value:function(e){var t=this._loadSubtaskInputsFromStore();return t&&Object.keys(t).length>0?t:e.reduce((function(e,t){var n=t.value_data,r=t.value_identifier,a=t.value_type;if(Object(O.g)(a))e[r]={result:n.boolean_data.initial_value,type:Object.keys(n)[0]};else if(a===E.l.SettingsGroup){n.settings_group_data.settings.forEach((function(t){var n=t.value_data,r=t.value_identifier,a=t.value_type;Object(O.g)(a)&&(e[r]={result:n.boolean_data.initial_value,type:Object.keys(n)[0]})}))}return e}),{})}}]),n}(v.Component);y()(ki,"contextTypes",{viewport:S.object});var wi=H.a.create((function(e){return{centeredRoot:{alignItems:"center"},headline:{marginBottom:e.spaces.xSmall},detailText:{marginTop:e.spaces.xLarge},bottomPadding:{paddingBottom:e.spaces.xxLarge},doneButtonContainer:{marginTop:e.spaces.xLarge}}})),Oi=(n("yH/f"),n("NeAX")),Ei=Object(ie.createSelector)(te.l,Oi.selectPreferences,Oi.selectUserPreferences,(function(e,t,n){return{navigationContext:e,personalizationSettings:n,shouldPropagateP13nSettings:!t.is_eu_country}})),Ci={createLocalApiErrorHandler:Object(ae.d)("OCF_FLOW"),fetchPreferencesIfNeeded:Oi.fetchPreferencesIfNeeded,scribeAction:ee.c,syncPersonalizationSettings:Oi.syncSettings},Si=Object(re.g)(Ei,Ci),xi=n("YeIG");function Ii(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ri=Et.a.d44efc66,Pi=Et.a.b4867a17,ji=function(e){p()(n,e);var t=Ii(n);function n(e,r){var a;return o()(this,n),a=t.call(this,e,r),y()(u()(a),"_updateValue",(function(e){var t=a.props.callback,n=Object(xi.a)(e.trim()),r=!n&&-1!==e.toLowerCase().indexOf("twitter"),i=!n&&!r,o="";n?o=Ri:r&&(o=Pi),a.setState({errorMessage:o,isValid:i,value:e}),t(e,i)})),y()(u()(a),"_handleValueChange",(function(e){var t=e.target.value;a._updateValue(t)})),a.state={errorMessage:"",isValid:!0,value:""},a}return c()(n,[{key:"componentDidMount",value:function(){var e=this.props.defaultValue;e&&this._updateValue(e)}},{key:"render",value:function(){var e=this.props,t=(e.defaultValue,en()(e,["defaultValue"])),n=this.state,r=n.errorMessage,i=n.isValid,o=Sa.b.getValue("user_display_name_max_limit",50);return v.createElement(Bt.a,a()({},t,{errorText:r,invalid:!i,maxLength:o,name:"name",onChange:this._handleValueChange,positionCursorAtEnd:!0,style:G.formTextInput,value:this.state.value}))}}]),n}(v.Component),Di=n("SrtL"),Ai=n("P7wY"),Ti=n("Ukpf"),Fi=n("S8sr");function Ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ni(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Li(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ui=Et.a.eab9ceb1,Vi=Object.freeze({Birthday:"birthday",Email:"email",Name:"name",Phone:"phone_number",Password:"password"}),Mi="select_birthday",zi="select_email",qi="select_name",Hi="select_phone",Gi={page:"onboarding",component:"signup"},Wi=function(e){p()(n,e);var t=Li(n);function n(e){var r;o()(this,n),r=t.call(this,e),y()(u()(r),"_getDefaultIdentifierField",(function(){var e=r.props.subtask.allowed_identifiers;return e===E.m.EmailOnly||e===E.m.EmailThenPhone?Vi.Email:Vi.Phone})),y()(u()(r),"_renderActiveFieldToggle",(function(){var e=r.props.subtask.allowed_identifiers;return e!==E.m.EmailOnly&&e!==E.m.PhoneOnly?v.createElement(C.c,{color:"link",onPress:r._handleActiveTextToggle,style:Yi.toggleLink,withInteractiveStyling:!0},r._getToggleActiveTextTitle()):null})),y()(u()(r),"_renderPasswordField",(function(){var e=r.props,t=e.subtask,n=e.subtaskId,a=e.subtaskInputs,i=r.state.defaultActiveText,o=Object(O.d)(a,{key:Vi.Password,subtask_id:n},"");return v.createElement(T.a,{style:Yi.passwordEntry},v.createElement(fr,{autoComplete:"new-password",defaultValue:o||void 0,label:t.password_hint,onPasswordChange:r._handlePasswordChange,onPasswordValidated:r._handlePasswordValidate,userIdentifier:i||void 0}))})),y()(u()(r),"_renderNameField",(function(){var e=r.props,t=e.navigationContext,n=e.subtask,a=e.subtaskId,i=e.subtaskInputs,o=Object(O.d)(i,{key:Vi.Name,subtask_id:a},""),s=t.action,c={autoComplete:"name",autoFocus:!s||s===qi,callback:r._updateNameInfo,defaultValue:o,onFocus:r._handleNameFocus,label:n.name_hint};return v.createElement(ji,c)})),y()(u()(r),"_renderActiveTextField",(function(){var e=r.props.subtask,t=r.state,n=t.activeTextField,a=t.defaultActiveText,i=r._shouldFocusActiveTextField(),o={autoComplete:n===Vi.Phone?"tel":"email",autoFocus:i,defaultValue:a,name:n===Vi.Phone?"phone_number":"email",label:n===Vi.Phone?e.phone_hint:e.email_hint,onRef:r._setInputRef,onValidityChange:r._updateValidity,style:Yi.phoneEmailTextField};return n===Vi.Phone?v.createElement(gr,o):v.createElement(In,o)})),y()(u()(r),"_handleDateChange",(function(e){r.setState({birthdayValue:e,isBirthdayValid:r._isCompleteDate(e)},r._updateValidity)})),y()(u()(r),"_isCompleteDate",(function(e){return!!(e&&e.year&&e.month&&e.day)})),y()(u()(r),"_getIdentifierValue",(function(){return r._input&&r._input.getValue()})),y()(u()(r),"_isValid",(function(){var e=r.state,t=e.isBirthdayValid,n=e.isNameValid,a=e.isPasswordValid,i=r.props.subtask,o=!i.show_password_field||a,s=i.ignore_birthday||t;return n&&o&&s&&r._input&&r._input.isValid()})),y()(u()(r),"_setTimRef",(function(e){r._timInput=e})),y()(u()(r),"_updateValidity",(function(){r.setState({isValid:r._isValid()})})),y()(u()(r),"_updateNameInfo",(function(e,t){r.setState({isNameValid:t,nameValue:e},r._updateValidity)})),y()(u()(r),"_handleFetchPreferences",(function(){var e=r.props,t=e.createLocalApiErrorHandler;(0,e.fetchPreferencesIfNeeded)().catch(t())})),y()(u()(r),"_handlePasswordChange",(function(e){r.setState({passwordValue:e},r._updateValidity)})),y()(u()(r),"_handlePasswordValidate",(function(e){r.setState({isPasswordValid:e},r._updateValidity)})),y()(u()(r),"_shouldFocusActiveTextField",(function(){var e=r.props.navigationContext,t=r.state.activeTextField===Vi.Phone?Hi:zi;return!r.state.hasNameFieldBeenAutoFocused&&e.action===t})),y()(u()(r),"_handleActiveTextToggle",(function(){var e=r.state.activeTextField===Vi.Phone?Vi.Email:Vi.Phone;r._scribeEvent(e,"choose"),r._input&&r._input.clear(),r.setState({activeTextField:e,defaultActiveText:""})})),y()(u()(r),"_getToggleActiveTextTitle",(function(){var e=r.props.subtask;return r.state.activeTextField===Vi.Phone?e.use_email_text:e.use_phone_text})),y()(u()(r),"_handleNameFocus",(function(){r.setState({hasNameFieldBeenAutoFocused:!0})})),y()(u()(r),"_handleNextButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.shouldPropagateP13nSettings,a=e.subtask,i=e.subtaskId,o=e.updateFlow,s=r.state,c=s.activeTextField,l=s.birthdayValue,u=s.nameValue,d=s.passwordValue,p=r.props.personalizationSettings||{},f=p.allowCookieUse,h=p.allowDeviceAccess,_=p.allowPartnerships,m=p.allowPersonalization,b=c===Vi.Email&&a.email_next_link?a.email_next_link:a.next_link,y=r._timInput&&r._timInput.value?{response:r._timInput.value}:void 0,v=r._getIdentifierValue()||void 0,g={js_instrumentation:y,link:b.link_id,name:u};g[c]=v,a.show_password_field&&(g.password=d),!a.ignore_birthday&&l&&(g.birthday=l),n&&(g.personalization_settings={allow_cookie_use:!!f,allow_device_personalization:!!h,allow_partnerships:!!_,allow_ads_personalization:!!m}),o(i,g),t(b)})),y()(u()(r),"_scribeEvent",(function(e,t){(0,r.props.scribeAction)(Bi(Bi({},Gi),{},{element:e,action:t}))})),y()(u()(r),"_setInputRef",(function(e){r._input=e}));var a=e.navigationContext,i=e.subtaskId,s=e.subtaskInputs,c=Object(O.d)(s,{key:Vi.Name,subtask_id:i},""),l=Object(O.d)(s,{key:Vi.Phone,subtask_id:i},""),d=Object(O.d)(s,{key:Vi.Email,subtask_id:i},""),p=Object(O.d)(s,{key:Vi.Password,subtask_id:i},""),f={day:void 0,month:void 0,year:void 0},h=Object(O.d)(s,{key:Vi.Birthday,subtask_id:i},void 0)||f,_=function(e){switch(e){case Hi:return{type:Vi.Phone,value:l};case zi:return{type:Vi.Email,value:d};default:return{type:d?Vi.Email:r._getDefaultIdentifierField(),value:d||l}}}(a.action);return r.state={activeTextField:_.type,birthdayValue:h,defaultActiveText:_.value,nameValue:c,hasNameFieldBeenAutoFocused:!1,passwordValue:p,isNameValid:void 0,isPasswordValid:!!p,isBirthdayValid:r._isCompleteDate(h),isValid:void 0},r}return c()(n,[{key:"componentDidMount",value:function(){Ti.a.inject("https://twitter.com/i/js_inst?c_name=ui_metrics"),this._handleFetchPreferences(),this.props.syncPersonalizationSettings()}},{key:"componentDidUpdate",value:function(){this._shouldFocusActiveTextField()&&this._input&&this._input.focus()}},{key:"render",value:function(){var e=this.props,t=e.subtask,n=e.history,r=e.progressIndication,a=v.createElement(Y.a,{disabled:!this.state.isValid,onPress:this._handleNextButtonClick,size:"normalCompact",type:"primary"},t.next_link.label);return v.createElement(A.a,{history:n,progressIndication:r,rightControl:a},v.createElement(Di.a,{title:Ui}),v.createElement(T.a,{style:G.contentArea},t.primary_text&&v.createElement(C.c,{nativeID:g.i,size:"xLarge",style:G.headline,weight:"bold"},t.primary_text),this._renderNameField(),this._renderActiveTextField(),this._renderActiveFieldToggle(),this._renderBirthdayField(),t.show_password_field?this._renderPasswordField():null,v.createElement("input",{autoComplete:"off",name:"ui_metrics",ref:this._setTimRef,type:"hidden"})))}},{key:"_renderBirthdayField",value:function(){var e=this.props,t=e.navigationContext,n=e.subtask,r=n.birthday_explanation,a=n.birthday_hint,i=n.ignore_birthday,o=this.state.birthdayValue||{},s=t.action===Mi;return i?null:v.createElement(T.a,{accessibilityLabel:a,accessibilityRole:"group",style:Yi.birthdayPicker},v.createElement(C.c,{size:"normal",weight:"bold"},a),v.createElement(C.c,{color:"deepGray",size:"normal"},r),v.createElement(Fi.a,{autofocus:s,day:o.day,label:n.birthday_hint||"",minSelectableYear:Object(Ai.b)(),month:o.month,onChange:this._handleDateChange,year:o.year}))}}]),n}(v.Component),Yi=H.a.create((function(e){return{birthdayPicker:{marginTop:e.spaces.large},toggleLink:{marginTop:e.spaces.small,alignSelf:"flex-start"},passwordEntry:{marginTop:e.spaces.small},phoneEmailTextField:{paddingHorizontal:0}}})),Zi=Si(Wi);function Xi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ki=Et.a.a565833d,Qi=Et.a.h3629782,Ji=Et.a.j1c3f4b9,$i=function(e){p()(n,e);var t=Xi(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y()(u()(e),"_handleSignupButtonClick",(function(){var t,n=e.props,r=n.onNavigate,a=n.subtask,i=n.subtaskId,o=n.subtaskInputs,s=n.updateFlow,c=a.phone_number,l=a.email,u=c&&c.subtask_data_reference&&Object(O.d)(o,c.subtask_data_reference),d=l&&l.subtask_data_reference&&Object(O.d)(o,l.subtask_data_reference);e._isOldEnoughOrIgnored()?u?t=a.phone_next_link:d&&(t=a.email_next_link):t=a.invalid_birthday_link,t&&s(i,{link:t.link_id}),t&&r(t)})),y()(u()(e),"_handleNavigationClick",(function(t){(0,e.props.onNavigate)(t)})),y()(u()(e),"_handleNameEdit",(function(){var t=e.props.subtask;e._handleNavigationClick(t.name_edit_link)})),y()(u()(e),"_handleBirthdayEdit",(function(){var t=e.props.subtask;e._handleNavigationClick(t.birthday_edit_link)})),y()(u()(e),"_handlePhoneEdit",(function(){var t=e.props.subtask;e._handleNavigationClick(t.phone_edit_link)})),y()(u()(e),"_handleEmailEdit",(function(){var t=e.props.subtask;e._handleNavigationClick(t.email_edit_link)})),y()(u()(e),"_handlePrivacyOptionsClick",(function(t){return function(n){n.preventDefault(),e._handleNavigationClick(t)}})),y()(u()(e),"_isOldEnoughOrIgnored",(function(){var t=e.props.subtask,n=t.birthday,r=t.birthday_requirement;if(t.ignore_birthday)return!0;var a=n&&n.subtask_data_reference&&Object(O.d)(e.props.subtaskInputs,n.subtask_data_reference),i=a&&new Date(a.year,a.month-1,a.day),o=r||{},s=o.year,c=o.month,l=o.day,u=s&&c&&l&&new Date(s,c-1,l);return!i||!u||i<=u})),y()(u()(e),"_getSignupButtonLabel",(function(){var t=e.props,n=t.subtask,r=t.subtaskInputs,a=n.phone_number,i=n.email,o=a&&a.subtask_data_reference&&Object(O.d)(r,a.subtask_data_reference),s=i&&i.subtask_data_reference&&Object(O.d)(r,i.subtask_data_reference);return o?n.phone_next_link.label:s?n.email_next_link.label:Ki})),e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.errorDialog,n=e.history,r=e.onBackClick,a=e.progressIndication;return v.createElement(A.a,{history:n,onBackClick:r,progressIndication:a},v.createElement(T.a,null,v.createElement(T.a,{style:G.contentArea},this._maybeRenderPrimaryText(),this._renderNameField(),this._renderPhoneOrEmailField(),this._maybeRenderBirthdayField(),this._maybeRenderDetailText(),v.createElement(Y.a,{onPress:this._handleSignupButtonClick,size:"normalLarge",style:G.primaryButton,type:"primary"},this._getSignupButtonLabel()))),t)}},{key:"_maybeRenderPrimaryText",value:function(){var e=this.props.subtask;return e.primary_text?v.createElement(C.c,{align:"left",nativeID:g.i,size:"xLarge",style:G.headline,weight:"bold"},e.primary_text):null}},{key:"_maybeRenderDetailText",value:function(){var e=this.props,t=e.onNavigate,n=e.subtask,r=e.subtaskInputs,i=n.detail_text;return i?v.createElement(R,a()({},i,{onNavigate:t,style:eo.detailText,subtaskInputs:r})):null}},{key:"_renderNameField",value:function(){var e=this.props,t=e.subtask,n=e.subtaskInputs,r=t.name&&t.name.subtask_data_reference&&Object(O.d)(n,t.name.subtask_data_reference);return v.createElement(T.a,{onClick:this._handleNameEdit,testID:"editName"},v.createElement(Bt.a,{defaultValue:r||"",name:"name",style:G.formTextInput}))}},{key:"_maybeRenderBirthdayField",value:function(){var e=this.props,t=e.subtask,n=e.subtaskInputs,r=t.birthday&&t.birthday.subtask_data_reference&&Object(O.d)(n,t.birthday.subtask_data_reference),a=r||{},i=a.day,o=a.month,s=a.year,c=i&&o&&s&&Qi(new Date(s,o-1,i));return!t.ignore_birthday&&r&&c?v.createElement(T.a,{accessibilityLabel:Ji({birthdate:c}),accessibilityRole:"button",onClick:this._handleBirthdayEdit,testID:"editBirthday"},v.createElement(Bt.a,{defaultValue:c,name:"birthday",style:G.formTextInput})):null}},{key:"_renderPhoneOrEmailField",value:function(){var e=this.props,t=e.subtask,n=t.phone_number,r=t.email,a=e.subtaskInputs,i=n&&n.subtask_data_reference&&Object(O.d)(a,n.subtask_data_reference),o=r&&r.subtask_data_reference&&Object(O.d)(a,r.subtask_data_reference);return i?v.createElement(T.a,{onClick:this._handlePhoneEdit,testID:"editPhone"},v.createElement(Bt.a,{defaultValue:i||"",name:"phone",style:G.formTextInput})):o?v.createElement(T.a,{onClick:this._handleEmailEdit,testID:"editEmail"},v.createElement(Bt.a,{defaultValue:o||"",name:"email",style:G.formTextInput})):null}}]),n}(v.Component),eo=H.a.create((function(e){return{detailText:{marginTop:e.spaces.jumbo}}})),to=$i,no="selected_search_topic_ids",ro="selected_topic_ids",ao=[],io=Object(ie.createSelector)((function(e,t){var n=Object(te.q)(e);return Object(O.d)(n,{key:no,subtask_id:t.subtaskId})}),(function(e,t){var n=Object(te.q)(e);return Object(O.d)(n,{key:ro,subtask_id:t.subtaskId})}),(function(e,t){return t.subtask.selected_topics_cart?t.subtask.selected_topics_cart.selected_topic_ids:ao}),(function(e,t,n){return{initialSearchTopicIds:e||ao,initialSelectedTopicIds:t||n}})),oo=Object(re.c)(io),so=n("+1/s"),co=n("Rp9C"),lo=n("Znyr"),uo=n("sgih"),po=n("feu+"),fo=(n("jQ/y"),Object.freeze({TopicCategory:"topic_category",Topic:"topic"})),ho=n("j7Bv"),_o=n("CGyZ"),mo=n("cm6r"),bo=n("zfvc"),yo=n("EHV7"),vo=n("iY63");function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(w.a)("svg",ko(ko({},e),{},{style:[oi.a.root,e.style],viewBox:"0 0 24 24"}),v.createElement("g",null,v.createElement("path",{d:"M19 13H5c-.553 0-1-.447-1-1s.447-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1z"})))};wo.metadata={width:24,height:24};var Oo=wo;function Eo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Co=function(e){p()(n,e);var t=Eo(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y()(u()(e),"_handleFollow",(function(){var t=e.props;(0,t.onFollowTopic)(t.id)})),y()(u()(e),"_handleUnfollow",(function(){var t=e.props;(0,t.onUnfollowTopic)(t.id)})),e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.selectedTopicIds,r=e.subtaskInputs,i=e.topicsById[t],o=n.includes(this.props.id);return v.createElement(T.a,{style:xo.cell},v.createElement(ho.a,{Icon:yo.a,size:"large",style:xo.topicIcon}),v.createElement(T.a,{style:xo.topicInfo},v.createElement(R,a()({weight:"bold"},i.title,{subtaskInputs:r})),i.description?v.createElement(R,a()({color:"deepGray"},i.description,{subtaskInputs:r})):null),v.createElement(_o.a,{isFollowing:o,onFollow:this._handleFollow,onUnfollow:this._handleUnfollow,showRelationshipChangeConfirmation:!1,size:"normalCompact",type:"topic"}))}}]),n}(v.PureComponent),So=function(e){p()(n,e);var t=Eo(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y()(u()(e),"state",{expanded:!1}),y()(u()(e),"_handleClick",(function(){e.setState({expanded:!e.state.expanded})})),e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.categoriesById,n=e.id,r=e.isTopLevel,i=e.subtaskInputs,o=this.state.expanded,s=t[n],c=o?Ro:Io;return v.createElement(v.Fragment,null,v.createElement(mo.a,{onClick:this._handleClick,style:xo.cell},v.createElement(R,a()({color:"primary",size:r?"large":"normal",weight:r?"heavy":"bold"},s.title,{subtaskInputs:i})),c),v.createElement(T.a,{style:xo.children},v.createElement(bo.b,{show:o},this._renderChildren())))}},{key:"_renderChildren",value:function(){var e=this.props,t=e.categoriesById,r=e.id,i=e.selectedTopicIds,o=e.onFollowTopic,s=e.onUnfollowTopic,c=e.subtaskInputs,l=e.topicsById,u=t[r],d={selectedTopicIds:i,onFollowTopic:o,onUnfollowTopic:s,topicsById:l,subtaskInputs:c};return u.children_items.map((function(e){var r=e.id;return e.type===fo.Topic?v.createElement(Co,a()({},d,{id:r,key:r})):v.createElement(n,a()({},d,{categoriesById:t,id:r,key:r}))}))}}]),n}(v.PureComponent),xo=H.a.create((function(e){return{cell:{alignItems:"center",flexDirection:"row",paddingVertical:e.spaces.xSmall,paddingHorizontal:e.spaces.xxSmall,justifyContent:"space-between",borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},topicInfo:{flexGrow:1,flexShrink:1,marginRight:e.spaces.xSmall},topicIcon:{flexShrink:0,marginRight:e.spaces.xSmall},plusIcon:{color:e.colors.deepGray},minusIcon:{color:e.colors.primary},children:{marginLeft:e.spaces.xSmall}}})),Io=v.createElement(vo.a,{style:xo.plusIcon}),Ro=v.createElement(Oo,{style:xo.minusIcon});function Po(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var jo=Et.a.f134915f,Do=Et.a.h6beb5fa,Ao=Et.a.b8fb87e0,To=v.createElement(so.a,null),Fo=function(e){p()(n,e);var t=Po(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),y()(u()(e),"state",{hideBanner:!1,selectedTopicIds:e.props.initialSelectedTopicIds,showCart:!1}),y()(u()(e),"_renderCartButton",(function(){var t=e.props.subtask.selected_topics_cart,n=e.state.selectedTopicIds;return t&&t.title&&n.length>0?v.createElement(T.a,null,v.createElement(Y.a,{accessibilityLabel:Ao,icon:To,onPress:e._handleOpenCart,size:"normalCompact",type:"secondary"}),v.createElement(lo.a,{count:n.length,truncatedCountFormatter:Do,unreadCountLabel:jo,withBorder:!0})):null})),y()(u()(e),"_renderCart",(function(){var t=e.props,n=t.subtask,r=t.subtaskInputs,i=n.selected_topics_cart,o=i&&i.done_label?v.createElement(Y.a,{key:"button_cancel",onPress:e._handleCloseCart,style:No.cartButton,type:"neutral"},i.done_label.text):null;return v.createElement(uo.a,{onMaskClick:e._handleCloseCart,style:No.cart,type:"bottom",withMask:!0},i&&i.title?v.createElement(R,a()({align:"center",size:"large",style:No.cartHeader,subtaskInputs:r,weight:"heavy"},i.title)):null,e._renderCartItems(),o)})),y()(u()(e),"_handleOpenCart",(function(){e.setState({showCart:!0}),e.props.analytics.scribe({element:"cart",action:"impression"})})),y()(u()(e),"_handleCloseCart",(function(){e.setState({showCart:!1}),e.props.analytics.scribe({element:"cart",action:"dismiss"})})),y()(u()(e),"_renderBanner",(function(){var t=e.props.subtask.banner,n=e.state.hideBanner;return t&&!n?v.createElement(po.a,{actionLabel:t.dismiss_label.text,headline:t.title.text,onAction:e._handleBannerDismiss,onClose:e._handleBannerDismiss,subtext:t.subtitle.text}):null})),y()(u()(e),"_renderText",(function(){var t=e.props,n=t.subtask,r=t.subtaskInputs,i=n.primary_text,o=n.secondary_text;return v.createElement(T.a,{style:No.textContainer},i?v.createElement(R,a()({align:"center",size:"large",subtaskInputs:r,weight:"heavy"},i)):null,o?v.createElement(R,a()({align:"center",color:"deepGray",style:No.bodyText,subtaskInputs:r},o)):null)})),y()(u()(e),"_renderSkip",(function(){var t=e.props.subtask.skip_link;return t?v.createElement(Y.a,{onPress:e._handleSkipButtonClick,size:"normalCompact",style:No.skipButton,type:"text"},t.label):null})),y()(u()(e),"_renderDone",(function(){return v.createElement(Y.a,{onPress:e._handleNextButtonClick,size:"normalCompact",type:"primary"},e.props.subtask.next_link.label)})),y()(u()(e),"_renderCartItems",(function(){var t=e.props,n=t.subtask,r=t.subtaskInputs,a=e.state.selectedTopicIds;return a.map((function(t){return v.createElement(Co,{id:t,key:t,onFollowTopic:e._handleFollowTopic,onUnfollowTopic:e._handleUnfollowTopic,selectedTopicIds:a,subtaskInputs:r,topicsById:n.topic_by_id_list})}))})),y()(u()(e),"_renderItems",(function(){var t=e.props,n=t.subtask,r=t.subtaskInputs,a=e.state.selectedTopicIds;return n.top_category_ids.map((function(t){return v.createElement(So,{categoriesById:n.category_by_id_list,id:t,isTopLevel:!0,key:t,onFollowTopic:e._handleFollowTopic,onUnfollowTopic:e._handleUnfollowTopic,selectedTopicIds:a,subtaskInputs:r,topicsById:n.topic_by_id_list})}))})),y()(u()(e),"_handleFollowTopic",(function(t){e.props.analytics.scribe({element:"topic",action:"follow",data:{items:[co.a.forTopic(t)]}}),e.setState({selectedTopicIds:[].concat(Yr()(e.state.selectedTopicIds),[t])})})),y()(u()(e),"_handleUnfollowTopic",(function(t){e.props.analytics.scribe({element:"topic",action:"unfollow",data:{items:[co.a.forTopic(t)]}}),e.setState({selectedTopicIds:e.state.selectedTopicIds.filter((function(e){return e!==t}))})})),y()(u()(e),"_handleBannerDismiss",(function(){e.props.analytics.scribe({element:"prompt",action:"dismiss"}),e.setState({hideBanner:!0})})),y()(u()(e),"_handleNextButtonClick",(function(){var t=e.props,n=t.onNavigate,r=t.subtask,a=t.subtaskId,i=t.updateFlow,o=e.state.selectedTopicIds;i(a,{link:r.next_link.link_id,selected_topic_ids:o}),n(r.next_link)})),y()(u()(e),"_handleSkipButtonClick",(function(){var t=e.props,n=t.onNavigate,r=t.subtask,a=t.subtaskId;(0,t.updateFlow)(a,{link:r.skip_link.link_id}),n(r.skip_link)})),e}return c()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.analytics;e.subtask.banner&&t.scribe({element:"prompt",action:"impression"})}},{key:"render",value:function(){var e=this.props,t=e.errorDialog,n=e.history,r=this.state.showCart,a=v.createElement(T.a,{style:No.buttonContainer},this._renderSkip(),this._renderDone()),i=this._renderCartButton();return v.createElement(A.a,{history:n,leftControl:i,rightControl:a},v.createElement(T.a,{style:G.contentArea},this._renderBanner(),this._renderText(),this._renderItems()),r?this._renderCart():null,t)}}]),n}(v.Component),No=H.a.create((function(e){return{buttonContainer:{flexDirection:"row"},skipButton:{marginRight:e.spaces.xSmall},cart:{flexGrow:1,maxHeight:"80vh",overflow:"auto",padding:e.spaces.medium,paddingBottom:e.spaces.medium},cartButton:{marginTop:e.spaces.xSmall},cartHeader:{marginBottom:e.spaces.xSmall},textContainer:{marginBottom:e.spaces.xSmall},bodyText:{alignSelf:"center",marginTop:e.spaces.xSmall,maxWidth:400}}})),Bo=Object(Oe.a)(oo(Fo),{section:"topics_selector"}),Lo=Object(ie.createSelector)((function(e,t){var n=La.f(e),r=n?Ba.g(e,n):[];return Ut()(r,1)[0]}),(function(e,t){var n=La.g(e),r=n?Ba.g(e,n):[];return Ut()(r,1)[0]}),(function(e,t){return{avatarMedia:e,bannerMedia:t}})),Uo={scribeAction:ee.c,updateProfileAvatar:La.i,updateProfileBanner:La.j},Vo=Object(re.g)(Lo,Uo);function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ho=function(e){p()(n,e);var t=qo(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y()(u()(e),"_scribeUploadStart",(function(t){var n=e.props,r=n.flowToken,a=n.subtaskId;(0,n.scribeAction)(zo(zo({},n.scribeNamespace),{},{section:t,element:"upload",action:"start"}),{items:[{token:r,name:a}]})})),y()(u()(e),"_updateMedia",(function(){var t=e.props,n=t.avatarMedia,r=t.bannerMedia,a=t.subtask.sources,i=t.updateProfileAvatar,o=t.updateProfileBanner;return new Promise((function(t,s){try{a.forEach((function(t){var a=t.style;a===E.h.Avatar&&n?(e._scribeUploadStart("select_avatar"),i(n.id)):a===E.h.Banner&&r&&(e._scribeUploadStart("select_banner"),o(r.id))})),t()}catch(c){s(c)}}))})),e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.subtask,n=e.subtaskId,r=e.onNavigate;return v.createElement(Gr,{navigationLink:t.next_link,onNavigate:r,subtaskAction:this._updateMedia,subtaskId:n})}}]),n}(v.Component),Go=Object(ve.c)()(Vo(Ho)),Wo=(n("lTEL"),n("7xRU"),n("LqLs"),n("kYxP"),n("QIgh")),Yo=n("8UdT"),Zo=n("IcAo"),Xo=n("Ka9G"),Ko=function(e,t,n){return function(r){r.loggedInUserId,r.promotedContent;var a=r.userId;return v.createElement(_o.a,{isFollowing:n.has(a),onFollow:e(a),onUnfollow:t(a),showRelationshipChangeConfirmation:!1,size:"normalCompact",style:Qo.followButton,type:"user"})}},Qo=H.a.create((function(e){return{followButton:{alignSelf:"flex-start",marginLeft:e.spaces.xSmall}}})),Jo=function(e,t,n){return function(r){var a=r.user.id.toString();n.has(a)?t(a)():e(a)()}},$o=n("BV3T"),es=n("VTxf"),ts=n("ZNT5");function ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var as=n("fTQJ"),is=n("wgnn"),os=n("I7xG");function ss(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var cs=function(e){switch(e){case is.a.NOT_FOUND:return v.createElement(es.a,null);case is.a.NOT_ALLOWED:return v.createElement($o.a,null);default:return Object(we.a)("Unhandled timeline unavailable reason: ".concat(e)),null}},ls=function(e){p()(n,e);var t=ss(n);function n(e){var r;return o()(this,n),r=t.call(this,e),y()(u()(r),"_getModule",Object(os.a)(u()(r),(function(e){return e.subtaskId}),(function(e){return e.flowToken}),(function(e,t){return r=(n={subtask_id:e,flow_token:t||""}).subtask_id,a=n.flow_token,Object(ts.a)({timelineId:"nux-user-recos-".concat(r),getEndpoint:function(e){return e.URT.fetchNUXUserRecommendations},getEndpointParams:function(e){return rs(rs({},e),{},{subtask_id:r,flow_token:a})},context:"FETCH_NUX_USER_RECOS",perfKey:"nux-user-recos"});var n,r,a}))),y()(u()(r),"_onFollow",(function(e){return function(){var t=Object(Zr.a)(Yr()(r.state.selectedUsers));t.add(e),r.setState({selectedUsers:t})}})),y()(u()(r),"_onUnfollow",(function(e){return function(){var t=Object(Zr.a)(Yr()(r.state.selectedUsers));t.has(e)&&t.delete(e),r.setState({selectedUsers:t})}})),y()(u()(r),"_getFollowText",(function(e,t,n){return!e||n<1?t:e.concat(n.toString())})),y()(u()(r),"_handleFollowButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId;(0,e.updateFlow)(a,{link:n.next_link.link_id,selected_user_recommendations:Yr()(r.state.selectedUsers)}),t(n.next_link)})),y()(u()(r),"_handleSkipButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask.skip_link,a=e.subtaskId,i=e.updateFlow;n&&i(a,{link:n.link_id}),n&&t(n)})),r.state={selectedUsers:new Set},r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.onBackClick,r=e.onNavigate,i=e.subtask,o=e.subtaskInputs,s=this.state.selectedUsers,c="";if(i.next_link_threshold_text&&i.next_link_threshold_text.length>0){var l=i.next_link_threshold_text[0];c=l&&l.text&&l.text.text}var u,d,p,f,h=i.next_link.label,_=s.size,m=this._getFollowText(c,h,_),b=v.createElement(Y.a,{onPress:this._handleFollowButtonClick,size:"normalCompact",type:"primary"},m),k=i.skip_link?v.createElement(Y.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},i.skip_link.label):null,w=_>=(i.min_follow_count||0)?b:k,O=Array.from(s).join(",");return v.createElement(A.a,{history:t,onBackClick:n,rightControl:w},v.createElement(T.a,{style:ds.main},i.primary_text?v.createElement(R,a()({},i.primary_text,{nativeID:g.i,onNavigate:r,size:"xLarge",style:G.headline,subtaskInputs:o,weight:"bold"})):null,i.secondary_text?v.createElement(R,a()({},i.secondary_text,{onNavigate:r,size:"normal",style:G.subHeader,subtaskInputs:o,weight:"bold"})):null,v.createElement(as.a,{entryConfiguration:(u={onFollow:this._onFollow,onUnfollow:this._onUnfollow,currentFollows:s},d=u.onFollow,p=u.onUnfollow,f=u.currentFollows,Object(Zo.a)({},Wo.b,y()({},Yo.b.User,Object(Xo.a)({decoration:Ko(d,p,f),withLink:!1,shouldScribe:!1,onClick:Jo(d,p,f)})))),fetchOptions:{follows:O},module:this._getModule(),renderUnavailable:cs,title:""})),this.props.errorDialog)}}]),n}(v.Component),us=Object(ve.c)({page:"onboarding"})(ls),ds=H.a.create((function(e){return{main:{marginHorizontal:e.spaces.medium}}})),ps=(n("aLgo"),n("DfhM"),n("v6aA")),fs=n("tI3i"),hs=n.n(fs),_s=n("TEoO"),ms=n("Jkc4"),bs=n("tocL"),ys=n("Re5t"),vs=n("wCd/"),gs=n("uCxL"),ks=n("tn7R");function ws(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Os=function(e){return e.items.map((function(e){return e.user_id_str})).join("-")},Es=function(){return null},Cs=function(e){p()(n,e);var t=ws(n);function n(e,r){var a;return o()(this,n),a=t.call(this,e,r),y()(u()(a),"_renderGroup",Object(os.a)(u()(a),(function(e){return e.followedUserIds}),(function(e){return function(t){var n=t.items.every((function(t){return e.has(t.user_id_str)}));return v.createElement(T.a,{key:t.header,style:Ss.group},v.createElement(T.a,{style:Ss.groupHeader},v.createElement(C.c,{size:"large",weight:"bold"},t.header),a.state.useCheckboxes?v.createElement(W.a,{checked:n,onChange:a._handleGroupCheckboxChange(t,n)}):null),a._renderUserCells(t.items))}}))),y()(u()(a),"_renderSearchedUsers",(function(e){var t=a.props.selectedSearchHeader,n=Object(ks.a)(e);return t&&n.length?v.createElement(T.a,{key:"search-results",style:Ss.group},v.createElement(T.a,{style:Ss.groupHeader},v.createElement(C.c,{size:"large",weight:"bold"},t)),a._renderSearchUserCells(n)):null})),y()(u()(a),"_getSearchCellDecorator",(function(e){if(a.state.useCheckboxes){var t=a._handleSearchUserUnfollowed(e.id_str);return v.createElement(W.a,{checked:!0,onChange:t})}return a._getUserFollowButton({id:e.id_str,name:e.name,screenName:e.screen_name,isFollowing:!0,onFollow:function(e){return D.a},onUnfollow:a._handleSearchUserUnfollowed})})),y()(u()(a),"_handleSearchUserUnfollowed",(function(e){return function(){return a.props.onSearchUserRemove(e)}})),y()(u()(a),"_renderUserCell",(function(e){var t=e.id,n=e.description,r=e.name,i=e.profileImageUrl,o=e.screenName,s=e.isFollowing,c=e.isVerified,l=e.onCellClick,u=e.socialText,d=e.decorator,p=e.tweets,f=e.user,h=l(t,s),_=u?{contextType:bs.a.Follow,text:u}:void 0;return v.createElement(T.a,{accessibilityRole:"label",key:t,style:Ss.userCellContainer},v.createElement(Kn.a,{avatarUri:i,decoration:d,description:n,displayMode:ys.a.UserDetailed,entities:{},isVerified:c,key:t,name:r,onCellClick:h,promotedItemType:"users",screenName:o,socialContext:_,style:Ss.userCell,userId:t,withBottomBorder:!0,withLink:!1}),p&&0!==p.length&&f?a._renderQuoteTweet(p,f):null)})),y()(u()(a),"_getUserFollowButton",(function(e){var t=e.id,n=(e.name,e.screenName),r=e.isFollowing,a=e.onFollow,i=e.onUnfollow;return v.createElement(_o.a,{isFollowing:r,name:n,onFollow:a(t),onUnfollow:i(t),showRelationshipChangeConfirmation:!1,size:"normalCompact",style:Ss.followButton,type:"user"})})),y()(u()(a),"_getUserCellDecorator",(function(e,t){var n=e.user,r=e.user_id_str;if(a.state.useCheckboxes){var i=a._handleDecoratorChange(r,t);return v.createElement(W.a,{checked:t,onChange:i})}return a._getUserFollowButton({id:r,name:n.name,screenName:n.screen_name,isFollowing:t,onFollow:a._handleOnFollow,onUnfollow:a._handleOnUnfollow})})),y()(u()(a),"_handleGroupCheckboxChange",(function(e,t){return function(){var n=e.items.map((function(e){return e.user_id_str}));a._updateFollowedItems(n,!t)}})),y()(u()(a),"_handleOnFollow",(function(e){return function(){a._updateFollowedItems([e],!0)}})),y()(u()(a),"_handleOnUnfollow",(function(e){return function(){a._updateFollowedItems([e],!1)}})),y()(u()(a),"_handleDecoratorChange",(function(e,t){return function(){a._updateFollowedItems([e],!t)}})),a.state={useCheckboxes:e.followButtonType===E.e.Checkbox},a}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.userGroups,n=e.selectedSearchUsers,r=e.onNearEnd,a=this.context.loggedInUserId;return hs()(!!a,"loggedInUserId must be defined"),v.createElement(T.a,null,this._renderSearchedUsers(n),v.createElement(_s.a,{cacheKey:"userSelectList/".concat(a),identityFunction:Os,items:t,nearEndProximityRatio:1.15,noItemsRenderer:Es,onNearEnd:r,renderer:this._renderGroup()}))}},{key:"_renderSearchUserCells",value:function(e){var t=this;return v.createElement(v.Fragment,null,e.map((function(e){var n=t._getSearchCellDecorator(e);return t._renderUserCell({id:e.id_str,name:e.name,profileImageUrl:e.profile_image_url_https,screenName:e.screen_name,isFollowing:!0,isVerified:e.verified,onCellClick:t._handleSearchUserUnfollowed,decorator:n})})))}},{key:"_renderUserCells",value:function(e){var t=this,n=this.props.followedUserIds;return v.createElement(v.Fragment,null,e.map((function(e){var r=e.user,a=e.user_id_str,i=e.tweets,o=n.has(a),s=t._getUserCellDecorator(e,o);return t._renderUserCell({id:a,description:r.description,name:r.name,profileImageUrl:r.profile_image_url_https,screenName:r.screen_name,isFollowing:o,isVerified:r.verified,onCellClick:t._handleDecoratorChange,socialText:e.social_text,decorator:s,tweets:i,user:r})})))}},{key:"_renderQuoteTweet",value:function(e,t){var n=t.followers_count,r=t.friends_count,a=t.screen_name;return v.createElement(T.a,{style:Ss.quoteTweetContainer},v.createElement(ms.a,null,(function(e){return v.createElement(vs.a,{followersCount:n,friendsCount:r,onPress:e(),screenName:a,style:Ss.userStats,withLink:!1})})),v.createElement(gs.a,{style:Ss.quoteTweet,tweet:e[0],withInlineMedia:!0,withLink:!0}))}},{key:"_updateFollowedItems",value:function(e,t){var n=this.props,r=n.onFollow,a=n.onUnfollow;t?r(e):a(e)}}]),n}(v.Component);y()(Cs,"contextType",ps.a),y()(Cs,"defaultProps",{onNearEnd:D.a});var Ss=H.a.create((function(e){return{group:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small},followButton:{alignSelf:"flex-start",marginLeft:e.spaces.xSmall},groupHeader:{alignItems:"center",borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,flexDirection:"row",justifyContent:"space-between",paddingHorizontal:e.spaces.medium,paddingVertical:e.spaces.xSmall},userCell:{paddingHorizontal:e.spaces.medium},quoteTweetContainer:{marginBottom:e.spaces.medium,paddingRight:e.spaces.medium,paddingLeft:"calc(2*".concat(e.spaces.xLarge,")")},quoteTweet:{marginTop:e.spaces.xSmall},userCellContainer:{display:"flex",flexDirection:"column",justifyContent:"center"},userStats:{marginBottom:e.spaces.xSmall,marginLeft:e.spaces.micro}}}));function xs(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Is(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Is(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function Is(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ps=[na.a.Users],js="selected_user_recommendations",Ds=function(e){p()(n,e);var t=Rs(n);function n(e){var r;o()(this,n),r=t.call(this,e),y()(u()(r),"_getPreCheckedUsers",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(Zr.a)(e.reduce((function(e,t){var n=t.items.reduce((function(e,t){return t.checked_by_default&&e.push(t.user_id_str),e}),[]);return[].concat(Yr()(e),Yr()(n))}),[]))})),y()(u()(r),"_getFollowText",(function(e,t,n){return!e||n<1?t:e.concat(n.toString())})),y()(u()(r),"_handleSelectionChanged",(function(e){r.setState({selectedUsers:Object(Zr.a)(e)})})),y()(u()(r),"_handleOnUnfollowsSelected",(function(e){var t,n=Object(Zr.a)(Yr()(r.state.selectedUsers)),a=r.state.selectedSearchUsers,i=xs(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.has(o)&&n.delete(o),delete a[o]}}catch(s){i.e(s)}finally{i.f()}r.setState({selectedUsers:n,selectedSearchUsers:a})})),y()(u()(r),"_handleOnFollowsSelected",(function(e){var t,n=Object(Zr.a)(Yr()(r.state.selectedUsers)),a=xs(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n.add(i)}}catch(o){a.e(o)}finally{a.f()}r.setState({selectedUsers:n})})),y()(u()(r),"_handleFollowButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId;(0,e.updateFlow)(a,{link:n.next_link.link_id,selected_user_recommendations:Yr()(r.state.selectedUsers),searched_users:Object.keys(r.state.selectedSearchUsers)}),t(n.next_link)})),y()(u()(r),"_handleSkipButtonClick",(function(){var e=r.props,t=e.onNavigate,n=e.subtask.skip_link,a=e.subtaskId,i=e.updateFlow;n&&i(a,{link:n.link_id}),n&&t(n)})),y()(u()(r),"_handleSearchUserRemoved",(function(e){return r._handleOnUnfollowsSelected([e])})),y()(u()(r),"_handleSearchSuggestionSelected",(function(e,t){var n=e.data,a=r.state,i=a.selectedSearchUsers,o=a.selectedUsers;r._recommendedUsers.has(n.id_str)&&o.add(n.id_str),i[n.id_str]=n,r.setState({selectedSearchUsers:i,selectedUsers:o})}));var a=e.subtaskId,i=e.subtaskInputs,s=Object(Zr.a)([]),c=Object(O.d)(i,{key:js,subtask_id:a},s);return r._recommendedUsers=Object(Zr.a)(e.subtask.groups.map((function(e){return e.items.map((function(e){return e.user_id?e.user_id.toString():""}))})).reduce((function(e,t){return e.concat(t)}))),r.state={selectedSearchUsers:{},selectedUsers:c&&c.size?c:r._getPreCheckedUsers(e.subtask.groups)},r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.onBackClick,r=e.onNavigate,i=e.subtask,o=e.subtaskInputs,s=this.state,c=s.selectedSearchUsers,l=s.selectedUsers,u=(((i.next_link_threshold_text||{})[0]||{}).text||{}).text,d=i.next_link.label,p=(c?Object.keys(c).length:0)+l.size,f=this._getFollowText(u,d,p),h=v.createElement(Y.a,{onPress:this._handleFollowButtonClick,size:"normalCompact",type:"primary"},f),_=i.skip_link?v.createElement(Y.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},i.skip_link.label):null,m=null===i.min_follow_count||void 0===i.min_follow_count?1:i.min_follow_count,b=l.size>=m?h:_,y=i.show_user_search?v.createElement(T.a,{style:[G.contentArea,As.searchContainer]},v.createElement(ea.c,{filter:Ps,onItemClick:this._handleSearchSuggestionSelected,placeholder:i.hint,rounded:!0,shouldAutoFocus:!0,shouldClearOnSelect:!0,source:na.d.WelcomeFlow})):null;return v.createElement(A.a,{history:t,onBackClick:n,rightControl:b},v.createElement(T.a,null,v.createElement(T.a,{style:As.main},i.primary_text?v.createElement(R,a()({},i.primary_text,{nativeID:g.i,onNavigate:r,size:"xLarge",style:G.headline,subtaskInputs:o,weight:"bold"})):null,i.secondary_text?v.createElement(R,a()({},i.secondary_text,{onNavigate:r,size:"normal",style:G.subHeader,subtaskInputs:o,weight:"bold"})):null),y,v.createElement(T.a,null,v.createElement(Cs,{followButtonType:i.follow_button_type,followedUserIds:l,onFollow:this._handleOnFollowsSelected,onSearchUserRemove:this._handleSearchUserRemoved,onUnfollow:this._handleOnUnfollowsSelected,selectedSearchHeader:i.custom_recommendations_header&&i.custom_recommendations_header.text||void 0,selectedSearchUsers:c,userGroups:i.groups}))),this.props.errorDialog)}}]),n}(v.Component),As=H.a.create((function(e){return{secondaryText:{marginBottom:e.spaces.small},main:{marginHorizontal:e.spaces.medium},searchContainer:{marginBottom:e.spaces.small,zIndex:1}}})),Ts=n("Qwev");function Fs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ns=function(e){p()(n,e);var t=Fs(n);function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"componentWillUnmount",value:function(){this._timer&&clearTimeout(this._timer)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.subtask,n=e.onNavigate;this._timer=setTimeout((function(){n(t.next_link,!0)}),t.wait_time_ms)}},{key:"render",value:function(){var e=this.props.history;return v.createElement(A.a,{history:e},v.createElement(T.a,{style:Bs.indicator},v.createElement(Ts.a,null)))}}]),n}(v.Component),Bs=H.a.create((function(e){return{indicator:{display:"flex",flex:1,justifyContent:"center"}}})),Ls=n("7N4s");function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ms(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var zs={page:"onboarding"},qs=Et.a.c20aaf3d,Hs=Et.a.a219e217,Gs=function(e){p()(n,e);var t=Ms(n);function n(e){var r;return o()(this,n),r=t.call(this,e),y()(u()(r),"_handleBackAttempt",(function(e,t){var n=r.props.currentSubtask,a=!n||!n.subtask_back_navigation||n.subtask_back_navigation!==E.n.Disallow,i=!r.currentPreviousNavigableSubtaskId&&r._onFirstTaskSinceStart&&a;return!("POP"===t&&!i)||(r.currentPreviousNavigableSubtaskId&&a&&r._navigateToPreviousSubtask(),!1)})),y()(u()(r),"_sendGaOnboardingEvent",(function(e){(0,r.props.googleAnalyticsSendEvent)("signup",e,"new-user")})),y()(u()(r),"_startFlow",(function(e){var t=e.countryCode,n=e.debugOverrides,a=e.inputFlowData,i=e.location,o=e.startFlow,s=e.startLocation,c=e.targetUserId,l=e.testCountryCode,u=e.flowName,d=e.createLocalApiErrorHandler,p=i.state||{},f=p.fromApp,h={flow_context:Vs({debug_overrides:n,gated_action:p.gatedAction},Object.keys(s||{}).length?{start_location:s}:{start_location:{location:f?"unknown":"manual_link"}})},_=Vs(Vs({},a),{},{country_code:t||a.country_code,target_user_id:c||a.target_user_id},h);"signup"===u&&r._sendGaOnboardingEvent("signup-clicked"),r._onFirstTaskSinceStart=!0,o({flow_name:u,input_flow_data:_,subtask_versions:O.a,test_country_code:l}).catch(d(Yt(u,null,r._displayFailureMessage)))})),y()(u()(r),"_handleFlowRestart",(function(){r._startFlow(r.props)})),y()(u()(r),"_handleDeepLink",(function(e){var t=r.props.history;if(e){var n=Object(qr.a)(e);n&&t.replace(n)}})),y()(u()(r),"_handleAbortFlow",(function(e){var t=r.props,n=t.clearFlow,a=t.currentSubtask,i=t.location,o=t.history,s=t.onAbort,c=t.returnPath;n({clearPersistence:!0});var l=a&&Object(O.f)(a);s?s():c?o.replace({pathname:c,query:{flow_status:e}}):l===E.p.OpenHomeTimeline?o.replace("/home"):(r._unblockHistory&&r._unblockHistory(),Object(ii.a)({},{location:i})?o.goBack():o.replace("/home"))})),y()(u()(r),"_displayFailureMessage",(function(e){r.setState({alertFailureMessage:e})})),y()(u()(r),"_submitFlow",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isTaskNavigation,n=r.props,a=n.flowName,i=n.submitFlow,o=n.createLocalApiErrorHandler;return i({isTaskNavigation:t}).then((function(e){return r._onFirstTaskSinceStart=!1,e}),(function(e){var t=r.props,n=t.failureMessage,i=t.shouldAbort;return o(Yt(a,n,i?r._displayFailureMessage:void 0))(e)}))})),y()(u()(r),"_handleNavigate",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.props,a=n.navigateSubtask,i=n.submitFlow,o=e.is_destructive,s=e.subtask_id,c=e.subtask_navigation_context;switch(e.suppress_client_events||r._scribeSubtaskNavigate(e),e.link_type){case E.i.Abort:i().catch(D.a),r._handleAbortFlow();break;case E.i.Subtask:a({subtaskId:s,navigationContext:c,destructive:o,fromHiddenSubtask:t});break;case E.i.Finish:case E.i.Task:r._submitFlow({isTaskNavigation:!0});break;case E.i.Deeplink:r._submitFlow(),r._handleDeepLink(e.url);break;case E.i.DeeplinkAndAbort:i().catch(D.a),r._handleDeepLink(e.url);break;case E.i.WeblinkAndAbort:i().catch(D.a),window.open(e.url,"_blank"),r._handleAbortFlow();break;case E.i.Web:St.b.navigateTo(e.url);break;case E.i.ChromelessWeb:window.open(e.url,"_blank");break;case E.i.DeeplinkInPlace:break;default:Object(we.a)("Unknown Navigation Link Type ".concat(e.link_type)),r._handleAbortFlow()}})),y()(u()(r),"_scribeSubtaskNavigate",(function(e){var t=r.props,n=t.currentSubtask,a=t.scribeAction,i=t.flowToken;if(n&&n.subtask_id){var o=e.link_id;a(Vs(Vs({},zs),{},{element:"link",action:"click"}),{items:[{token:i,name:n.subtask_id,description:o}]})}})),y()(u()(r),"_navigateToSubtask",(function(e){return function(){r._handleNavigate({link_id:"",link_type:E.i.Subtask,subtask_id:e})}})),y()(u()(r),"_endFlowSubtaskAction",(function(e,t){var n=r.props.submitFlow;switch(t){case E.i.Abort:n().catch(D.a).then((function(){return r._handleAbortFlow(e)}));break;case E.i.Finish:r._submitFlow().then((function(){return r._handleAbortFlow(e)}));break;default:Object(we.a)("Unknown End Flow Type ".concat(t)),r._handleAbortFlow()}})),y()(u()(r),"_render",(function(){var e=r.props,t=e.currentSubtask,n=e.previousNavigableSubtaskId,a=e.subtasks.find((function(e){return e.subtask_id===n}));return t?t.alert_dialog||t.menu_dialog?v.createElement(v.Fragment,null,r._renderSubtask(t),a&&r._renderSubtask(a)):r._renderSubtask(t):null})),y()(u()(r),"_renderDefault",(function(){var e=r.props,t=e.currentSubtask,n=e.flowToken,a=e.history,i=e.subtasks.map((function(e){return v.createElement(C.c,{key:e.subtask_id,onClick:r._navigateToSubtask(e.subtask_id)},e.subtask_id)}));return v.createElement(A.a,{history:a},v.createElement(T.a,{style:{margin:5}},v.createElement(C.c,null,n),v.createElement(C.c,null,"Current Subtask: ".concat(t?t.subtask_id:"")),i))})),y()(u()(r),"_handleAbortFlowOnConfirm",(function(){r._handleAbortFlow()})),y()(u()(r),"_onNoopInvisibleSubtask",(function(){return Promise.resolve()})),y()(u()(r),"_navigateToPreviousSubtask",(function(){var e=r.props;(0,e.navigateSubtask)({subtaskId:e.previousNavigableSubtaskId,destructive:!0})})),y()(u()(r),"_renderErrorDialog",(function(){var e=r.props,t=e.failureMessage,n=e.history;return v.createElement(A.a,{hideBackButton:!0,history:n},v.createElement(k.a,{confirmButtonLabel:Hs,headline:qs,onConfirm:r._handleAbortFlowOnConfirm,text:t||Gt,withCancelButton:!1}))})),y()(u()(r),"_renderSubtask",(function(e){var t=r.props,n=t.addToast,i=t.fetchTemporaryPassword,o=t.flowName,s=t.flowToken,c=t.history,l=t.location,u=t.previousNavigableSubtaskId,d=t.removeContacts,p=t.shouldAbort,f=t.submitFailed,h=t.subtaskInputs,_=t.updateFlow,m=e.subtask_id,b=e.progress_indication,y=p?v.createElement(k.a,{confirmButtonLabel:Hs,headline:qs,onConfirm:r._handleAbortFlowOnConfirm,text:r.state.alertFailureMessage,withCancelButton:!1}):null,g={onNavigate:r._handleNavigate,subtaskId:m,updateFlow:_},w={onBackClick:u?r._getBackNavigation(e):void 0};if(e.end_flow)return r._endFlowSubtaskAction(e.end_flow.status,e.end_flow.end_flow_type),r._renderDefault();if(e.fetch_temporary_password)return v.createElement(Gr,{navigationLink:e.fetch_temporary_password.next_link,onNavigate:r._handleNavigate,subtaskAction:r._handleInvisibleSubtask(m,e.fetch_temporary_password,i),subtaskId:m});if(e.cta)return v.createElement(q,a()({errorDialog:y,history:c,subtask:e.cta,subtaskInputs:h},g,w));if(e.app_download_cta)return v.createElement(U,a()({errorDialog:y,history:c,subtask:e.app_download_cta,subtaskInputs:h},g,w));if(e.alert_dialog)return v.createElement(j,a()({history:c,subtask:e.alert_dialog,subtaskInputs:h},g,w));if(e.alert_dialog_suppress_client_events)return v.createElement(j,a()({history:c,subtask:e.alert_dialog_suppress_client_events,subtaskInputs:h},g,w));if(e.menu_dialog)return v.createElement(ua,a()({subtask:e.menu_dialog,subtaskInputs:h},g));if(e.open_account){var O=e.open_account;return r._sendGaOnboardingEvent("account-create"),v.createElement(Gr,{navigationLink:O.next_link,onNavigate:r._handleNavigate,subtaskAction:r._openAccountAction,subtaskId:m})}return e.sign_up?v.createElement(Zi,a()({history:c,subtask:e.sign_up,subtaskInputs:h},g)):e.sign_up_review?v.createElement(to,a()({errorDialog:y,history:c,progressIndication:b,subtask:e.sign_up_review,subtaskInputs:h},g,w)):e.phone_verification?v.createElement(ja,a()({errorDialog:y,flowName:o,history:c,submitFailed:f,subtask:e.phone_verification,subtaskInputs:h},g,w)):e.recaptcha?v.createElement(Ir,a()({errorDialog:y,history:c,subtask:e.recaptcha,subtaskInputs:h},g,w)):e.privacy_options?v.createElement(Na,a()({subtask:e.privacy_options,subtaskInputs:h},g)):e.interest_picker?v.createElement(sa,a()({errorDialog:y,history:c,subtask:e.interest_picker,subtaskInputs:h},g)):e.topics_selector?v.createElement(Bo,a()({errorDialog:y,history:c,subtask:e.topics_selector,subtaskInputs:h},g)):e.notifications_permission_prompt?v.createElement(ya,a()({history:c,subtask:e.notifications_permission_prompt,subtaskInputs:h},g)):e.open_home_timeline?("signup"===o&&r._sendGaOnboardingEvent("complete-NUX"),v.createElement(Gr,{navigationLink:e.open_home_timeline.next_link,onNavigate:r._handleNavigate,subtaskAction:r._onNoopInvisibleSubtask,subtaskId:m})):e.open_link?v.createElement(ka,{flowName:o,onNavigate:r._handleNavigate,subtask:e.open_link,subtaskId:m}):e.upload_media?v.createElement(Go,{flowToken:s,onNavigate:r._handleNavigate,subtask:e.upload_media,subtaskId:m}):e.user_recommendations_list?v.createElement(Ds,a()({errorDialog:y,history:c,subtask:e.user_recommendations_list,subtaskInputs:h},g,w)):e.user_recommendations_urt?v.createElement(us,a()({errorDialog:y,flowToken:s,history:c,subtask:e.user_recommendations_urt,subtaskInputs:h},g,w)):e.update_users?v.createElement(Gr,{navigationLink:e.update_users.next_link,onNavigate:r._handleNavigate,subtaskAction:r._handleInvisibleSubtask(m,e.update_users,r._updateUsersAction),subtaskId:m}):e.enter_password?v.createElement(_r,a()({errorDialog:y,history:c,subtask:e.enter_password,subtaskInputs:h},g)):e.settings_list?v.createElement(Ls.a.Consumer,null,(function(t){var r=t.isModal;return v.createElement(ki,a()({addToast:n,errorDialog:y,isModal:r,removeContacts:d,subtask:e.settings_list,subtaskInputs:h},g,w))})):e.email_contacts_sync?v.createElement(At,a()({errorDialog:y,history:c,location:l,subtask:e.email_contacts_sync,subtaskInputs:h},g,w)):e.select_avatar?v.createElement(Xa,a()({errorDialog:y,history:c,location:l,subtask:e.select_avatar,subtaskInputs:h},g,w)):e.select_banner?v.createElement(ai,a()({errorDialog:y,history:c,location:l,subtask:e.select_banner,subtaskInputs:h},g,w)):e.enter_text?v.createElement(Dr,a()({errorDialog:y,history:c,subtask:e.enter_text,subtaskInputs:h},g,w)):e.email_verification?v.createElement(Jt,a()({errorDialog:y,flowName:o,history:c,submitFailed:f,subtask:e.email_verification,subtaskInputs:h},g,w)):e.enter_username?v.createElement(zr,a()({errorDialog:y,history:c,subtask:e.enter_username,subtaskInputs:h},g,w)):e.enter_email?v.createElement(Wn,a()({errorDialog:y,history:c,subtask:e.enter_email,subtaskInputs:h},g,w)):e.enter_phone?v.createElement(Er,a()({errorDialog:y,history:c,subtask:e.enter_phone,subtaskInputs:h},g,w)):e.choice_selection?v.createElement(J,a()({history:c,subtask:e.choice_selection,subtaskInputs:h},g,w)):e.contacts_live_sync_permission_prompt?v.createElement(Se,a()({history:c,subtask:e.contacts_live_sync_permission_prompt,subtaskInputs:h},g,w)):e.wait_spinner?v.createElement(Ns,{history:c,onNavigate:r._handleNavigate,subtask:e.wait_spinner,subtaskId:m}):r._renderDefault()})),y()(u()(r),"_getBackNavigation",(function(e){var t=e.subtask_back_navigation;return t&&t!==E.n.Allow?void 0:r._navigateToPreviousSubtask})),y()(u()(r),"_scribeSubtaskView",(function(){var e=r.props,t=e.currentSubtask,n=e.scribeAction,a=e.flowToken;t&&t.subtask_id&&!Object(O.i)(t)&&n(Vs(Vs({},zs),{},{element:"view",action:"impression"}),{items:[{token:a,name:t.subtask_id}]})})),y()(u()(r),"_openAccountAction",(function(){var e=r.props,t=e.scribeAction,n=e.verifyCredentials,a=Object(wa.d)()||{},i=a.encryptedReferer,o=a.encryptedReferralDetails;return n().then((function(){r._maybeScribeAppInstallBanner(),t({page:"signup",action:"success"},{referer:i,external_referer:o})}))})),y()(u()(r),"_updateUsersAction",(function(e,t){var n=r.props,a=n.createLocalApiErrorHandler,i=n.fetchUsers,o=null==t?void 0:t.users;o&&o.length&&i(o.map((function(e){return e.id_str}))).catch(a({showToast:!0}))})),y()(u()(r),"_maybeScribeAppInstallBanner",(function(){var e=r.props.scribeAction;V.a.hasPromptWaiting()&&e({page:"signup",component:"install_banner",action:"waiting"})})),r.state={alertFailureMessage:""},r}return c()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.flowName!==e.flowName&&this._startFlow(e)}},{key:"componentDidUpdate",value:function(e){var t=e.currentSubtask,n=this.props.currentSubtask,r=t&&t.subtask_id;n&&n.subtask_id!==r&&this._scribeSubtaskView()}},{key:"UNSAFE_componentWillMount",value:function(){this._startFlow(this.props)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.googleAnalyticsPageView,n=e.history;(0,e.scribePageImpression)(zs),t(zs),this._unblockHistory=n.block(this._handleBackAttempt)}},{key:"componentWillUnmount",value:function(){this._unblockHistory&&this._unblockHistory(),this.props.clearFlow()}},{key:"render",value:function(){var e=this.props,t=e.currentSubtask;e.shouldEndFlow&&this._handleAbortFlow();var n=this.props.fetchStatus;return n===kt.a.FAILED||t||(n=kt.a.LOADING),v.createElement(T.a,{style:Ws.root},v.createElement(wt.a,{fetchStatus:n,onRequestRetry:this._handleFlowRestart,render:this._render,renderFailure:this._renderErrorDialog,retryable:!this.props.shouldAbort}))}},{key:"_handleInvisibleSubtask",value:function(e,t,n){return function(){return new Promise((function(r,a){r(n(e,t))}))}}},{key:"currentPreviousNavigableSubtaskId",get:function(){return this.props.previousNavigableSubtaskId}}]),n}(v.Component);y()(Gs,"defaultProps",{inputFlowData:{}});var Ws=H.a.create((function(e){return{root:{backgroundColor:e.colors.cellBackground,flexGrow:1,flexShrink:1}}}));t.default=Object(ve.c)(zs)(ye(Gs))},"i+/A":function(e,t,n){"use strict";(function(t,r){var a=n("JfD+").Buffer,i=t.crypto||t.msCrypto;i&&i.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var n=a.allocUnsafe(e);if(e>0)if(e>65536)for(var o=0;o<e;o+=65536)i.getRandomValues(n.slice(o,o+65536));else i.getRandomValues(n);if("function"==typeof t)return r.nextTick((function(){t(null,n)}));return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n("fRV1"),n("F63i"))},nS1w:function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"e",(function(){return v}));n("2G9S"),n("LW0h"),n("z84I"),n("wFPu"),n("+KXO");var r,a=n("KEM+"),i=n.n(a),o=n("3XMw"),s=n.n(o),c=n("mtvn"),l=(r={},i()(r,1,{label:s.a.hac89abf,numDays:31}),i()(r,2,{label:s.a.ef30b309,numDays:28,numDaysLeapYear:29}),i()(r,3,{label:s.a.b56920fa,numDays:31}),i()(r,4,{label:s.a.b1a0f1ec,numDays:30}),i()(r,5,{label:s.a.daf779c8,numDays:31}),i()(r,6,{label:s.a.c6ad074d,numDays:30}),i()(r,7,{label:s.a.f1db106b,numDays:31}),i()(r,8,{label:s.a.i4e80b7a,numDays:31}),i()(r,9,{label:s.a.efa6cc1d,numDays:30}),i()(r,10,{label:s.a.f40a0cbe,numDays:31}),i()(r,11,{label:s.a.ac74a31c,numDays:30}),i()(r,12,{label:s.a.i6c1e4b2,numDays:31}),r),u=function(e){return{label:"".concat(e),value:"".concat(e)}},d=Object(c.a)(1,29).map(u),p=Object(c.a)(1,30).map(u),f=Object(c.a)(1,31).map(u),h=Object(c.a)(1,32).map(u),_=function(){return Object.keys(l).map((function(e){return{label:l[e].label,value:e}}))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=t||new Date(Date.now()).getFullYear();return Object(c.a)(e,a+1).reverse().filter((function(e){return 2===r&&29===n?b(e):e})).map(u)},b=function(e){return 1===new Date(e,1,29).getMonth()},y=function(e,t){if(!e)return h;switch(2===e&&(!t||t&&b(t))?l[e].numDaysLeapYear:l[e].numDays){case 28:return d;case 29:return p;case 30:return f;case 31:default:return h}},v=function(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n){var r=t<10?"0".concat(t):"".concat(t),a=e<10?"0".concat(e):"".concat(e);return"".concat(n,"-").concat(r,"-").concat(a)}return""};t.a={getFormattedDateValue:v}},yuM6:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));n("2G9S"),n("7x/C"),n("OZaJ"),n("DZ+c");var r=n("VrFO"),a=n.n(r),i=n("Y9Ll"),o=n.n(i),s=n("5Yy7"),c=n.n(s),l=n("N+ot"),u=n.n(l),d=n("AuHH"),p=n.n(d),f=n("ERkP"),h=n("6/RC");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var m=function(e){c()(n,e);var t=_(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"componentDidMount",value:function(){var e=this.props.location.query,t=e.code,n=e.error,r=e.scope,a=e.state,i={callback_url:"https://".concat(window.location.hostname).concat(window.location.pathname),code:t,error:n,scope:r,state:a},o=h.canUseDOM&&window.opener;o?(o.postMessage(i,"https://".concat(window.location.hostname)),window.close(),o.focus()):this.props.history.push("/")}},{key:"render",value:function(){return null}}]),n}(f.Component)}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web-legacy/bundle.Ocf.a9830ea5.js.map