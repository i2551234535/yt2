(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{"+RfI":function(e,t,r){"use strict";r("1t7P"),r("LW0h"),r("jwue"),r("daRM"),r("FtHn"),r("+KXO"),r("+oxZ");var n=r("KEM+"),a=r.n(n),c=r("ERkP"),o=r("Lsrn"),i=r("k/Ka");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)("svg",u(u({},e),{},{style:[o.a.root,e.style],viewBox:"0 0 24 24"}),c.createElement("g",null,c.createElement("path",{d:"M2 7.75h9.326c.356 1.986 2.087 3.5 4.174 3.5s3.818-1.514 4.174-3.5H22c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-2.326c-.356-1.986-2.087-3.5-4.174-3.5s-3.818 1.514-4.174 3.5H2c-.414 0-.75.336-.75.75s.336.75.75.75zm13.5-3.5c1.517 0 2.75 1.233 2.75 2.75s-1.233 2.75-2.75 2.75S12.75 8.517 12.75 7s1.233-2.75 2.75-2.75zm6.5 12h-9.326c-.356-1.986-2.087-3.5-4.174-3.5s-3.818 1.514-4.174 3.5H2c-.414 0-.75.336-.75.75s.336.75.75.75h2.326c.356 1.986 2.087 3.5 4.174 3.5s3.818-1.514 4.174-3.5H22c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-13.5 3.5c-1.517 0-2.75-1.233-2.75-2.75s1.233-2.75 2.75-2.75 2.75 1.233 2.75 2.75-1.233 2.75-2.75 2.75z"})))};l.metadata={width:24,height:24},t.a=l},"0E8n":function(e,t,r){"use strict";r.r(t),r.d(t,"SearchScreen",(function(){return ft}));r("1t7P"),r("2G9S"),r("LW0h"),r("hBpG"),r("jwue"),r("z84I"),r("daRM"),r("FtHn"),r("+KXO"),r("7x/C"),r("OZaJ"),r("DZ+c"),r("hBvt"),r("+oxZ");var n=r("VrFO"),a=r.n(n),c=r("Y9Ll"),o=r.n(c),i=r("1Pcy"),s=r.n(i),u=r("5Yy7"),l=r.n(u),f=r("N+ot"),h=r.n(f),p=r("AuHH"),d=r.n(p),y=r("KEM+"),v=r.n(y),b=r("ERkP"),O=r("HPNB"),m=r("v6aA"),S=r("es0u"),g=(r("vrRf"),r("KqXw"),r("WNMA"),r("zh9S")),j=r("1YZw"),w=r("rxPX"),E=r("0KEI"),P=r("hqKg"),_=r("3IPs"),C=r("v4XE"),D=r("Hw0q"),k=function(e,t){var r=t.location;return r.query&&r.query.src&&"string"==typeof r.query.src?r.query.src:""},q=function(e,t){var r=t.location,n=t.match.params;return n&&n.unsafeHashtagQuery&&"string"==typeof n.unsafeHashtagQuery?"#".concat(n.unsafeHashtagQuery):r&&r.query&&r.query.q&&Object(D.a)(r.query.q)||""},x=Object(P.createSelector)(q,C.d,(function(e,t){return t.map((function(e){return e.query})).indexOf(e)>-1})),R=function(e,t){return 0===t.location.pathname.indexOf("/search")?"search":"hashtag"},A=function(e,t){return!!(t.location.state||{}).searchFocused},F=Object(P.createSelector)(Object(D.b)("pf"),Object(D.b)("lf"),(function(e,t){return{peopleFilter:e,locationFilter:t}})),L=function(e,t){var r=t.location,n=r.query&&Object(D.a)(r.query.f),a=n&&Object.keys(_.c).find((function(e){return _.c[e]===n}));return a?_.c[a]:void 0},T=Object(w.a)().propsFromState((function(){return{searchFocused:A,query:q,querySrc:k,isQueryAlreadySaved:x,searchType:R,searchFilters:F,mode:L,savedSearches:C.d,vertical:Object(D.b)("vertical")}})).propsFromActions((function(){return{addToast:j.b,createLocalApiErrorHandler:Object(E.d)("SEARCH_SCREEN"),deleteSavedSearch:C.a,fetchSavedSearchesIfNeeded:C.b,saveSearch:C.c,scribeAction:g.c}})).withAnalytics(),H=r("sYRn"),M=r("wrlS"),B=r("3XMw"),I=r.n(B),V=r("oQhu"),z=r("OHiq"),K=r("yoO3"),N=r("7nmT"),X=r.n(N),W=r("5FtR"),Z=r("Rp9C"),G=r("7JQg"),Y=r("L7to"),U=r("mjJ+"),J=r("3A2y"),Q=r("+RfI"),$=r("VwDm"),ee=r("M2x3"),te=r("Lsrn"),re=r("k/Ka");function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(re.a)("svg",ae(ae({},e),{},{style:[te.a.root,e.style],viewBox:"0 0 24 24"}),b.createElement("g",null,b.createElement("path",{d:"M16 11.25h-3.25V8c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.25H8c-.414 0-.75.336-.75.75s.336.75.75.75h3.25V16c0 .414.336.75.75.75s.75-.336.75-.75v-3.25H16c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),b.createElement("path",{d:"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z"})))};ce.metadata={width:24,height:24};var oe=ce,ie=r("hiGS");function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var a=d()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h()(this,r)}}var fe=I.a.h1ef00db,he=I.a.aea62567,pe=I.a.j622effd,de=I.a.h4912b5e,ye=I.a.b9bc69ca,ve=function(e){l()(r,e);var t=le(r);function r(){var e;a()(this,r);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c)),v()(s()(e),"_getActionItems",(function(){var t=e.props,r=t.deleteSavedSearch,n=t.isLoggedIn,a=t.isTwoColumn,c=t.isQueryAlreadySaved,o=t.location,i=t.saveSearch,s=[];return a||s.push({Icon:Q.a,text:he,link:{pathname:"/i/search_filters",query:o.query}}),s.push({Icon:$.a,text:pe,link:{pathname:"/search-advanced",query:ue({},Object(J.a)(o.query,["q","src"]))}}),n&&(s.unshift({Icon:ee.a,text:fe,link:"/settings/search"}),c?s.push({Icon:ie.a,isEmphasized:!0,text:ye,onClick:function(e){e(),r()}}):s.push({Icon:oe,text:de,onClick:function(e){e(),i()}})),s})),e}return o()(r,[{key:"render",value:function(){return b.createElement(U.a,{items:this._getActionItems(),onCloseRequested:this.props.onClose})}}]),r}(b.Component),be=r("VS6U"),Oe=r("LsPn"),me=r("aITJ"),Se=r("MWbm"),ge=(r("aWzz"),I.a.ha925ad3),je=I.a.h0a9931b,we={customErrorHandler:function(){return Object(j.b)({text:ge})},showToast:!0},Ee={customErrorHandler:function(){return Object(j.b)({text:je})},showToast:!0},Pe=r("cHvH"),_e=r("6vad"),Ce=r("k/OQ"),De=r("I7xG"),ke=r("oEGd"),qe=r("8Lfv"),xe=Object(P.createSelector)(_.i,(function(e,t){return"POP"===t.history.action}),(function(e,t){var r=t.location,n=r.query&&Object(D.a)(r.query.f),a=n&&Object.keys(_.c).find((function(e){return _.c[e]===n}));return a&&_.c[a]||_.c.Top}),(function(e,t){var r,n=t.location;return null==n||null===(r=n.state)||void 0===r?void 0:r.urtEndpointOptions}),(function(e,t,r,n){return{dataLookupId:e,isBackNavigation:t,searchMode:r,urtEndpointOptions:n}})),Re={clearTimelineCache:function(e){var t=e.module,r=e.fetchOptions;return Object(qe.a)(t,r)},createLocalApiErrorHandler:Object(E.d)("SEARCH_RESULTS_SCREEN"),googleAnalyticsPageView:g.a,scribePageImpression:g.d},Ae=Object(ke.g)(xe,Re),Fe=r("s14A"),Le=r("dwig"),Te=r("3X8/"),He=r("0+qk"),Me=r("Ds5i"),Be=r.n(Me),Ie=r("h2mu"),Ve=r("i6OR"),ze=r("pQ3Z"),Ke=r.n(ze);r("AxOO");function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var a=d()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h()(this,r)}}var Ze=function(e){return e&&Be()(e)?{defaultText:" ".concat(e),positionCursorAtBeginning:!0}:void 0},Ge=function(e){l()(r,e);var t=We(r);function r(){var e;a()(this,r);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c)),v()(s()(e),"_getFabState",(function(){var t=e.props.query;return Ze(t)})),v()(s()(e),"_getTimelineScribeNamespace",Object(De.a)(s()(e),(function(e){return e.scribeNamespace}),(function(e){return e.searchMode}),(function(e){return e.vertical}),(function(e,t,r){var n=r===_.d.Topics?"_topics":"",a="search_filter_".concat(t).concat(n);return Xe(Xe({},e),{},{section:a})}))),e}return o()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.googleAnalyticsPageView,r=e.isBackNavigation;(0,e.scribePageImpression)(this._getTimelineScribeNamespace()),t(this._getTimelineScribeNamespace()),r||this._clearTimelineCache()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isBackNavigation,n=t.query,a=t.querySrc,c=t.searchFilters;r||e.query===n&&e.querySrc===a&&Ke()(e.searchFilters,c)||this._clearTimelineCache()}},{key:"render",value:function(){var e=this.props,t=e.searchFocused,r=e.query,n=e.searchFilters,a=e.querySrc,c=e.searchMode,o=e.urtEndpointOptions,i=e.vertical;return b.createElement(Le.a,{component:Fe.a,fab:this._renderFloatingComposeButton(),shouldRenderFab:!t},b.createElement(G.b,{namespace:this._getTimelineScribeNamespace()},b.createElement(Ie.a,{fetchOptions:this._getFetchOptions(),query:r,querySrc:a,searchFilters:n,searchMode:c,urtEndpointOptions:o,vertical:i})))}},{key:"_renderFloatingComposeButton",value:function(){var e=this.props.history;return b.createElement(He.a,{getLocationState:this._getFabState,history:e})}},{key:"_getFetchOptions",value:function(){var e=this.props;return{query_source:e.querySrc,data_lookup_id:e.dataLookupId}}},{key:"_clearTimelineCache",value:function(){var e=this.props,t=e.clearTimelineCache,r=e.createLocalApiErrorHandler,n=e.query,a=e.querySrc,c=e.searchMode,o=e.searchFilters,i=e.urtEndpointOptions;t({module:Object(Ve.b)({query:n,querySource:a,searchMode:c,searchFilters:o,urtEndpointOptions:i}),fetchOptions:this._getFetchOptions()}).catch(r(Te.a))}}]),r}(b.Component);v()(Ge,"contextType",m.a);var Ye=Object(G.c)({page:"search",section:"universal"})(Ae(Ge));function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var a=d()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h()(this,r)}}var $e=I.a.eb0ecd1d,et=I.a.cceeb26b,tt=I.a.i66136a9,rt=I.a.d601fc2f,nt=I.a.g2fd3205,at=I.a.ac4fb0f3,ct=I.a.a9ae1e78,ot=I.a.bb967f9e,it=I.a.aea62567,st=I.a.gfcfbf8b,ut=I.a.a4645d91,lt=[{type:_.c.Top,label:tt},{type:_.c.Live,label:rt},{type:_.c.User,label:nt},{type:_.c.Image,label:at},{type:_.c.Video,label:ot}],ft=function(e){l()(r,e);var t=Qe(r);function r(){var e;a()(this,r);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c)),v()(s()(e),"state",{shouldShowDeleteSearchConfirmation:!1}),v()(s()(e),"_getScribeData",Object(V.a)((function(e,t,r,n,a){return{search_details:Je({},Object(_.f)({query:e,querySrc:t,searchFilters:r,modeValue:n,vertical:a}))}}))),v()(s()(e),"_renderRightControl",(function(t){var r=t.isTwoColumn,n=t.searchFocused;return r||!n?b.createElement(z.a,{onClick:e._handleOverflowMenuClick,renderMenu:e._renderMenu}):void 0})),v()(s()(e),"_renderMenu",(function(t){var r=e.props,n=r.history,a=r.location,c=r.isQueryAlreadySaved,o=!!e.context.loggedInUserId;return b.createElement(Pe.a,null,(function(r){var i=r.windowWidth,s=O.a.isTwoColumnLayout(i);return b.createElement(ve,{deleteSavedSearch:e._onDeleteSavedSearchMenuClick,history:n,isLoggedIn:o,isQueryAlreadySaved:c,isTwoColumn:s,location:a,onClose:t,saveSearch:e._onSaveSearch})}))})),v()(s()(e),"_onSaveSearch",(function(){var t=e.props,r=t.addToast,n=t.analytics,a=t.createLocalApiErrorHandler,c=t.query,o=t.saveSearch;c&&(M.b.isTrue("responsive_web_search_toast_enabled")?o(c).then((function(){return r({text:st})})).catch(a(we)):o(c));var i=Z.a.forSavedSearchResult(c);n.scribe({element:"saved_search",action:"add",data:{items:[i]}})})),v()(s()(e),"_handleOnDeleteSavedSearchConfirm",(function(){var t=e.props,r=t.addToast,n=t.analytics,a=t.createLocalApiErrorHandler,c=t.deleteSavedSearch,o=t.query,i=t.savedSearches.find((function(e){return e.query===o}));if(i){M.b.isTrue("responsive_web_search_toast_enabled")?c(i.id_str).then((function(){return r({text:ut})})).catch(a(Ee)):c(i.id_str);var s=Z.a.forSavedSearchResult(i.query);n.scribe({element:"saved_search",action:"delete",data:{items:[s]}}),e.setState({shouldShowDeleteSearchConfirmation:!1})}})),v()(s()(e),"_handleOnDeleteSavedSearchCancel",(function(){e.setState({shouldShowDeleteSearchConfirmation:!1})})),v()(s()(e),"_onDeleteSavedSearchMenuClick",(function(){e.setState({shouldShowDeleteSearchConfirmation:!0})})),v()(s()(e),"_handleOverflowMenuClick",(function(){e.props.analytics.scribe({element:"overflow_menu",action:"click"})})),v()(s()(e),"_renderPrimaryContent",(function(t){var r=e.state.shouldShowDeleteSearchConfirmation;return b.createElement(Se.a,null,b.createElement(Ye,t),r?b.createElement(H.a,{onCancel:e._handleOnDeleteSavedSearchCancel,onConfirm:e._handleOnDeleteSavedSearchConfirm}):null)})),v()(s()(e),"_renderSidebarContent",(function(){var t=e.props,r=t.history,n=t.location,a=t.query;return b.createElement(S.a,{withSearchBox:!1,withTrends:!!a},b.createElement(Se.a,null,b.createElement(_e.a,{text:it}),b.createElement(Y.b,{history:r,key:n.key,location:n})))})),v()(s()(e),"_renderModesBar",(function(){var t=e._getModeLinks().map((function(e){return{isActive:e.isActive,key:e.label,to:e.link,label:e.label}}));return b.createElement(Ce.a,{links:t})})),v()(s()(e),"_getModeLinks",Object(De.a)(s()(e),(function(e){return e.query}),(function(e){return e.querySrc}),(function(e){return e.searchType}),(function(e){return e.searchFilters}),(function(e){return e.mode}),(function(e){return e.vertical}),(function(t,r,n,a,c,o){return lt.map((function(i){var s=_.h[i.type];return{link:Object(_.e)({query:t,querySrc:r,modeValue:s,searchType:n,searchFilters:a,vertical:o}),isActive:e._isActive(s,c),label:i.label}}))}))),v()(s()(e),"_setSearchBoxRef",(function(t){e._searchBoxRef=t})),v()(s()(e),"_handleSoftLeftClick",(function(){var t=X.a.findDOMNode(e._searchBoxRef);t&&t instanceof window.HTMLElement&&t.querySelector("input").focus()})),v()(s()(e),"_handleSearchBoxSubmit",(function(){e.props.analytics.scribe({section:"trendsplus",action:"search"})})),e}return o()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.createLocalApiErrorHandler;(0,e.fetchSavedSearchesIfNeeded)().catch(t({}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.location,n=t.searchFocused,a=t.query,c=t.querySrc,o=t.mode,i=t.searchFilters,s=t.history,u=t.vertical,l=!!a,f=l?et({query:a}):$e,h={history:s,location:r,query:a,querySrc:c,searchFilters:i,searchFocused:n,vertical:u},p={initialValue:a,mode:o,onSubmit:this._handleSearchBoxSubmit,searchFilters:i},d=this._renderPrimaryContent(h);return l?b.createElement(G.b,{data:this._getScribeData(a,c,i,o,u)},b.createElement(K.a,null,b.createElement(Pe.a,null,(function(t){var r=t.windowWidth,c=O.a.isTwoColumnLayout(r),o=e._renderRightControl({isTwoColumn:c,searchFocused:n});return b.createElement(be.a,{backLocation:"/explore",composeOptions:Ze(a),documentTitle:f,history:s,primaryContent:d,rightControl:o,searchBoxOptions:p,searchBoxRef:e._setSearchBoxRef,secondaryBar:e._renderModesBar(),sidebarContent:e._renderSidebarContent(),title:a,withBottomLoginSignupBar:!0,withSearchBox:!0})})),me.a.isKaiOS()&&b.createElement(Oe.a,{leftText:ct,onLeftClick:this._handleSoftLeftClick}))):b.createElement(W.a,{to:"/explore"})}},{key:"_isActive",value:function(e,t){return function(){return t===e}}}]),r}(b.Component);v()(ft,"contextType",m.a);var ht=T(ft);t.default=ht},"3A2y":function(e,t,r){"use strict";r("KOtZ"),r("+KXO");var n=r("zrOZ");t.a=function(e,t){var r=Object(n.a)(Array.isArray(t)?t:[t]);return Object.keys(e).reduce((function(t,n){return r.has(n)||(t[n]=e[n]),t}),{})}},Ds5i:function(e,t,r){"use strict";var n=r("IGGJ");r("M+/F"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;var t=(0,a.default)(e);return 1===t.length&&t[0]===e.slice(1)};var a=n(r("nmVb"));e.exports=t.default},L7to:function(e,t,r){"use strict";r.d(t,"a",(function(){return V}));r("1t7P"),r("LW0h"),r("jwue"),r("jQ3i"),r("vrRf"),r("z84I"),r("ho0z"),r("daRM"),r("FtHn"),r("+KXO"),r("7x/C"),r("OZaJ"),r("KqXw"),r("DZ+c"),r("x4t0"),r("MvUL"),r("uFXj"),r("+oxZ");var n=r("VrFO"),a=r.n(n),c=r("Y9Ll"),o=r.n(c),i=r("1Pcy"),s=r.n(i),u=r("5Yy7"),l=r.n(u),f=r("N+ot"),h=r.n(f),p=r("AuHH"),d=r.n(p),y=r("KEM+"),v=r.n(y),b=r("ERkP"),O=r("v6aA"),m=r("3XMw"),S=r.n(m),g=r("RxYA"),j=(r("yH/f"),Object.freeze({People:"People",Location:"Location"})),w=r("MWbm"),E=r("Irs7"),P=r("V2ml"),_=r("rC8y"),C=r("rHpw"),D=r("3A2y"),k=r("Zkey");function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var a=d()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h()(this,r)}}var A=S.a.j622effd,F=S.a.g2fd3205,L=S.a.defb4aa9,T=S.a.af293dc2,H=S.a.jaaa8984,M=S.a.i5045e73,B=S.a.h2388753,I=[{label:F,name:j.People,options:[{label:L,value:"anyone"},{label:T,value:"youFollow"}]},{label:H,name:j.Location,options:[{label:M,value:"anywhere"},{label:B,value:"nearYou"}]}],V=function(e){l()(r,e);var t=R(r);function r(e,n){var c;a()(this,r),c=t.call(this,e,n),v()(s()(c),"_renderFilters",(function(){return I.map((function(e,t){return b.createElement(w.a,{key:e.name,style:t>0&&z.paddingTop},b.createElement(P.a,{label:e.label,name:e.name,onChange:c._handleFilterChange,options:e.options,value:c._getCurrentValue(e.name)}))}))})),v()(s()(c),"_getCurrentValue",(function(e){switch(e){case j.People:return c.state.peopleFilter;case j.Location:return c.state.locationFilter;default:return""}})),v()(s()(c),"_handleFilterChange",(function(e,t){var r=c.context.loggedInUserId,n=c.props.location.query;switch(e){case j.People:if(r){c.setState({peopleFilter:t});var a={pf:"youFollow"===t?"on":void 0,lf:"on"===n.lf?n.lf:void 0};c._executeSearch(a,"people")}else c.setState({shouldShowLoginSheet:!0});break;case j.Location:c.setState({locationFilter:t});var o={lf:"nearYou"===t?"on":void 0,pf:"on"===n.pf?n.pf:void 0};c._executeSearch(o,"location")}})),v()(s()(c),"_getAdvancedSearchLink",(function(){var e=c.props.location;return{pathname:"/search-advanced",query:x({},Object(D.a)(e.query,["q","src"]))}})),v()(s()(c),"_handleFooterPress",(function(){c._scribeAction("advanced_search")})),v()(s()(c),"_scribeAction",(function(e){c.props.analytics.scribe({element:e,action:"click"})})),v()(s()(c),"_executeSearch",(function(e,t){var r=c.props,n=r.history,a=r.location;c._scribeAction(t);var o=c._getPathname();n.replace({pathname:o,query:Object(k.a)(x(x({},a.query),e))})})),v()(s()(c),"_getPathname",(function(){var e=c.props.location;if(e.pathname.includes("/hashtag/"))return e.pathname;if(e.state&&e.state.previousPath&&e.state.previousPath.includes("/hashtag/")&&"/search"!==e.pathname){var t=e.state.previousPath,r=t.indexOf("?")>-1?t.indexOf("?"):t.length-1;return t.substring(0,r)}return"/search"})),v()(s()(c),"_handleHideLoginSheet",(function(){c.setState({shouldShowLoginSheet:!1})}));var o=c.context.loggedInUserId,i=e.location.query,u=o&&i&&i.pf?"youFollow":"anyone",l=i&&i.lf?"nearYou":"anywhere";return c.state={peopleFilter:u,locationFilter:l,shouldShowLoginSheet:!1},c}return o()(r,[{key:"componentDidMount",value:function(){this.props.analytics.scribe({action:"impression"})}},{key:"render",value:function(){var e=this.props.withBottomBorder,t=this.state.shouldShowLoginSheet;return b.createElement(w.a,null,b.createElement(w.a,{style:z.content},this._renderFilters()),b.createElement(w.a,{style:[z.footer,e&&z.bottomBorder]},b.createElement(_.a,{link:this._getAdvancedSearchLink(),onPress:this._handleFooterPress,text:A})),t?b.createElement(g.a,{onClose:this._handleHideLoginSheet}):null)}}]),r}(b.Component);v()(V,"contextType",O.a),v()(V,"defaultProps",{withBottomBorder:!1});var z=C.a.create((function(e){return{content:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingBottom:e.spaces.small},footer:{borderTopColor:e.colors.fadedGray,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small},bottomBorder:{borderBottomColor:e.colors.fadedGray,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},paddingTop:{paddingTop:e.spaces.xxSmall}}}));t.b=Object(E.a)(V,{page:"search_filters"})},hiGS:function(e,t,r){"use strict";r("1t7P"),r("LW0h"),r("jwue"),r("daRM"),r("FtHn"),r("+KXO"),r("+oxZ");var n=r("KEM+"),a=r.n(n),c=r("ERkP"),o=r("Lsrn"),i=r("k/Ka");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)("svg",u(u({},e),{},{style:[o.a.root,e.style],viewBox:"0 0 24 24"}),c.createElement("g",null,c.createElement("path",{d:"M20.746 5.236h-3.75V4.25c0-1.24-1.01-2.25-2.25-2.25h-5.5c-1.24 0-2.25 1.01-2.25 2.25v.986h-3.75c-.414 0-.75.336-.75.75s.336.75.75.75h.368l1.583 13.262c.216 1.193 1.31 2.027 2.658 2.027h8.282c1.35 0 2.442-.834 2.664-2.072l1.577-13.217h.368c.414 0 .75-.336.75-.75s-.335-.75-.75-.75zM8.496 4.25c0-.413.337-.75.75-.75h5.5c.413 0 .75.337.75.75v.986h-7V4.25zm8.822 15.48c-.1.55-.664.795-1.18.795H7.854c-.517 0-1.083-.246-1.175-.75L5.126 6.735h13.74L17.32 19.732z"}),c.createElement("path",{d:"M10 17.75c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75zm4 0c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75z"})))};l.metadata={width:24,height:24},t.a=l},kix0:function(e,t,r){"use strict";r.r(t),r.d(t,"SearchFiltersScreen",(function(){return E}));r("7x/C"),r("OZaJ"),r("KqXw"),r("DZ+c"),r("MvUL");var n=r("97Jx"),a=r.n(n),c=r("VrFO"),o=r.n(c),i=r("Y9Ll"),s=r.n(i),u=r("5Yy7"),l=r.n(u),f=r("N+ot"),h=r.n(f),p=r("AuHH"),d=r.n(p),y=r("ERkP"),v=r("jHSc"),b=r("3XMw"),O=r.n(b),m=r("YeIG"),S=r("L7to"),g=r("Irs7");function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var a=d()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h()(this,r)}}var w=O.a.aea62567,E=function(e){l()(r,e);var t=j(r);function r(e){var n;o()(this,r);var a=(n=t.call(this,e)).props,c=a.history,i=a.location;return Object(m.a)(i.query)&&c.replace("/explore"),n}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.history,r=e.location;return y.createElement(v.b,{documentTitle:w,history:t,title:w},y.createElement(S.a,a()({},this.props,{key:r.key,withBottomBorder:!0})))}}]),r}(y.Component);t.default=Object(g.a)(E,{page:"search_filters"})},nmVb:function(e,t,r){"use strict";var n=r("IGGJ");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],r=(0,a.default)(e),n=0;n<r.length;n++)t.push(r[n].hashtag);return t};var a=n(r("yyPN"));e.exports=t.default},sYRn:function(e,t,r){"use strict";var n=r("ERkP"),a=r("eb3s"),c=r("3XMw"),o=r.n(c),i=o.a.hffea05c,s=o.a.j037e373,u=o.a.d96cf7cd;t.a=function(e){var t=e.onCancel,r=e.onConfirm;return n.createElement(a.a,{confirmButtonLabel:u,confirmButtonType:"destructive",headline:i,onCancel:t,onConfirm:r,text:s})}},v4XE:function(e,t,r){"use strict";r.d(t,"d",(function(){return m})),r.d(t,"c",(function(){return S})),r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return j}));r("1t7P"),r("2G9S"),r("LW0h"),r("jwue"),r("daRM"),r("FtHn"),r("+KXO"),r("7x/C"),r("JtPf"),r("+oxZ");var n=r("RhWx"),a=r.n(n),c=r("KEM+"),o=r.n(c),i=r("kGix"),s=r("Ssj5"),u=r("RqPI"),l=r("oEOe");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p="rweb/".concat("savedSearches"),d={fetchStatus:i.a.NONE,savedSearches:[]},y=Object(l.a)(p,"FETCH_SAVED_SEARCHES"),v=Object(l.a)(p,"SAVE_SEARCH"),b=Object(l.a)(p,"DELETE_SAVED_SEARCH");function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.SUCCESS:return h(h({},e),{},{fetchStatus:i.a.LOADED,savedSearches:t.payload});case y.FAILURE:return h(h({},e),{},{fetchStatus:i.a.FAILED});case v.SUCCESS:return h(h({},e),{},{savedSearches:[].concat(a()(e.savedSearches),[t.payload])});case b.SUCCESS:return h(h({},e),{},{savedSearches:e.savedSearches.filter((function(e){return e.id_str!==t.payload.id_str}))});default:return e}}s.a.register(o()({},"savedSearches",O));var m=function(e){return e.savedSearches.savedSearches},S=function(e){return function(t,r,n){var a=n.api;return Object(l.b)(t,{request:a.SavedSearches.create,params:{query:e}})({actionTypes:v,context:"SAVE_SEARCH"})}},g=function(e){return function(t,r,n){var a=n.api;return Object(l.b)(t,{request:a.SavedSearches.destroy,params:{id:e}})({actionTypes:b,context:"DELETE_SAVED_SEARCH"})}},j=function(){return function(e,t,r){r.api;var n=t();return Object(u.e)(n)?function(e){return e.savedSearches.fetchStatus}(n)===i.a.LOADED?Promise.resolve():e((function(e,t,r){var n=r.api;return Object(l.b)(e,{request:n.SavedSearches.fetch,params:{}})({actionTypes:y,context:"FETCH_SAVED_SEARCHES"})})):Promise.resolve()}}}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web-legacy/bundle.Search.c40989e5.js.map