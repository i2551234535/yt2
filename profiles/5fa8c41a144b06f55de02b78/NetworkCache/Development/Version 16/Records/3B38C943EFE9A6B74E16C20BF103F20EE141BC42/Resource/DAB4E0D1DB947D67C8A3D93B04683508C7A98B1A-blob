(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{Jd6J:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("2G9S"),r("Blm6");var n=r("ERkP"),a=r("TIdA"),i=r("A91F"),o={composeDirectMessage:function(e){e.recipient,e.welcomeMessageId,e.messageText},composeTweet:function(e,t,r){},getCtaString:function(e){switch(e){case"play":return"Play";case"shop":return"Shop";case"book":return"Book";case"connect":return"Connect";case"order":return"Order";case"open":return"Open";case"install":default:return"Install"}},getFetchIntervalSeconds:function(){return 30},getMessageMeString:function(e){switch(e){case"message_me_card_cta_1":return"Message us";case"message_me_card_cta_3":return"Send us a private message";case"message_me_card_cta_4":return"Send me a private message";case"message_me_card_cta_2":default:return"Send a private message"}},getMobileOS:function(){return"android"},getBroadcastLink:function(e){return"https://twitter.com/i/broadcasts/".concat(e)},getEventLink:function(e){return"https://twitter.com/i/events/".concat(e)},getMomentLink:function(e){return"https://twitter.com/i/moments/".concat(e)},renderImage:function(e,t,r,o,c,s){var l=e.uri,d=e.width,u=e.height;return n.createElement(a.a,{accessibilityLabel:s,aspectMode:i.a.exact(t||1),cropCandidates:c,image:{url:l,width:d||1e3,height:u||1e3}})},renderTwemojiText:function(e){return e},renderNumVotesLabel:function(e){return"".concat(e.toLocaleString()," vote").concat(1===e?"":"s")},renderFinalResultsLabel:function(){return"Final results"},renderRatingsLabel:function(e){var t=e.appStarRating,r=e.appNumRatings;return"".concat(t,"/5.0 stars â€“ ").concat(r," ratings")},renderStartingTimeLabel:function(e){return"Starting ".concat(new Date(parseInt(e,10)).toLocaleString("default",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}))},renderTimeLeftLabel:function(e){return"Ends at ".concat(new Date(e).toLocaleString())},renderTweetActionLabel:function(e){return"Tweet ".concat(e)},renderVoteLabel:function(){return"Vote"},shouldLimitTextToSingleLine:function(){return!1},storeCardState:function(e,t){},storeCarouselIndex:function(e,t){}};t.b={init:function(e){for(var t in e)o[t]=e[t]},setRenderImage:function(e){o.renderImage=e},setRenderTwemojiText:function(e){o.renderTwemojiText=e},setRenderNumVotesLabel:function(e){o.renderNumVotesLabel=e},setRenderFinalResultsLabel:function(e){o.renderFinalResultsLabel=e},setRenderTimeLeftLabel:function(e){o.renderTimeLeftLabel=e},setRenderTweetActionLabel:function(e){o.renderTweetActionLabel=e},setRenderRatingsLabel:function(e){o.renderRatingsLabel=e},setRenderVoteLabel:function(e){o.renderVoteLabel=e}}},"aX4+":function(e,t,r){"use strict";r.r(t),r.d(t,"HWCard",(function(){return lt}));r("1t7P"),r("LW0h"),r("jwue"),r("z84I"),r("ho0z"),r("IAdD"),r("daRM"),r("FtHn"),r("+KXO"),r("7x/C"),r("OZaJ"),r("DZ+c"),r("+oxZ");var n=r("m3Bd"),a=r.n(n),i=r("97Jx"),o=r.n(i),c=r("ddV6"),s=r.n(c),l=r("VrFO"),d=r.n(l),u=r("Y9Ll"),p=r.n(u),_=r("1Pcy"),b=r.n(_),m=r("5Yy7"),f=r.n(m),y=r("N+ot"),v=r.n(y),g=r("AuHH"),T=r.n(g),I=r("KEM+"),E=r.n(I),O=r("+/5o"),h=r("ERkP"),A=r("v6aA"),D=r("Tb0w"),S=r("6rlp"),w=r("vjRr"),C=r("/Ikv"),P=r("rxPX"),L=r("0KEI"),R=r("P1r1"),N=r("oEOe"),M=r("/kEJ");function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){E()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k="rweb/".concat("cards"),U=N.a(k,""),B=function(e,t){return function(r,n,a){var i=a.api;return N.b(r,{params:{ids:[t]},request:i.Broadcasts.fetchBroadcast})({actionTypes:U,context:"FETCH_BROADCAST",meta:{}},(function(t){if(t){var r=t.result.broadcasts[0],a=t.entities.broadcasts[r],i=w.a.select(n(),e);if(!i)return[];var o=F(a,i);return[Object(M.c)({cards:E()({},e,x({},o))})]}}))}},F=function(e,t){var r=e.pre_live_slate_url,n=e.scheduled_start_ms,a=e.state,i=e.status,o=e.twitter_user_id,c=e.user_display_name;return{binding_values:x(x({},t.binding_values),{},{broadcast_state:{type:"STRING",string_value:a},broadcast_title:{type:"STRING",string_value:i},site:{type:"USER",user_value:{id_str:o}},broadcaster_display_name:{type:"STRING",string_value:c},broadcast_scheduled_start_time:{type:"STRING",string_value:n}},r?{broadcast_pre_live_slate:{type:"IMAGE",image_value:{url:r}}}:null)}},Y=function(e,t){var r;return t.cardState||(null===(r=D.b(e,t.card.url))||void 0===r?void 0:r.cardState)},G=function(e,t){var r;return t.initialCarouselIndex||(null===(r=D.b(e,t.card.url))||void 0===r?void 0:r.carouselIndex)},z=function(e,t){return C.a.getBindingValue(t.card.binding_values,"broadcast_id")},V=Object(P.a)().propsFromState((function(){return{cardState:Y,initialCarouselIndex:G,isDataSaverEnabled:R.j,broadcastId:z}})).propsFromActions((function(){return{createLocalApiErrorHandler:Object(L.d)("CARD_CONTAINER"),requestCardUpdate:w.a.fetchOne,log:S.a,updateBroadcastCard:B,vote:w.a.vote,remindMeButtonSubscribe:w.a.eventSubscribe,remindMeButtonUnsubscribe:w.a.eventUnsubscribe,updateCardState:D.c}})).withAnalytics({element:"platform_card"}),W=r("TrHT"),H=r("wrlS"),q=r("F3pd");function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){E()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X=function(e,t,r,n){switch(e){case"card_url_click":return{event:"card_url_click"};case"install_app":return{event:"install_app"};case"dm_button_click":return{event:"card_url_click",engagement_metadata:JSON.stringify({direct_message_card_details:{button_index:r}})};case"convo_button_click":return{event:"card_click",engagement_metadata:JSON.stringify({conversational_card_details:{button_index:r}})};case"poll_card_vote":return{event:"poll_card_vote"};case"unified_card_component_url_click":return K({event:"unified_card",uc_event:JSON.stringify({event:"click",component:t,destination:"browser"})},"button_group"===t||n?{engagement_metadata:JSON.stringify(K({uc_button_group_details:{button_index:r}},n?{uc_event_metadata:n}:null))}:null);case"unified_card_component_app_store_click":return{event:"unified_card",uc_event:JSON.stringify({event:"click",component:"details"===t?"app_store_details":t,destination:"app_store"}),engagement_metadata:JSON.stringify({uc_event_metadata:K(K({},n),{},{app_event:"install_app"},"button_group"===t?{button_index:r}:null)})};case"unified_card_carousel_swipe_next":case"unified_card_carousel_swipe_previous":return{event:"unified_card",uc_event:JSON.stringify({event:"unified_card_carousel_swipe_next"===e?"swipe_next":"swipe_previous",component:t}),engagement_metadata:JSON.stringify({uc_event_metadata:n})};default:return null}},Z=r("3XMw"),Q=r.n(Z),$=(r("2G9S"),r("vrRf"),r("Blm6"),Q.a.d37a42ad),ee=Q.a.c2818323,te=Q.a.ef1f709d,re=Q.a.ia24dc8c,ne=Q.a.ecd234cd,ae=Q.a.d1318fbc,ie=r("nT9l"),oe=r("aITJ"),ce=r("TIdA"),se=r("Jd6J"),le=r("A91F"),de=r("t62R");function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){E()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _e=!1,be=Q.a.ic1e826e,me=Q.a.c8b4bcaf,fe=Q.a.b62956a9,ye=Q.a.b5298d91,ve=Q.a.i3ea806a,ge=Q.a.fd00a769,Te=Q.a.e0aa5848,Ie=Q.a.d3f6b1a6,Ee=Q.a.b0e322cc,Oe=Q.a.cb8bddc7,he=Q.a.cb8c547e,Ae=Q.a.d980e29e,De=Q.a.f93bb3ee,Se=Q.a.fc209bb7,we=oe.a.isIOS()?"ios":oe.a.isAndroid()?"android":"other",Ce={},Pe=function(e){return function(t,r,n){var a=0===t.indexOf("card://"),i=r&&!a?" ":"",o=a?"":t,c=r||!a?"".concat(r||"").concat(i).concat(o):null;e.push(pe(pe({pathname:"/compose/tweet"},c?{query:{text:c}}:null),{},{state:{convoCardData:{cardId:t,cardUrl:a?t:null,nextState:n}}}))}};function Le(e){var t,r,n;_e||(_e=!0,se.b.init((t=e,r=t.history,n=t.updateCardState,[{composeDirectMessage:function(e){var t=e.recipient,n=e.welcomeMessageId,a=e.messageText,i={recipient_id:t};n&&(i.welcome_message_id=n),a&&(i.text=a),r.push({pathname:"/messages/compose",query:pe({},i)})},composeTweet:Pe(r),getFetchIntervalSeconds:function(){return 30},getCtaString:function(e){switch(e){case"play":return be;case"shop":return me;case"book":return fe;case"connect":return ye;case"order":return ve;case"open":return ge;case"install":default:return Te}},getMessageMeString:function(e){switch(e){case"message_me_card_cta_1":return Ie;case"message_me_card_cta_3":return Oe;case"message_me_card_cta_4":return he;case"message_me_card_cta_2":default:return Ee}},getMobileOS:function(){return we},renderImage:function(e,t,r,n,a,i){var o=e.uri,c=e.width,s=e.height,l=n?function(e){if(Ce[e])return Ce[e];var t=ce.a.createLayoutCache();return Ce[e]=t,t}(n):void 0,d=function(e){var r=e.useMinimumData;return h.createElement(ce.a,{accessibilityLabel:i,aspectMode:le.a.exact(t||1),cropCandidates:a,image:{url:o,width:c||1e3,height:s||1e3},layoutCache:l,previewMode:r})};return"preview"===r?h.createElement(ie.a,{acceptLabel:De,renderContent:d,resourceId:o}):d({useMinimumData:!1})},renderTwemojiText:function(e){return h.createElement(de.c,null,e)},renderNumVotesLabel:function(e){return ne({count:e,formattedCount:re(e)})},renderFinalResultsLabel:function(){return ae},renderTimeLeftLabel:function(e){return t=new Date(e).getTime()-Date.now(),r=Math.floor(t/864e5),n=Math.floor(t/36e5),a=Math.floor(t/6e4),n>=24?te(Q.a.ia24dc8c(r)):a>=60?ee(Q.a.ia24dc8c(n)):$(Q.a.ia24dc8c(a));var t,r,n,a},renderStartingTimeLabel:function(e){var t=new Date(parseInt(e,10));return Ae({date:Se(t)})},storeCardState:function(e,t){return n(e,{cardState:t})},storeCarouselIndex:function(e,t){return n(e,{carouselIndex:t})}}])[0]))}r("JtPf");var Re=r("zb92"),Ne=Object(Re.a)({loader:function(){return r.e(146).then(r.bind(null,"tpds"))}});function Me(e){return h.createElement(Ne,{player:e})}var je=r("cFuS"),xe=r("Rp9C"),ke=r("Jkc4"),Ue={wrapper:"card.wrapper",layoutLarge:{media:"card.layoutLarge.media",detail:"card.layoutLarge.detail"},layoutSmall:{media:"card.layoutSmall.media",detail:"card.layoutSmall.detail"}},Be=r("v/3V"),Fe=r("XOJV"),Ye=function(e,t){return t.media_tweet_id},Ge=function(e,t){var r=Ye(0,t);return r?Fe.a.selectFetchStatus(e,r):void 0},ze=Object(P.a)().propsFromState((function(){return{videoTweetFetchStatus:Ge,videoTweet:Fe.a.createHydratedTweetSelector(Ye)}})).propsFromActions((function(){return{createLocalApiErrorHandler:Object(L.d)("EVENT_CARD_CONTEXT"),fetchTweetIfNeeded:Fe.a.fetchOneIfNeeded}})),Ve=r("v//M"),We=r("W5XZ"),He=r("fUT7"),qe=r("Modb"),Je=r("lklz"),Ke=r("MWbm"),Xe=r("9Xij"),Ze=r("rHpw");function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T()(e);if(t){var a=T()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return v()(this,r)}}var $e=Q.a.a1979463,et=ze(function(e){f()(r,e);var t=Qe(r);function r(){var e;d()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(b()(e),"_renderInlinePlayer",(function(){var t,r=e.props,n=r.aspect_ratio,a=r.event_id,i=r.media_tweet_id,c=r.poster_image,s=r.promotedContent,l=r.videoTweet,d=null==l||null===(t=l.extended_entities)||void 0===t?void 0:t.media[0],u=Je.b.forTweet(i);return d?h.createElement(qe.a,o()({},Object(W.a)(u,d,a),{aspectRatio:n,poster:c,promotedContent:s})):null})),E()(b()(e),"_handleFetchTweet",(function(){var t=e.props,r=t.createLocalApiErrorHandler,n=t.fetchTweetIfNeeded,a=t.media_tweet_id;He.a.preload(),n(a).catch(r(We.a))})),e}return p()(r,[{key:"componentDidMount",value:function(){this._handleFetchTweet()}},{key:"render",value:function(){var e=this.props,t=e.aspect_ratio,r=e.media_tweet_id,n=e.videoTweetFetchStatus;return r?h.createElement(Xe.a,{ratio:t},h.createElement(Ke.a,{style:Ze.a.absoluteFill},h.createElement(Ve.a,{accessibilityLabel:$e,fetchStatus:n,onRequestRetry:this._handleFetchTweet,render:this._renderInlinePlayer}))):null}}]),r}(h.Component)),tt=r("TnY3"),rt=r("bU1N");function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach((function(t){E()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T()(e);if(t){var a=T()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return v()(this,r)}}var ot=oe.a.isTwitterLiteAPK(),ct=Q.a.ac4c73d8,st={objectFitVideo:"cover"},lt=function(e){f()(r,e);var t=it(r);function r(e,n){var i;return d()(this,r),i=t.call(this,e,n),E()(b()(i),"_getCardState",(function(){var e=i.props,t=e.cardState,r=e.card,n=H.b.isTrue("responsive_web_eu_compliance_player_card_disabled");return r.name!==C.a.CardNames.PLAYER||C.a.isVineCard(r)||!n&&!ot?t:"static"})),E()(b()(i),"_updateBroadcastCard",(function(e){var t=s()(e,1)[0],r=i.props,n=r.broadcastId,a=r.updateBroadcastCard,o=r.createLocalApiErrorHandler;n&&a(t,n).catch(o())})),E()(b()(i),"_handleRequestCardUpdate",(function(){var e=i.context.loggedInUserId,t=i.props,r=t.card,n=t.requestCardUpdate,a=t.createLocalApiErrorHandler;return r.name===C.a.CardNames.BROADCAST?i._updateBroadcastCard:e?function(e,t){var r=Object.assign({},t);n(e,r).catch(a())}:void 0})),E()(b()(i),"_handlePromotedLogEvent",(function(e){var t=e.action,r=e.componentType,n=e.buttonIndex,a=e.isAuthRequired,o=e.ucPromotedMetadata,c=i.props,s=c.createLocalApiErrorHandler,l=c.cardContext,d=c.log,u=c.promotedContent,p=i.context.loggedInUserId;if((!a||p)&&u&&l){var _=u.disclosure_type,b=u.impression_id;d({disclosureType:_,itemId:l.tweetId,itemType:je.c.TWEET,params:at({impression_id:b},X(t,r,n,o))}).catch(s())}})),E()(b()(i),"_handleScribeEvent",(function(e){var t=e.action,r=e.componentType,n=e.cardName,a=e.cardUrl,o=e.ctaIndex,c=e.element,s=e.isMessageMe,l=e.isAuthRequired,d=i.props,u=d.analytics,p=d.cardContext,_=d.promotedContent,b=i.context.loggedInUserId,m="unified_card_app_store_open_link"===t?"open_link":t,f=_&&"earned"!==Object(q.a)(_)?_.impression_id:void 0;if(!l||b){var y={action:m,data:{items:[xe.a.getHWCardItem(at(at({componentType:r,cardName:n,cardUrl:a,ctaIndex:o,tweetId:p.tweetId,tweetUserId:p.tweetUserId},s?{viewingUserId:b}:null),{},{isUCAppInstall:"unified_card_app_store_open_link"===t,impressionId:f}))]}};u.scribe(c?at({element:c},y):y)}})),E()(b()(i),"_handlePollVote",(function(e){var t=e.choice,r=e.cardId,n=i.props,a=n.cardContext.tweetId;(0,n.vote)(r,{selectedIndex:t,tweetId:a})})),E()(b()(i),"_handleEventReminderClick",(function(e){var t=e.cardId,r=e.eventId,n=e.notificationId,a=e.remindMe,o=i.props,c=o.remindMeButtonSubscribe,s=o.remindMeButtonUnsubscribe;a?c(t,r,{remind_me:a,notification_id:n}):s(t,r,{remind_me:a,notification_id:n})})),E()(b()(i),"_transformUrl",(function(e,t){var r;if(!t)return Object(Be.a)(e,null===(r=i.props.promotedContent)||void 0===r?void 0:r.click_tracking_info);var n=i.props,a=n.promotedContent,o=n.analytics,c=t.page,s=t.section,l=t.component,d=t.element,u=t.action;return{pathname:Object(Be.a)(e,null==a?void 0:a.click_tracking_info),state:{referringScribeNamespace:at(at(at(at(at(at({},o.contextualScribeNamespace),void 0!==c?{page:c}:null),void 0!==s?{section:s}:null),void 0!==l?{component:l}:null),void 0!==d?{element:d}:null),void 0!==u?{action:u}:null)}}})),E()(b()(i),"_renderVideoPlayer",(function(e,t,r){var n=i.props,c=n.cardContext.tweetId,s=n.promotedContent,l=(s||{}).impression_id;if("live_broadcast"===e.type){var d=e.broadcast_id,u=e.aspect_ratio,p=e.content_id,_=e.poster_image,b=e.timecode;return h.createElement(qe.a,{accessibilityLabel:ct,aspectRatio:r||u,customOverlay:Me,displayOptions:st,forceFullPreviewImage:"suboptimal"===t,poster:_,promotedContent:s,source:{contentId:p,videoId:Je.b.forBroadcast(d,c,l)},timecode:b,videoType:"video"})}if("tweet_video"===e.type)return h.createElement(et,o()({},e,{promotedContent:s}));if("uc_video"===e.type){e.type;var m=e.original_info,f=a()(e,["type","original_info"]),y=Object(W.a)(Je.b.forTweet(c||"",l),at(at({},f),{},{original_info:at({},m),type:"video"})),v=(y.accessibilityLabel,y.backgroundColor,y.primaryLabel,y.secondaryLabel,a()(y,["accessibilityLabel","backgroundColor","primaryLabel","secondaryLabel"]));return r&&(v.aspectRatio=r),h.createElement(qe.a,o()({forceFullPreviewImage:"suboptimal"===t},v,{accessibilityLabel:ct,promotedContent:s}))}var g=e.aspect_ratio,T=e.content_id,I=e.duration_ms,E=e.poster_image,O=e.variants,A=e.vmap_url,D=O&&O.filter((function(e){return!!e.src}));return c?h.createElement(qe.a,{accessibilityLabel:ct,aspectRatio:r||g,durationMs:I,forceFullPreviewImage:"suboptimal"===t,poster:E,promotedContent:s,source:at(at({contentId:T},D&&D.length>0?{variants:D.map((function(e){return{content_type:e.type,url:e.src}}))}:null),{},{videoId:{type:"tweet",id:c},vmapUrl:A}),videoType:"vine"===e.type?"vine":"video"}):null})),Le({history:e.history,updateCardState:e.updateCardState}),i}return p()(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.dmSentOrReceived,n=t.isDataSaverEnabled,a=t.promotedContent,i=t.card,o=t.cardContext,c=t.isInteractive,s=t.withSquareBottomBorderRadius,l=t.nativeID,d=t.initialCarouselIndex,u=H.b.isTrue("unified_cards_cta_color_blue_cta"),p={cardMediaDomId:O.c,cardDetailDomId:O.a};return h.createElement(ke.a,null,(function(t){return h.createElement(rt.a,{a11yDomIds:p,card:i,cardContext:o,cardState:e._getCardState(),dmSentOrReceived:r,initialCarouselIndex:d,isDataSaverEnabled:n,isInteractive:c,isPromoted:!!a,nativeID:l,onEventReminderClick:t(e._handleEventReminderClick),onPollVote:t(e._handlePollVote),onPromotedLogEvent:e._handlePromotedLogEvent,onScribeEvent:e._handleScribeEvent,promotedContent:a,renderVideoPlayer:e._renderVideoPlayer,requestCardUpdate:e._handleRequestCardUpdate(),testIDs:Ue,transformUrl:e._transformUrl,useBlueButtonForAppDetails:u,withSquareBottomBorderRadius:s})}))}}]),r}(h.Component);E()(lt,"contextType",A.a);var dt=V(Object(tt.a)(lt));t.default=dt},bU1N:function(e,t,r){"use strict";r("1t7P"),r("LW0h"),r("hBpG"),r("jwue"),r("z84I"),r("wFPu"),r("yH/f"),r("daRM"),r("FtHn"),r("+KXO"),r("7x/C"),r("OZaJ"),r("DZ+c"),r("+oxZ");var n=r("97Jx"),a=r.n(n),i=r("VrFO"),o=r.n(i),c=r("Y9Ll"),s=r.n(c),l=r("1Pcy"),d=r.n(l),u=r("5Yy7"),p=r.n(u),_=r("N+ot"),b=r.n(_),m=r("AuHH"),f=r.n(m),y=r("KEM+"),v=r.n(y),g=r("ERkP"),T=r("Jd6J");function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var E=function(e){p()(r,e);var t=I(r);function r(){return o()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this._startTimer()}},{key:"componentWillUnmount",value:function(){this._stopTimer()}},{key:"_startTimer",value:function(){var e=this.props.requestCardUpdate,t=T.a.getFetchIntervalSeconds();this._timer=setInterval(e,1e3*t)}},{key:"_stopTimer",value:function(){clearInterval(this._timer)}}]),r}(g.Component),O=(r("jQ/y"),r("7xRU"),r("uFXj"),r("9Xij")),h=(r("2G9S"),r("hBvt"),r("/yvb")),A=r("ddV6"),D=r.n(A),S=r("oECP"),w=r("YXv0");function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var R=function(e){p()(r,e);var t=L(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),v()(d()(e),"_extractCardActionParams",(function(e,t){return[t&&void 0!==t.index?t.index:void 0,e.type===w.f.ACTION&&e.data.auth_required]})),v()(d()(e),"_scribeAndLogAction",(function(t,r,n){var a=e.props.scribeCardAction,i=e._extractCardActionParams(t,n),o=D()(i,2),c=o[0],s=o[1];a&&a({action:t.data.scribe,componentType:r,ctaIndex:c,isAuthRequired:s}),e._logPromotedCardAction({action:t.data.promoted_log,componentType:r,ctaIndex:c,isAuthRequired:s})})),v()(d()(e),"_scribeUnifiedCardClick",(function(t,r,n){var a=e.props.scribeCardAction,i=e._extractCardActionParams(t,n),o=D()(i,2),c=o[0],s=o[1];a&&a({action:"click",element:t.data.scribe_element||void 0,componentType:r,ctaIndex:c,isAuthRequired:s})})),v()(d()(e),"_voteForChoice",(function(t){var r=e.props,n=r.card,a=r.onPollVote;a&&n&&a({cardId:n.id,choice:t})})),v()(d()(e),"_toggleEventReminder",(function(t){var r=e.props,n=r.card,a=r.onEventReminderClick;if(t.eventId&&t.notificationId){var i=t.eventId,o=t.isSelected,c=void 0!==o&&o,s=t.notificationId;a&&n&&a({cardId:n.id,eventId:i,notificationId:s,remindMe:!c})}})),v()(d()(e),"_updateCardStateAndPersistIfNeeded",(function(t,r,n){var a=e.props.updateCardState;n&&(a&&a(n),r&&T.a.storeCardState(t,n))})),v()(d()(e),"_logPromotedCardAction",(function(t){var r=t.action,n=t.componentType,a=t.ctaIndex,i=t.isAuthRequired,o=e.props,c=o.card,s=o.onPromotedLogEvent;c&&s&&s(P(P({action:r,componentType:n},"number"==typeof a?{buttonIndex:a}:null),{},{isAuthRequired:i}))})),e}return s()(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.buttonData,n=t.card,a=t.children,i=t.componentType,o=t.destinationKey,c=t.isInteractive,s=t.media,l=t.promotedContent,d=t.transformUrl;if(!n||!o||!c)return a({});var u=n.destinations[o],p=null!=d?d:S.a;if(!u)return a({});switch(u.type){case w.f.BROWSER:case w.f.BROWSER_WITH_DOCKED_MEDIA:case w.f.BROWSER_WITH_MEDIA:var _=n.card_name===w.a.UNIFIED_CARD;return a({link:_&&d?d(u.data.url_data.url,P(P({},u.data.scribe_element?{element:u.data.scribe_element}:null),{},{action:"click"})):p(u.data.url_data.url),onClick:function(){e._scribeAndLogAction(u,i,r),_&&e._scribeUnifiedCardClick(u,i,r)}});case w.f.MOMENT:return a({link:T.a.getMomentLink(u.data.moment_data.moment),onClick:function(){return e._scribeAndLogAction(u,i,r)}});case w.f.EVENT:return a({link:{pathname:T.a.getEventLink(u.data.event_data.id),state:{promotedCardState:{media:s,promotedContent:l}}},onClick:function(){return e._scribeAndLogAction(u,i,r)}});case w.f.BROADCAST:return a({link:{pathname:T.a.getBroadcastLink(u.data.broadcast_data.id),state:{promotedContent:l}},onClick:function(){return e._scribeAndLogAction(u,i,r)}});case w.f.ACTION:var b=u.data.action_data,m=b.next_state,f=b.persist;return a({onClick:function(t){switch(e._scribeAndLogAction(u,i,r),b.type){case"compose":r&&T.a.composeTweet(n.id,r.tweet||void 0,m);break;case"dm":b.recipient&&T.a.composeDirectMessage({recipient:b.recipient,welcomeMessageId:r&&r.wm_id||void 0,messageText:r&&r.composer_text||void 0});break;case"vote":r&&e._voteForChoice(r.index);break;case"reminder":r&&e._toggleEventReminder(r);break;default:e._updateCardStateAndPersistIfNeeded(n.id,f,m),t.stopPropagation()}}});default:return a({})}}}]),r}(g.Component);v()(R,"defaultProps",{isInteractive:!0});var N,M=(N=R,function(e){return g.createElement(An.Context.Consumer,null,(function(t){return g.createElement(N,a()({},e,t))}))}),j=r("rHpw"),x=r("MWbm"),k=r("SOvA"),U=r("I/9y");function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var F=function(e){p()(r,e);var t=B(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),v()(d()(e),"_renderButton",(function(t,r){var n=e.props,a=n.buttonSize,i=n.useBlueButtonForAppDetails,o=e._getButtonIcon(t.icon)||void 0,c=r>0,s=i&&t.isAppDetails||t.isSelected?"primary":"secondary";return g.createElement(M,{buttonData:t,componentType:"button_group",destinationKey:t.destination,key:t.cta},(function(e){var r=e.link,n=e.onClick;return g.createElement(h.a,{icon:o,key:t.cta,link:r,onClick:n,size:a,style:[Y.button,c&&Y.buttonTopMargin],type:s},t.cta)}))})),e}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.chromeless,r=e.buttons;return g.createElement(x.a,{style:!t&&Y.wrapperPadding},r.map(this._renderButton))}},{key:"_getButtonIcon",value:function(e){switch(e){case"dm":return g.createElement(k.a,null);case"link":return g.createElement(U.a,null);default:return null}}}]),r}(g.Component);v()(F,"displayName","@twitter/CardButtons");var Y=j.a.create((function(e){return{wrapperPadding:{padding:e.spaces.xSmall},button:{flexGrow:1},buttonTopMargin:{marginTop:e.spaces.xxSmall}}})),G=F,z=(r("5BYb"),r("n4Eu")),V=function(e){var t=e.ext_media_color&&e.ext_media_color.palette,r=t&&z.a.get(t);return r?"rgb(".concat(r.rgb.red,", ").concat(r.rgb.green,", ").concat(r.rgb.blue,")"):void 0},W=r("cm6r"),H=r("a6qo"),q=r("mXq/"),J=(r("aWzz"),r("PU7B")),K=r("GcQN");function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var Z=function(e){p()(r,e);var t=X(r);function r(){return o()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.componentType,r=e.destination,n=e.importantForAccessibility,a=e.locationKey,i=e.mediaEntity,o=e.ratio,c=e.renderPlaceholder,s=e.style,l=i||{},d=l.media_url_https,u=l.original_info,p=(u=void 0===u?{}:u).width,_=u.height,b=l.cropCandidates,m=l.altText,f=void 0===m?"":m,y=i&&V(i),v=g.createElement(g.Fragment,null,g.createElement(An.Context.Consumer,null,(function(e){var t=e.isDataSaverEnabled,r=e.isPromoted,n=t?r?"suboptimal":"preview":void 0;return T.a.renderImage({uri:d,width:p,height:_},o,n,a,b,f)})),this._renderOverlay()),I=g.createElement(O.a,{ratio:o||1},g.createElement(x.a,{style:[Q.image,Q.mediaMissingIconContainer]},g.createElement(J.a,{style:Q.newsIcon}))),E=d&&!c,h=[s,Q.root,{backgroundColor:y}],A=[Q.root,Q.mediaMissing],D=E?h:A,S=E?v:I;return g.createElement(M,{componentType:t,destinationKey:r},(function(e){var t=e.link,r=e.onClick;return g.createElement(W.a,{importantForAccessibility:n,interactive:!1,link:t,onClick:r,style:D},S)}))}},{key:"_renderOverlay",value:function(){var e=this.props,t=e.overlay,r=e.playOverlaySize;if(!t)return null;switch(t.type){case w.g.MOMENTS:return g.createElement(H.a,{align:"left",square:!0},g.createElement(K.a,null));case w.g.PLAY:return g.createElement(x.a,{style:Q.playOverlay},g.createElement(q.a,{size:r}));case w.g.LABEL:return g.createElement(H.a,{align:"left"},t.text);default:return null}}}]),r}(g.Component);v()(Z,"defaultProps",{playOverlaySize:"small",componentType:"image"}),Z.propTypes={};var Q=j.a.create((function(e){return{root:{width:"100%",height:"100%",overflow:"hidden"},image:{width:"100%",height:"100%"},playOverlay:{position:"absolute",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},momentsIcon:{height:e.spaces.small,color:e.colors.white},mediaMissing:{backgroundColor:e.colors.faintGray},mediaMissingIconContainer:{display:"flex",alignItems:"center",justifyContent:"center"},newsIcon:{color:e.colors.deepGray,height:"2em"}}})),$=Z,ee=r("uavX"),te=r("3XMw"),re=r.n(te);function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var oe=re.a.b74bf8b7,ce=re.a.a7cd5cf4,se=re.a.df8cd2af,le=function(e){p()(r,e);var t=ie(r);function r(e){var n;return o()(this,r),n=t.call(this,e),v()(d()(n),"_renderPhotoType",(function(e,t,r,a){if("photo"!==t.type)return null;var i=t.original_info,o=i.width,c=i.height;return g.createElement($,{componentType:"swipeable_media",destination:a,importantForAccessibility:n.state.currentSlide!==e?"no-hide-descendants":void 0,key:e,mediaEntity:t,overlay:r,playOverlaySize:n.props.playOverlaySize,ratio:t?Math.max(o/c,1):void 0,style:[de.image,0===e&&de.firstImage,e===n.props.swipeableMedia.length-1&&de.lastImage]})})),v()(d()(n),"_renderVideoType",(function(e,t,r){var a=e.media_entity;if("uc_video"!==a.type)return null;var i=n.props,o=i.renderVideoPlayer,c=i.swipeableMedia,s=i.isDataSaverEnabled,l=i.isPromoted;if(o){var d=s?l?"suboptimal":"preview":void 0;return g.createElement(x.a,{importantForAccessibility:n.state.currentSlide!==t?"no-hide-descendants":void 0,key:t,style:[de.video,0===t&&de.firstImage,t===c.length-1&&de.lastImage]},o(a,d,r))}var u={media_url_https:a.media_url_https,type:"photo",original_info:a.original_info};return n._renderPhotoType(t,u,{type:w.g.PLAY})})),v()(d()(n),"_handleChange",(function(e){var t=n.props,r=t.card,a=t.ucPromotedMetadata,i=t.onPromotedLogEvent;n._updateUCMetadata(e),i&&i({action:e>n.state.currentSlide?"unified_card_carousel_swipe_next":"unified_card_carousel_swipe_previous",componentType:"swipeable_media",ucPromotedMetadata:ae(ae({},a),{},{media_index:n.state.currentSlide+1})}),n._setTransitionAccessibilityLabel(e),n.setState({currentSlide:e}),r&&T.a.storeCarouselIndex(r.id,e)})),v()(d()(n),"_handleOnRest",(function(e){n.setState({loadedSlide:e})})),v()(d()(n),"_updateUCMetadata",(function(e){var t=n.props,r=t.ucPromotedMetadata,a=t.updateUCPromotedMetadata,i=ae(ae({},r),{},{media_index:e+1});a&&a(i)})),v()(d()(n),"_setTransitionAccessibilityLabel",(function(e){var t,r=n.props.swipeableMedia,a=null===(t=r[e])||void 0===t?void 0:t.media_entity;return a&&"photo"===a.type?n.setState({transitionAccessibilityLabel:se({currentSlide:e+1,itemCount:r.length,type:oe,altText:a.altText||""})}):"uc_video"===(null==a?void 0:a.type)?n.setState({transitionAccessibilityLabel:se({currentSlide:e+1,itemCount:r.length,type:ce,altText:""})}):void 0})),n.state={currentSlide:e.carouselIndex,loadedSlide:e.carouselIndex,transitionAccessibilityLabel:void 0},n}return s()(r,[{key:"componentDidMount",value:function(){this._updateUCMetadata(this.state.currentSlide)}},{key:"render",value:function(){var e=this,t=this.props.swipeableMedia,r=t[0].media_entity;if("photo"!==r.type&&"uc_video"!==r.type)return null;var n=r.original_info,a=n.width/n.height,i=this.props.swipeableMedia.some((function(e){return"uc_video"===e.media_entity.type}));return g.createElement(O.a,{ratio:a,style:de.aspectRatio},g.createElement(x.a,{style:[de.root]},g.createElement(ee.a,{cellSpacing:5,currentSlide:this.state.currentSlide,onChange:this._handleChange,onRest:this._handleOnRest,shouldRenderAll:i,showNavButtonsOnHover:!0,transitionAccessibilityLabel:this.state.transitionAccessibilityLabel,withReducedNavButtonClickArea:i},t.map((function(t,r){var n=t.media_entity,i=t.destination;return"photo"===n.type?e._renderPhotoType(r,n,t.overlay,i):"uc_video"===n.type?e._renderVideoType(t,r,a):void 0})))))}}]),r}(g.Component);v()(le,"defaultProps",{carouselIndex:0});var de=j.a.create((function(e){return{root:{height:"100%"},aspectRatio:{overflow:"visible"},image:{borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small},video:{overflow:"hidden",maxHeight:"100%"},firstImage:{borderTopLeftRadius:e.borderRadii.xLarge},lastImage:{borderTopRightRadius:e.borderRadii.xLarge}}})),ue=function(e){return function(t){return g.createElement(An.Context.Consumer,null,(function(r){return g.createElement(e,a()({},t,r))}))}}(le),pe=(r("ho0z"),r("t62R"));function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var be=function(e){p()(r,e);var t=_e(r);function r(){return o()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.weight,r=e.children,n=e.dir,a=e.numberOfLines,i=e.type;return g.createElement(pe.c,{color:"vanity"===i||"description"===i?"deepGray":"normal",dir:n,numberOfLines:a,weight:t},"vanity"===i?g.createElement(pe.c,{size:"small",style:me.icon},g.createElement(U.a,null)):null,T.a.renderTwemojiText(r))}}]),r}(g.Component);v()(be,"displayName","@twitter/CardText"),v()(be,"defaultProps",{dir:"auto"}),be.propTypes={};var me=j.a.create((function(e){return{icon:{marginRight:e.spaces.micro}}})),fe=be,ye=r("jV+4");function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var ge=function(e){p()(r,e);var t=ve(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),v()(d()(e),"_hasText",(function(){var t=e.props,r=t.attribution,n=t.category,a=t.title,i=t.description,o=t.vanity;return!!(r||a||i||o||n)})),e}return s()(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.destination,n=t.accessibilityLabel;return g.createElement(M,{componentType:"details",destinationKey:r},(function(t){var r=t.link,a=t.onClick;return g.createElement(W.a,{accessibilityLabel:n,interactive:!1,link:r,onClick:a,style:Ie.detailItemsWrapper},e._renderContent(),e._renderExtraContent())}))}},{key:"_renderExtraContent",value:function(){var e=this.props.extraContent;return e?g.createElement(x.a,{style:Ie.extraContentWrapper},e):null}},{key:"_renderContent",value:function(){var e=this.props,t=e.attribution,r=e.category,n=e.chromeless,a=e.destination,i=e.footer,o=e.nativeID,c=e.testID,s=e.title,l=e.titleMaxLines,d=e.description,u=e.descriptionMaxLines,p=e.vanity,_=e.withBottomPadding,b=!a;return g.createElement(x.a,{nativeID:o,style:[Ie.textContentWrapper,n?null:[Ie.wrapperPadding,_&&Ie.bottomPadding]],testID:c},t?g.createElement(ye.a,{isProtected:t.protected,isVerified:t.verified,name:t.name,profileImageUrl:t.profile_image_url_https,screenName:t.screen_name,style:[Ie.attributionWrapper,this._hasText()&&Ie.spaceBelow],withLink:b}):null,r?g.createElement(x.a,{style:[s||d||p||i?Ie.spaceBelow:null]},g.createElement(fe,{dir:Te(r.is_rtl),numberOfLines:1,type:"description"},r.content)):null,s?g.createElement(x.a,{style:[d||p||i?Ie.spaceBelow:null]},g.createElement(fe,{dir:Te(s.is_rtl),numberOfLines:T.a.shouldLimitTextToSingleLine()?1:l,type:"title"},s.content)):null,d?g.createElement(x.a,{style:[p||i?Ie.spaceBelow:null]},g.createElement(fe,{dir:Te(d.is_rtl),numberOfLines:T.a.shouldLimitTextToSingleLine()?1:u,type:"description"},d.content)):null,i?g.createElement(x.a,{style:[p?Ie.spaceBelow:null]},g.createElement(fe,{dir:"auto",numberOfLines:1,type:"description"},i)):null,p?g.createElement(x.a,null,g.createElement(fe,{dir:"auto",numberOfLines:1,type:"vanity"},p)):null)}}]),r}(g.Component);v()(ge,"displayName","@twitter/CardDetail");var Te=function(e){switch(e){case!0:return"rtl";case!1:return"ltr";default:return"auto"}},Ie=j.a.create((function(e){return{attributionWrapper:{alignItems:"flex-start"},detailItemsWrapper:{flexDirection:"row",justifyContent:"space-between",flexGrow:1},extraContentWrapper:{flexShrink:0,padding:e.spaces.xSmall},textContentWrapper:{flexGrow:1,flexShrink:1,justifyContent:"center"},wrapperPadding:{paddingTop:e.spaces.xSmall,paddingHorizontal:e.spaces.xSmall},bottomPadding:{paddingBottom:e.spaces.xSmall},spaceBelow:{marginBottom:e.spaces.micro}}})),Ee=ge,Oe=r("wpLu"),he=r("21zW"),Ae=re.a.d58baa7e,De=re.a.c5954d30,Se=function(e){switch(e){case!0:return"rtl";case!1:return"ltr";default:return"auto"}},we=j.a.create((function(e){return{contentWrapper:{flexGrow:1,flexShrink:1,justifyContent:"center"},attributionWrapper:{alignItems:"flex-start"},detailItemsWrapper:{flexDirection:"row",justifyContent:"space-between",flexGrow:1},wrapperPadding:{paddingTop:e.spaces.xxSmall,paddingHorizontal:e.spaces.xSmall},bottomPadding:{paddingBottom:e.spaces.xSmall},spaceBelow:{marginBottom:e.spaces.xxSmall},icon:{marginRight:e.spaces.micro},innerRow:{flexDirection:"row",flexShrink:1}}})),Ce=function(e){var t=e.attribution,r=e.destination,n=e.title,a=e.memberCount,i=e.titleMaxLines;return g.createElement(M,{componentType:"twitter_list_details",destinationKey:r},(function(e){var r=e.link,o=e.onClick;return g.createElement(W.a,{interactive:!1,link:r,onClick:o,style:[we.contentWrapper,we.wrapperPadding,we.bottomPadding]},g.createElement(x.a,{style:[we.innerRow,we.spaceBelow]},g.createElement(pe.c,{color:"deepGray",size:"small",weight:"bold"},g.createElement(Oe.a,{style:we.icon}),De),g.createElement(he.a,{color:"deepGray"}),g.createElement(pe.c,{color:"deepGray",size:"small"},g.createElement(re.a.I18NFormatMessage,{$i18n:"d6b02328",formattedCount:Ae(a),count:a}))),g.createElement(x.a,{style:we.spaceBelow},g.createElement(fe,{dir:Se(n.is_rtl),numberOfLines:T.a.shouldLimitTextToSingleLine()?1:i,type:"title",weight:"bold"},n.content)),g.createElement(ye.a,{avatarSize:"small",isProtected:t.protected,isVerified:t.verified,name:t.name,nameSize:"small",profileImageUrl:t.profile_image_url_https,screenName:t.screen_name,screenNameSize:"small",style:[we.attributionWrapper],withLink:!1}))}))},Pe=r("RhWx"),Le=r.n(Pe),Re=r("6Rrp");function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var Me=re.a.e86732e3,je=re.a.f668e928,xe=function(e){p()(r,e);var t=Ne(r);function r(){return o()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.noVotes,r=e.isFinal,n=e.isSelected,a=e.isWinner,i=e.label,o=e.percentageOfTotalVote,c=100===o,s=a?"bold":void 0,l=t?"7px":"".concat(o,"%"),d="light"===j.a.theme.paletteName&&j.a.theme.highContrastEnabled,u=o/100;return g.createElement(x.a,{style:ke.choice},g.createElement(x.a,{style:[ke.choicePercentageBar,d&&{backgroundColor:j.a.theme.colors.fadedGray},(r||c||t)&&ke.choicePercentageBarRoundCorners,a&&ke.choicePercentageBarWinner,{width:l}]}),g.createElement(x.a,{style:ke.choiceLabel},g.createElement(pe.c,{weight:s},i,n?" ":null,n?g.createElement(Re.a,{accessibilityLabel:Me}):null)),g.createElement(x.a,{style:ke.choiceLabel&&ke.choicePercentage},g.createElement(pe.c,{weight:s},je(u))))}}]),r}(g.Component);xe.propTypes={};var ke=j.a.create((function(e){return{choice:{alignItems:"center",flexDirection:"row",height:e.spaces.large,justifyContent:"space-between"},choicePercentageBar:{backgroundColor:e.colors.lightGray,borderTopLeftRadius:e.borderRadii.small,borderBottomLeftRadius:e.borderRadii.small,position:"absolute",top:0,left:0,bottom:0},choicePercentageBarRoundCorners:{borderRadius:e.borderRadii.small},choicePercentageBarWinner:{backgroundColor:e.colors.lightPrimary},choiceLabel:{paddingVertical:0,paddingHorizontal:e.spaces.xSmall},choicePercentage:{paddingStart:e.spaces.xSmall}}})),Ue=xe;function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var Fe=function(e){p()(r,e);var t=Be(r);function r(){return o()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.choices,n=t.totalVotes,a=Math.max.apply(Math,Le()(r.map((function(e){return e.count}))));return r.map((function(t,r){return g.createElement(x.a,{key:t.index,style:0!==r&&Ye.topMargin},e._renderChoiceResult(t,n,a))}))}},{key:"_renderChoiceResult",value:function(e,t,r){var n=this.props,a=n.isFinal,i=n.selectedChoice,o=Math.round(e.count/t*1e3)/10||0;return g.createElement(Ue,{isFinal:a,isSelected:i===e.index,isWinner:a&&e.count===r,label:T.a.renderTwemojiText(e.cta,!0),noVotes:0===e.count,percentageOfTotalVote:o})}}]),r}(g.Component),Ye=j.a.create((function(e){return{topMargin:{marginTop:e.spaces.xxSmall}}})),Ge=Fe;function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var Ve=function(e){p()(r,e);var t=ze(r);function r(){return o()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.choices,r=e.endDatetimeUtc,n=e.isAuthor,a=e.isFinal,i=e.totalVotes,o=e.resultTextSize,c=e.selectedChoice;return g.createElement(x.a,null,c||a||n?g.createElement(Ge,{choices:t,isFinal:a,selectedChoice:c,totalVotes:i}):g.createElement(G,{buttonSize:"normalCompact",buttons:t.map((function(e){return{cta:e.cta,index:e.index,destination:e.destination}})),chromeless:!0}),g.createElement(pe.c,{color:"deepGray",size:o,style:We.pollStatus},T.a.renderNumVotesLabel(i)," Â·"," ",a?T.a.renderFinalResultsLabel():T.a.renderTimeLeftLabel(r)))}}]),r}(g.Component);v()(Ve,"displayName","@twitter/CardPoll");var We=j.a.create((function(e){return{pollStatus:{marginTop:e.spaces.xSmall}}})),He=Ve,qe=r("bPFD"),Je=r("htQn"),Ke=r("7nmT"),Xe=r.n(Ke),Ze=(r("6U7i"),r("kH1Z"),r("U7kY")),Qe=Object.freeze({large:{title:1,description:2},medium:{title:2,description:1},small:{title:2,description:0}}),$e=Object.freeze({large:{title:1,description:2},medium:{title:2,description:1},small:{title:2,description:0}}),et=Object.freeze({large:5,medium:4,small:3}),tt=Object.freeze({large:"normal",medium:"normalCompact",small:"normalCompact"}),rt=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={large:$e,small:Qe}[e],i=n.alwaysShowDescription,o=void 0!==i&&i,c=n.capMaxTitleLines,s=void 0===c?Number.MAX_SAFE_INTEGER:c,l=t>=450?a.large:t>=400?a.medium:a.small,d=[r.category||null,r.attribution||null,r.footer||null,r.vanity||null],u=r.description,p=r.title,_=d.some(Boolean),b=Math.min(s,l.title+(u?0:l.description)+(_?0:1)),m=Math.max(o?1:0,"small"!==e||p||_?l.description:l.description+1);return"small"===e?{titleMaxLines:b,descriptionMaxLines:m}:{titleMaxLines:Math.min(2,b),descriptionMaxLines:m}},nt=function(e,t){var r=[t.category||null,t.attribution||null,t.footer||null,t.vanity||null,t.title,t.description].filter(Boolean).length,n=e>=450?et.large:e>=400?et.medium:et.small;return it(n,r)},at=function(e){return e>=450?tt.large:e>=400?tt.medium:tt.small},it=function(e,t){var r=j.a.theme,n=r.borderWidths,a=r.fontSizes,i=r.lineHeight,o=r.spaces,c="".concat(a.normal," * ").concat(i," * ").concat(e),s="".concat(o.xSmall," * 2"),l="".concat(n.small," * 2"),d="".concat(o.micro," * ").concat(t-1);return"calc(".concat(c," + ").concat(s," + ").concat(l," + ").concat(d,")")},ot=function(e,t){var r=e?Math.abs(e-t):1/0,n=Ze.a.getScrollbarWidth();return void 0===e||r>n};function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var dt=function(e){p()(r,e);var t=lt(r);function r(e){var n;return o()(this,r),n=t.call(this,e),v()(d()(n),"_updateSizes",(function(e){if(ot(n._previousWidth,e)){n._previousWidth=e;var t=n.props,r=t.details,a=t.buttons,i=n.state,o=i.titleMaxLines,c=i.descriptionMaxLines,s=i.buttonSize,l=i.playOverlaySize,d=r?rt("large",e,r):{titleMaxLines:void 0,descriptionMaxLines:void 0},u=a?at(e):void 0,p=e<175?"small":"normal",_=d.titleMaxLines,b=d.descriptionMaxLines;(_!==o||b!==c||p!==l||u&&u!==s)&&n.setState({buttonSize:u,descriptionMaxLines:b,playOverlaySize:p,titleMaxLines:_})}})),v()(d()(n),"_handleLayout",(function(e){var t=e.nativeEvent.layout.width;n._updateSizes(t)})),v()(d()(n),"_setRootNode",(function(e){if(e){var t=Xe.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&n._updateSizes(t.clientWidth)}})),n.state=st(st({},e.details?rt("large",500,e.details):null),e.buttons?{buttonSize:at(500)}:null),n}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.a11yDomIds,r=e.buttons,n=e.chromeless,a=e.details,i=e.dmSentOrReceived,o=e.nativeID,c=e.onLikelyInteraction,s=e.poll,l=e.testIDs,d=e.withInteractiveStyling,u=e.withSquareBottomBorderRadius,p=this._renderSwipeableMedia(),_=this._renderMedia()||p,b=!!s,m=!n&&!p,f=n&&!p,y=!!(s||r||a)&&!p;return g.createElement(Je.a,{"aria-labelledby":o&&t?[t.cardMediaDomId,t.cardDetailDomId].join(" "):void 0,nativeID:o,onHoverIn:c,onLayout:this._handleLayout,onPressIn:c,style:[i&&pt[i],m&&pt.border,u&&ut[u],p&&pt.rootWithCarousel],testID:null==l?void 0:l.wrapper,viewRef:this._setRootNode,withFocusWithinFocusRing:!0,withInteractiveStyling:d,withOutsetFocusRing:!0},_?g.createElement(x.a,{importantForAccessibility:"no-hide-descendants",nativeID:o&&t?t.cardMediaDomId:void 0,style:[pt.media,f&&pt.border,y&&pt.mediaBottomBorder,b&&pt.mediaBottomSpace,!!a&&ut.both],testID:null==l?void 0:l.layoutLarge.media},_):null,g.createElement(x.a,{nativeID:o&&t?t.cardDetailDomId:void 0,style:[p&&pt.carouselBottomContent]},this._renderDetail(),this._renderListDetail(),this._renderButtons(),this._renderPoll()))}},{key:"_renderDetail",value:function(){if(!this.props.details)return null;var e=this.state,t=e.titleMaxLines,r=e.descriptionMaxLines,n=this.props,a=n.buttons,i=n.chromeless,o=n.details,c=n.testIDs,s=o.attribution,l=o.category,d=o.description,u=o.destination,p=o.footer,_=o.title,b=o.vanity;return g.createElement(Ee,{attribution:s,category:l,chromeless:i,description:0!==r?d:void 0,descriptionMaxLines:r,destination:u,footer:p,testID:null==c?void 0:c.layoutLarge.detail,title:_,titleMaxLines:t,vanity:b,withBottomPadding:!a})}},{key:"_renderListDetail",value:function(){var e=this.props.listDetails,t=this.state.titleMaxLines;if(!e)return null;var r=e.attribution,n=e.destination,a=e.title,i=e.memberCount;return g.createElement(Ce,{attribution:r,destination:n,memberCount:i,title:a,titleMaxLines:t})}},{key:"_renderButtons",value:function(){var e=this.state.buttonSize,t=this.props,r=t.chromeless,n=t.buttons,a=t.useBlueButtonForAppDetails;return n?g.createElement(G,{buttonSize:e,buttons:n,chromeless:r,useBlueButtonForAppDetails:a}):null}},{key:"_renderPoll",value:function(){var e=this.props.poll;return e?g.createElement(He,e):null}},{key:"_renderSwipeableMedia",value:function(){var e=this.props,t=e.renderVideoPlayer,r=e.swipeableMedia;return r?g.createElement(ue,{playOverlaySize:this.state.playOverlaySize,renderVideoPlayer:t,swipeableMedia:r}):null}},{key:"_renderMedia",value:function(){var e=this.props,t=e.locationKey,r=e.media,n=e.renderVideoPlayer;if(!r||!r.mediaEntity)return null;var a=r.aspect_ratio,i=r.mediaEntity,o=r.destination,c=r.overlay;if("photo"===i.type){var s=i.original_info,l=s.width,d=s.height;return g.createElement($,{destination:o,locationKey:t&&"".concat(t,"-largeCard"),mediaEntity:i,overlay:c,playOverlaySize:this.state.playOverlaySize,ratio:a||(i?Math.max(l/d,1):void 0)})}return"iframe"===i.type?g.createElement(O.a,{ratio:Math.max(i.aspect_ratio,1)},g.createElement(qe.a,{src:i.url,style:pt.iframe})):"video"===i.type||"uc_video"===i.type||"live_broadcast"===i.type||"vine"===i.type||"tweet_video"===i.type?n?g.createElement(An.Context.Consumer,null,(function(e){var t=e.isDataSaverEnabled,r=e.isPromoted;return n(i,t?r?"suboptimal":"preview":void 0)})):null:void 0}}]),r}(g.Component);v()(dt,"defaultProps",{isPromoted:!1,withInteractiveStyling:!0}),dt.propTypes={};var ut=j.a.create((function(e){return{both:{borderBottomRightRadius:e.borderRadii.none,borderBottomLeftRadius:e.borderRadii.none},left:{borderBottomLeftRadius:e.borderRadii.none},right:{borderBottomRightRadius:e.borderRadii.none}}})),pt=j.a.create((function(e){return{media:{display:"block"},mediaBottomBorder:{borderBottomColor:e.colors.nestedBorderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},mediaBottomSpace:{marginBottom:e.spaces.xSmall},border:{borderRadius:e.borderRadii.xLarge,borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,overflow:"hidden"},rootWithCarousel:{marginRight:e.spaces.large,borderRadius:e.borderRadii.xLarge},carouselBottomContent:{borderBottomLeftRadius:e.borderRadii.xLarge,borderBottomRightRadius:e.borderRadii.xLarge,borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,marginTop:-.5},iframe:{height:"100%"},sent:{borderColor:e.colors.primary},received:{borderColor:e.colors.lightGray}}})),_t=dt;function bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var ft=re.a.hdf426f5,yt=re.a.a3efd2c3,vt=re.a.b91c8e53,gt=re.a.b3826294,Tt=function(e){p()(r,e);var t=mt(r);function r(e){var n;o()(this,r),n=t.call(this,e),v()(d()(n),"_composeTopicCardAccessibilityLabel",(function(e,t){return t&&t.content&&t.content.length>0?gt({title:e.content,description:t.content}):vt({title:e.content})})),v()(d()(n),"_updateSizes",(function(e){if(ot(n._previousWidth,e)){n._previousWidth=e;var t=n.state,r=t.titleMaxLines,a=t.descriptionMaxLines,i=t.imageWidthStyle,o=n.props,c=o.details,s=o.topicDetails,l=rt("small",e,s||c,n._getLinesForWidthOptions()),d=nt(e,s||c),u=l.titleMaxLines,p=l.descriptionMaxLines;d===i&&u===r&&p===a||n.setState({titleMaxLines:u,descriptionMaxLines:p,imageWidthStyle:d})}})),v()(d()(n),"_handleLayout",(function(e){var t=e.nativeEvent.layout.width;n._updateSizes(t)})),v()(d()(n),"_setRootNode",(function(e){if(e){var t=Xe.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&n._updateSizes(t.clientWidth)}})),v()(d()(n),"_getLinesForWidthOptions",(function(){var e=n.props.topicDetails;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({alwaysShowDescription:!!e},e?{capMaxTitleLines:2}:null)}));var a=e.topicDetails,i=e.details,c=rt("small",500,a||i,n._getLinesForWidthOptions()),s=c.titleMaxLines,l=c.descriptionMaxLines;return n.state={descriptionMaxLines:l,titleMaxLines:s,imageWidthStyle:nt(500,a||i)},n}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.a11yDomIds,r=e.dmSentOrReceived,n=e.nativeID,a=e.onLikelyInteraction,i=e.reverse,o=e.testIDs,c=e.withInteractiveStyling,s=e.withSquareBottomBorderRadius,l=e.topicDetails,d=this.state.imageWidthStyle,u=g.createElement(x.a,{key:"details",style:Et.details},l?this._renderTopicDetail():this._renderDetail()),p=g.createElement(x.a,{importantForAccessibility:"no-hide-descendants",key:"media",nativeID:n&&t?t.cardMediaDomId:void 0,style:[Et.media,{width:d},s&&It[s],i?Et.mediaLeftBorder:Et.mediaRightBorder],testID:null==o?void 0:o.layoutSmall.media},this._renderMedia());return g.createElement(Je.a,{"aria-labelledby":n&&t?[t.cardMediaDomId,t.cardDetailDomId].join(" "):void 0,nativeID:n,onHoverIn:a,onLayout:this._handleLayout,onPressIn:a,style:[Et.root,s&&It[s],r&&Et[r]],testID:null==o?void 0:o.wrapper,viewRef:this._setRootNode,withFocusWithinFocusRing:!0,withInteractiveStyling:c,withOutsetFocusRing:!0},i?[u,p]:[p,u])}},{key:"_renderDetail",value:function(){var e=this.state,t=e.titleMaxLines,r=e.descriptionMaxLines,n=this.props,a=n.a11yDomIds,i=n.details,o=n.testIDs,c=n.nativeID;return g.createElement(Ee,{attribution:i.attribution,category:i.category,description:0!==r?i.description:void 0,descriptionMaxLines:r,destination:i.destination,footer:i.footer,nativeID:c&&a?a.cardDetailDomId:void 0,testID:null==o?void 0:o.layoutSmall.detail,title:i.title,titleMaxLines:t,vanity:i.vanity,withBottomPadding:!0})}},{key:"_renderTopicDetail",value:function(){if(!this.props.topicDetails)return null;var e=this.state,t=e.titleMaxLines,r=e.descriptionMaxLines,n=this.props.topicDetails,a=n.description,i=n.title,o=n.destination,c={is_rtl:a&&a.is_rtl||i.is_rtl,content:a&&a.content?ft({description:a.content}):yt};return g.createElement(Ee,{accessibilityLabel:this._composeTopicCardAccessibilityLabel(i,a),description:c,descriptionMaxLines:r,destination:o,title:i,titleMaxLines:t,withBottomPadding:!0})}},{key:"_renderMedia",value:function(){var e=this.props,t=e.locationKey,r=e.media,n=r.mediaEntity,a=r.destination,i=r.overlay;return n&&"photo"!==n.type?null:g.createElement(An.Context.Consumer,null,(function(e){var r=e.isDataSaverEnabled,o=e.isPromoted,c=r&&!o;return g.createElement($,{destination:a,locationKey:t&&"".concat(t,"-smallCard"),mediaEntity:n,overlay:i,ratio:1,renderPlaceholder:c})}))}}]),r}(g.Component);v()(Tt,"defaultProps",{withInteractiveStyling:!0}),Tt.propTypes={};var It=j.a.create((function(e){return{both:{borderBottomRightRadius:e.borderRadii.none,borderBottomLeftRadius:e.borderRadii.none},left:{borderBottomLeftRadius:e.borderRadii.none},right:{borderBottomRightRadius:e.borderRadii.none}}})),Et=j.a.create((function(e){return{root:{borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.xLarge,flexDirection:"row",overflow:"hidden"},media:{display:"block",borderColor:e.colors.nestedBorderColor,borderStyle:"solid",overflow:"hidden"},mediaLeftBorder:{borderLeftWidth:e.borderWidths.small,borderBottomLeftRadius:e.borderRadii.none,borderTopLeftRadius:e.borderRadii.none},mediaRightBorder:{borderRightWidth:e.borderWidths.small,borderBottomRightRadius:e.borderRadii.none,borderTopRightRadius:e.borderRadii.none},details:{flexGrow:1,flexShrink:1,justifyContent:"center"},sent:{borderColor:e.colors.primary},received:{borderColor:e.colors.lightGray}}})),Ot=Tt,ht=r("QX9J"),At=r("Qyxo"),Dt=(r("Blm6"),r("KqXw"),r("WNMA"),function(e,t,r){return("string"==typeof r?[r]:r).map((function(r){return e[r]&&e[r][t]})).find((function(e){return!!e}))}),St=Dt,wt=Dt,Ct=Dt,Pt=Dt,Lt=function(e,t){var r=function e(t){return{and:function(r){return e(t&&n(r))},or:function(r){return e(t||n(r))},result:function(){return t}}},n=function(t){return"string"==typeof t?!!e[t]:t(r(!0).and).result()};return n(t)},Rt=function(e,t){return{media_url_https:e.url,type:"photo",original_info:{width:e.width,height:e.height},ext_media_color:{palette:[]},cropCandidates:t,altText:e.alt||""}},Nt=function(e){var t=e.match(/\/([0-9]+)(\/|\.)/);return t?t[1]:""};function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Gt={url:"https://pbs.twimg.com/lex/placeholder_live_nomargin.png",width:1920,height:1080},zt="NOT_STARTED";function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xt=re.a.db44ff5b,Zt=re.a.c600045f;function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rr=r("/Ikv");function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ir=function(e,t,r,n){var a,i={};return e&&(i[w.b.IMAGE_ENTITY]=Rt(e)),t&&r.tweetId&&(i[w.b.IFRAME_ENTITY]={type:"iframe",url:(a=r.tweetId,"https://cards-frame.twitter.com/i/cards/tfw/v1/uc/".concat(a)),aspect_ratio:n}),i},or=function(e){var t,r,n,a,i=e.cardId,o=e.cardType,c=e.data,s=e.cardContext,l=Pt(c,"image_value","player_image_original"),d=St(c,"string_value","description"),u=parseInt(St(c,"string_value","player_width"),10)/parseInt(St(c,"string_value","player_height"),10);return{state:w.c.DEFAULT,layout:(t={},v()(t,w.c.DEFAULT,{size:"large"}),v()(t,w.c.STATIC,{size:"small"}),t),card:{card_name:o,card_url:St(c,"string_value","card_url"),on_visibility:{scribe:"show"},id:i,destinations:v()({},w.b.DESTINATION,{type:w.f.BROWSER,data:{url_data:{url:St(c,"string_value","card_url"),vanity:St(c,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),components:(r={},v()(r,w.c.DEFAULT,[w.b.MEDIA,w.b.DETAILS]),v()(r,w.c.STATIC,[w.b.MEDIA_STATIC,w.b.DETAILS]),r),media_entities:(n={},v()(n,w.b.IMAGE_ENTITY,Rt(l)),v()(n,w.b.VIDEO_ENTITY,{type:"vine",aspect_ratio:u,content_id:Nt(l.url),poster_image:l,publisher_id:St(c,"string_value","site")||s.tweetUserId,variants:[{src:St(c,"string_value","player_stream_url"),type:St(c,"string_value","player_stream_content_type")}]}),n),components_data:(a={},v()(a,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.VIDEO_ENTITY}}),v()(a,w.b.MEDIA_STATIC,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY,destination:w.b.DESTINATION,overlay:{type:w.g.PLAY}}}),v()(a,w.b.DETAILS,{type:w.d.DETAILS,data:ar(ar({destination:w.b.DESTINATION},d?{description:{content:d}}:null),{},{title:{content:St(c,"string_value","title")}})}),a)}}};r("KOtZ");function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r("DfhM");var gr=r("aITJ");function Tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Er=Ir({media:!0,details:!0,button_group:!0,app_store_details:!0,swipeable_media:!0,twitter_list_details:!0},{media_with_details_horizontal:!0}),Or=function(e){var t=function(t){return t.map((function(t){return e.find((function(e){return e.type===t}))})).find(Boolean)},r="android"===T.a.getMobileOS()?t(["android_app","iphone_app","ipad_app"]):t(["iphone_app","ipad_app","android_app"]);if(r){r.category||(r.category={is_rtl:!1,content:"android_app"===r.type?"Play Store":"App Store"});var n,a="android_app"===r.type?(n=r.id,"http://play.google.com/store/apps/details?id=".concat(n)):function(e){return"https://itunes.apple.com/app/id".concat(e)}(r.id);return r.url=gr.a.isMobileOS()?{pathname:a,external:!0,openInSameFrame:!0}:a,r}},hr=function(e){return e.unified_card&&e.unified_card.string_value&&"string"==typeof e.unified_card.string_value?JSON.parse(e.unified_card.string_value):{components:[],component_objects:{},destination_objects:{},media_entities:{},app_store_data:{},users:{}}},Ar=function(e){return"".concat(e,"_static")};function Dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wr,Cr=function(e){var t,r,n,a,i=e.cardId,o=e.cardType,c=e.data,s=e.cardContext,l=Pt(c,"image_value","player_image_original"),d=parseInt(St(c,"string_value","player_width"),10)/parseInt(St(c,"string_value","player_height"),10),u=St(c,"string_value","content_duration_seconds"),p=St(c,"string_value","title"),_=St(c,"string_value","description");return{state:w.c.DEFAULT,layout:(t={},v()(t,w.c.DEFAULT,{size:"large"}),v()(t,w.c.STATIC,{size:"large"}),t),card:{card_name:o,card_url:St(c,"string_value","card_url"),on_visibility:{scribe:"show"},id:i,components:(r={},v()(r,w.c.DEFAULT,p||_?[w.b.MEDIA,w.b.DETAILS]:[w.b.MEDIA]),v()(r,w.c.STATIC,p||_?[w.b.MEDIA_STATIC,w.b.DETAILS_STATIC]:[w.b.MEDIA_STATIC]),r),destinations:v()({},w.b.DESTINATION_STATIC,{type:w.f.BROWSER,data:{url_data:{url:s.tweetPermalink||w.e},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:(n={},v()(n,w.b.IMAGE_ENTITY,Rt(l||{})),v()(n,w.b.VIDEO_ENTITY,jt(jt({type:"video",aspect_ratio:d,content_id:St(c,"string_value","amplify_content_id")},u?{duration_ms:1e3*parseInt(u,10)}:null),{},{vmap_url:St(c,"string_value","amplify_url_vmap"),poster_image:l,publisher_id:St(c,"string_value","site")||s.tweetUserId,variants:[]})),n),components_data:(a={},v()(a,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.VIDEO_ENTITY}}),v()(a,w.b.MEDIA_STATIC,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY,destination:w.b.DESTINATION_STATIC,overlay:{type:w.g.PLAY}}}),v()(a,w.b.DETAILS,{type:w.d.DETAILS,data:{description:_?{content:_}:void 0,title:p?{content:p}:void 0}}),v()(a,w.b.DETAILS_STATIC,{type:w.d.DETAILS,data:{description:_?{content:_}:void 0,destination:w.b.DESTINATION_STATIC,title:p?{content:p}:void 0}}),a)}}},Pr=function(e){var t,r=e.cardId,n=e.cardType,a=e.data,i=Pt(a,"image_value","thumbnail_original"),o=St(a,"string_value","description"),c=St(a,"string_value","app_star_rating"),s=St(a,"string_value","app_num_ratings"),l=c&&s?T.a.renderRatingsLabel({appStarRating:c,appNumRatings:s}):void 0,d=St(a,"string_value","card_url");return{state:w.c.DEFAULT,layout:v()({},w.c.DEFAULT,{size:"small"}),card:{card_name:n,card_url:St(a,"string_value","card_url"),on_visibility:{scribe:"show"},id:r,components:v()({},w.c.DEFAULT,[w.b.MEDIA,w.b.DETAILS]),destinations:v()({},w.b.DESTINATION,{type:w.f.BROWSER,data:{url_data:kt({url:St(a,"string_value","card_url")},l?null:{vanity:d}),scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:kt({},i?v()({},w.b.IMAGE_ENTITY,Rt(i)):null),components_data:(t={},v()(t,w.b.MEDIA,{type:w.d.MEDIA,data:{id:i?w.b.IMAGE_ENTITY:null,aspect_ratio:1,destination:w.b.DESTINATION}}),v()(t,w.b.DETAILS,{type:w.d.DETAILS,data:{description:o?{content:o}:void 0,destination:w.b.DESTINATION,footer:l,title:{content:St(a,"string_value","title")}}}),t)}}},Lr=function(e){var t,r,n,a,i=e.cardId,o=e.cardType,c=e.data,s=e.cardContext,l=Pt(c,"image_value","player_image_original"),d=parseInt(St(c,"string_value","player_width"),10)/parseInt(St(c,"string_value","player_height"),10),u=St(c,"string_value","content_duration_seconds");return{state:w.c.DEFAULT,layout:(t={},v()(t,w.c.DEFAULT,{size:"large"}),v()(t,w.c.STATIC,{size:"large"}),t),card:{card_name:o,card_url:St(c,"string_value","card_url"),on_visibility:{scribe:"show"},id:i,components:(r={},v()(r,w.c.DEFAULT,[w.b.MEDIA,w.b.DETAILS]),v()(r,w.c.STATIC,[w.b.MEDIA_STATIC,w.b.DETAILS]),r),destinations:v()({},w.b.DESTINATION,{type:w.f.BROWSER,data:{url_data:{url:St(c,"string_value","card_url")},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:(n={},v()(n,w.b.IMAGE_ENTITY,Rt(l)),v()(n,w.b.VIDEO_ENTITY,Bt(Bt({type:"video",aspect_ratio:d,content_id:St(c,"string_value","player_content_id")||Nt(l.url)},u?{duration_ms:1e3*parseInt(u,10)}:null),{},{vmap_url:St(c,"string_value","player_stream_url"),poster_image:l,publisher_id:St(c,"string_value","player_owner_id")||s.tweetUserId,variants:[{src:St(c,"string_value","player_hls_url"),type:"application/x-mpegURL"}]})),n),components_data:(a={},v()(a,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.VIDEO_ENTITY,aspect_ratio:d}}),v()(a,w.b.MEDIA_STATIC,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY,aspect_ratio:d,destination:w.b.DESTINATION}}),v()(a,w.b.DETAILS,{type:w.d.DETAILS,data:{destination:w.b.DESTINATION,title:{content:St(c,"string_value","title")},footer:St(c,"string_value","app_category")||"App Store"}}),a)}}},Rr=function(e){var t,r,n,a=e.cardId,i=e.cardType,o=e.data,c=e.users,s=Ct(o,"user_value","site"),l=s&&c[s.id_str],d=St(o,"string_value","broadcaster_display_name"),u=St(o,"string_value","broadcast_state")===zt,p=Pt(o,"image_value","broadcast_thumbnail_original"),_=Pt(o,"image_value","broadcast_pre_live_slate")||Gt,b=u?_:p,m=St(o,"string_value","broadcast_scheduled_start_time"),f=u&&m?T.a.renderStartingTimeLabel(m):void 0,y=j.a.theme.aspectRatios.landscape,g=Math.max(parseInt(St(o,"string_value","broadcast_width"),10)/parseInt(St(o,"string_value","broadcast_height"),10),1);return{state:w.c.DEFAULT,layout:(t={},v()(t,w.c.DEFAULT,{size:"large"}),v()(t,w.c.STATIC,{size:b?"large":"small"}),t),card:{card_name:i,card_url:St(o,"string_value","card_url"),fetch_updates:v()({},w.c.DEFAULT,!0),on_visibility:{scribe:"show"},id:a,components:(r={},v()(r,w.c.DEFAULT,[u?w.b.MEDIA_SECONDARY:w.b.MEDIA,w.b.DETAILS]),v()(r,w.c.STATIC,[w.b.MEDIA_SECONDARY,w.b.DETAILS]),r),destinations:v()({},w.b.DESTINATION,{type:w.f.BROADCAST,data:{broadcast_data:{id:St(o,"string_value","broadcast_id")},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:Yt(Yt({},b?v()({},w.b.IMAGE_ENTITY,Rt(b)):null),{},v()({},w.b.VIDEO_ENTITY,Yt(Yt({type:"live_broadcast",aspect_ratio:g,broadcast_id:St(o,"string_value","broadcast_id"),content_id:St(o,"string_value","broadcast_media_key"),destination:w.b.DESTINATION},b?{poster_image:b}:null),{},{timecode:St(o,"string_value","broadcast_timecode")||St(o,"string_value","broadcast_replay_edited_start_time")}))),components_data:(n={},v()(n,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.VIDEO_ENTITY,aspect_ratio:g}}),v()(n,w.b.MEDIA_SECONDARY,{type:w.d.MEDIA,data:{id:b?w.b.IMAGE_ENTITY:null,aspect_ratio:y,destination:w.b.DESTINATION,overlay:u?f?{type:w.g.LABEL,text:f}:void 0:{type:w.g.PLAY}}}),v()(n,w.b.DETAILS,{type:w.d.DETAILS,data:Yt(Yt({destination:w.b.DESTINATION},l?{attribution:l}:{category:{content:d}}),{},{title:{content:St(o,"string_value","broadcast_title")}})}),n)}}},Nr=function(e){var t,r=e.cardId,n=e.cardType,a=e.data,i=Pt(a,"image_value","thumbnail_original"),o=St(a,"string_value","description"),c=St(a,"string_value","app_star_rating"),s=St(a,"string_value","app_num_ratings"),l=c&&s?T.a.renderRatingsLabel({appStarRating:c,appNumRatings:s}):void 0,d=St(a,"string_value","card_url");return{state:w.c.DEFAULT,layout:v()({},w.c.DEFAULT,{size:"small"}),card:{card_name:n,card_url:St(a,"string_value","card_url"),on_visibility:{scribe:"show"},id:r,components:v()({},w.c.DEFAULT,[w.b.MEDIA,w.b.DETAILS]),destinations:v()({},w.b.DESTINATION,{type:w.f.BROWSER,data:{url_data:Wt({url:St(a,"string_value","card_url")},l?null:{vanity:d}),scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:Wt({},i?v()({},w.b.IMAGE_ENTITY,Rt(i)):null),components_data:(t={},v()(t,w.b.MEDIA,{type:w.d.MEDIA,data:{id:i?w.b.IMAGE_ENTITY:null,aspect_ratio:1,destination:w.b.DESTINATION}}),v()(t,w.b.DETAILS,{type:w.d.DETAILS,data:{description:o?{content:o}:void 0,destination:w.b.DESTINATION,footer:l,title:{content:St(a,"string_value","title")}}}),t)}}},Mr=function(e){var t,r,n,a,i=e.cardId,o=e.cardType,c=e.data,s=e.cardContext,l=e.users,d=Pt(c,"image_value","image_original"),u=function(e){return[1,2,3,4].map((function(t){var r=St(c,"string_value","cta".concat(t)),n=St(c,"string_value","cta".concat(t,"_wm_id"));return r&&n?{cta:r,wm_id:n,destination:e,icon:"dm",index:t}:null})).filter(Boolean)},p=u(w.b.DESTINATION),_=u(w.b.DESTINATION_STATIC),b=Ct(c,"user_value","recipient"),m=b&&l[b.id_str],f=b.id_str!==s.tweetUserId&&m;return{state:w.c.DEFAULT,layout:v()({},w.c.DEFAULT,{size:"large"}),card:{card_name:o,card_url:St(c,"string_value","card_url"),on_visibility:{scribe:"show"},id:i,components:(t={},v()(t,w.c.DEFAULT,[w.b.MEDIA].concat(Le()(f?[w.b.DETAILS]:[]),[w.b.BUTTON_GROUP])),v()(t,w.c.STATIC,[w.b.MEDIA_STATIC].concat(Le()(f?[w.b.DETAILS]:[]),[w.b.BUTTON_GROUP_STATIC])),t),destinations:(r={},v()(r,w.b.DESTINATION,{type:w.f.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:b.id_str},auth_required:!0,scribe:"click",promoted_log:"dm_button_click"}}),v()(r,w.b.DESTINATION_STATIC,{type:w.f.BROWSER,data:{url_data:{url:s.tweetPermalink||w.e},scribe:"open_link",promoted_log:"card_url_click"}}),r),media_entities:v()({},w.b.IMAGE_ENTITY,Rt(d)),components_data:qt(qt((n={},v()(n,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY}}),v()(n,w.b.MEDIA_STATIC,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY,destination:w.b.DESTINATION_STATIC}}),n),f?v()({},w.b.DETAILS,{type:w.d.DETAILS,data:{attribution:m}}):null),{},(a={},v()(a,w.b.BUTTON_GROUP,{type:w.d.BUTTON_GROUP,data:{buttons:p}}),v()(a,w.b.BUTTON_GROUP_STATIC,{type:w.d.BUTTON_GROUP,data:{buttons:_}}),a))}}},jr=function(e){var t,r,n,a,i,o=e.cardContext,c=e.cardId,s=e.cardType,l=e.data,d=e.users,u=Ct(l,"user_value","author"),p=u&&d[u.id_str],_=St(l,"string_value","event_id"),b=St(l,"string_value","event_category"),m=St(l,"string_value","media_type"),f="broadcast"===m,y="video"===m,g=St(l,"string_value","broadcast_id"),T=Math.max(parseInt(St(l,"string_value","broadcast_width"),10)/parseInt(St(l,"string_value","broadcast_height"),10),1),I=St(l,"string_value","broadcast_media_key"),E=St(l,"string_value","media_tweet_id"),O=Pt(l,"image_value","event_thumbnail_original"),h=Pt(l,"image_value","broadcast_thumbnail"),A=f?h:O,D=f?void 0:[{h:parseInt(St(l,"string_value","event_thumbnail_media_size_crops_16x9_h"),10),w:parseInt(St(l,"string_value","event_thumbnail_media_size_crops_16x9_w"),10),x:parseInt(St(l,"string_value","event_thumbnail_media_size_crops_16x9_x"),10),y:parseInt(St(l,"string_value","event_thumbnail_media_size_crops_16x9_y"),10)}],S=St(l,"string_value","remind_me_notification_id"),C=wt(l,"boolean_value","remind_me_toggle_visible")&&!!S,P=wt(l,"boolean_value","remind_me_subscribed"),L=P?Zt:Xt;return{state:w.c.DEFAULT,layout:(t={},v()(t,w.c.DEFAULT,{size:"large"}),v()(t,w.c.DATA_SAVER,{size:"small"}),v()(t,w.c.SECONDARY,{size:"small",reverse:!0}),v()(t,w.c.STATIC,{size:A?"large":"small"}),t),card:{card_name:s,card_url:St(l,"string_value","card_url"),fetch_updates:(r={},v()(r,w.c.DEFAULT,!0),v()(r,w.c.DATA_SAVER,!0),r),on_visibility:{scribe:"show"},id:c,components:(n={},v()(n,w.c.DEFAULT,[f||y?w.b.MEDIA:w.b.MEDIA_STATIC,w.b.DETAILS,w.b.BUTTON_GROUP]),v()(n,w.c.DATA_SAVER,[w.b.MEDIA_STATIC,w.b.DETAILS,w.b.BUTTON_GROUP]),v()(n,w.c.SECONDARY,[w.b.MEDIA_STATIC,w.b.DETAILS]),v()(n,w.c.STATIC,[w.b.MEDIA_STATIC,w.b.DETAILS,w.b.BUTTON_GROUP_STATIC]),n),destinations:(a={},v()(a,w.b.DESTINATION,{type:w.f.EVENT,data:{event_data:{id:_},scribe:"open_link",promoted_log:"card_url_click"}}),v()(a,w.b.DESTINATION_SECONDARY,{type:w.f.ACTION,data:{action_data:{persist:!0,type:"reminder"},auth_required:!0,scribe:"reminder",promoted_log:"card_url_click"}}),v()(a,w.b.DESTINATION_STATIC,{type:w.f.BROWSER,data:{url_data:{url:o&&o.tweetPermalink||w.e},scribe:"open_link",promoted_log:"card_url_click"}}),a),media_entities:Kt(Kt({},A?v()({},w.b.IMAGE_ENTITY,Rt(A,D)):null),{},v()({},w.b.VIDEO_ENTITY,f?{type:"live_broadcast",aspect_ratio:T,broadcast_id:g,content_id:I,destination:w.b.DESTINATION,poster_image:A,timecode:St(l,"string_value","broadcast_replay_edited_start_time")}:{type:"tweet_video",aspect_ratio:j.a.theme.aspectRatios.landscape,media_tweet_id:E,event_id:_,poster_image:A})),components_data:(i={},v()(i,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.VIDEO_ENTITY,aspect_ratio:f?T:j.a.theme.aspectRatios.landscape}}),v()(i,w.b.MEDIA_STATIC,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY,aspect_ratio:j.a.theme.aspectRatios.landscape,destination:w.b.DESTINATION}}),v()(i,w.b.BUTTON_GROUP,{type:w.d.BUTTON_GROUP,data:Kt({},C?{buttons:[{cta:L,destination:w.b.DESTINATION_SECONDARY,eventId:_,index:0,isSelected:P,notificationId:S}]}:null)}),v()(i,w.b.BUTTON_GROUP_STATIC,{type:w.d.BUTTON_GROUP,data:Kt({},C?{buttons:[{cta:L,destination:w.b.DESTINATION_STATIC,eventId:_,index:0,isSelected:P,notificationId:S}]}:null)}),v()(i,w.b.DETAILS,{type:w.d.DETAILS,data:Kt(Kt({destination:w.b.DESTINATION},p?{attribution:p}:b?{category:{content:b}}:null),{},{title:{content:St(l,"string_value","event_title")}})}),i)}}},xr=function(e){var t,r,n,a,i=e.cardId,o=e.cardType,c=e.data,s=e.cardContext,l=St(c,"string_value","default_composer_text"),d=St(c,"string_value","welcome_message_id"),u={composer_text:l,cta:T.a.getMessageMeString(St(c,"string_value","cta")),icon:"dm",index:0,wm_id:d},p=Ct(c,"user_value","recipient");return{state:w.c.DEFAULT,layout:(t={},v()(t,w.c.DEFAULT,{size:"large",chromeless:!0}),v()(t,w.c.STATIC,{size:"large",chromeless:!0}),t),card:{card_name:o,card_url:St(c,"string_value","card_url"),on_visibility:{scribe:"message_me_show"},id:i,components:(r={},v()(r,w.c.DEFAULT,[w.b.BUTTON_GROUP]),v()(r,w.c.STATIC,[w.b.BUTTON_GROUP_STATIC]),r),destinations:(n={},v()(n,w.b.DESTINATION,{type:w.f.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:p.id_str},auth_required:!0,scribe:"message_me_click",promoted_log:"card_url_click"}}),v()(n,w.b.DESTINATION_STATIC,{type:w.f.BROWSER,data:{url_data:{url:s.tweetPermalink||w.e},scribe:"open_link",promoted_log:"card_url_click"}}),n),media_entities:{},components_data:(a={},v()(a,w.b.BUTTON_GROUP,{type:w.d.BUTTON_GROUP,data:{buttons:[$t($t({},u),{},{destination:w.b.DESTINATION})]}}),v()(a,w.b.BUTTON_GROUP_STATIC,{type:w.d.BUTTON_GROUP,data:{buttons:[$t($t({},u),{},{destination:w.b.DESTINATION_STATIC})]}}),a)}}},kr=function(e){var t,r=e.cardId,n=e.cardType,a=e.data,i=e.users,o=Pt(a,"image_value","photo_image")||{url:St(a,"string_value","cover_format_media_url"),width:parseInt(St(a,"string_value","cover_format_media_size_w"),10)||0,height:parseInt(St(a,"string_value","cover_format_media_size_h"),10)||0},c=Ct(a,"user_value","author"),s=c&&i[c.id_str],l=St(a,"string_value","title"),d=St(a,"string_value","description"),u=St(a,"string_value","subcategory_string");return{state:w.c.DEFAULT,layout:v()({},w.c.DEFAULT,{size:"small",reverse:!0}),card:{card_name:n,card_url:St(a,"string_value","card_url"),on_visibility:{scribe:"show"},id:r,components:v()({},w.c.DEFAULT,[w.b.MEDIA,w.b.DETAILS]),destinations:v()({},w.b.DESTINATION,{type:w.f.MOMENT,data:{moment_data:{moment:St(a,"string_value","id")},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:v()({},w.b.IMAGE_ENTITY,Rt(o)),components_data:(t={},v()(t,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY,aspect_ratio:1,overlay:{type:w.g.MOMENTS},destination:w.b.DESTINATION}}),v()(t,w.b.DETAILS,{type:w.d.DETAILS,data:{attribution:s,category:!s&&u?{content:u}:void 0,description:d?{content:d}:void 0,destination:w.b.DESTINATION,title:l?{content:l}:void 0}}),t)}}},Ur=function(e){var t,r,n,a=e.cardId,i=e.cardType,o=e.data,c=e.users,s=Pt(o,"image_value","thumbnail_original"),l=Math.max(parseInt(St(o,"string_value","broadcast_width"),10)/parseInt(St(o,"string_value","broadcast_height"),10),1),d=St(o,"string_value","broadcaster_twitter_id"),u=d?c[d]:void 0,p=St(o,"string_value","description");return{state:w.c.DEFAULT,layout:(t={},v()(t,w.c.DEFAULT,{size:"large"}),v()(t,w.c.STATIC,{size:s?"large":"small"}),t),card:{card_name:i,card_url:St(o,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,components:(r={},v()(r,w.c.DEFAULT,[w.b.MEDIA,w.b.DETAILS]),v()(r,w.c.STATIC,[w.b.MEDIA_STATIC,w.b.DETAILS]),r),destinations:v()({},w.b.DESTINATION,{type:w.f.BROWSER,data:{url_data:{url:St(o,"string_value","card_url"),vanity:St(o,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:tr(tr({},s?v()({},w.b.IMAGE_ENTITY,Rt(s)):null),{},v()({},w.b.VIDEO_ENTITY,tr(tr({type:"live_broadcast",aspect_ratio:l,broadcast_id:St(o,"string_value","id"),content_id:St(o,"string_value","broadcast_media_key"),destination:w.b.DESTINATION},s?{poster_image:s}:null),{},{timecode:St(o,"string_value","timecode")||St(o,"string_value","replay_edited_start_time")}))),components_data:(n={},v()(n,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.VIDEO_ENTITY,aspect_ratio:l}}),v()(n,w.b.MEDIA_STATIC,{type:w.d.MEDIA,data:{id:s?w.b.IMAGE_ENTITY:null,destination:w.b.DESTINATION,overlay:{type:w.g.PLAY}}}),v()(n,w.b.DETAILS,{type:w.d.DETAILS,data:{attribution:u,description:p?{content:p}:void 0,destination:w.b.DESTINATION,title:d?void 0:{content:St(o,"string_value","title")}}}),n)}}},Br=function(e){var t,r,n,a,i=e.cardId,o=e.cardType,c=e.data,s=e.cardContext,l=e.users,d=Pt(c,"image_value","player_image_original"),u=St(c,"string_value","description"),p=St(c,"string_value","player_url"),_=parseInt(St(c,"string_value","player_width"),10)/parseInt(St(c,"string_value","player_height"),10),b=[w.b.MEDIA,w.b.DETAILS],m=[w.b.MEDIA_STATIC,w.b.DETAILS_SECONDARY];return rr.a.isVineCard({name:o,binding_values:c})?or({cardId:i,cardType:o,data:c,cardContext:s,users:l}):{state:w.c.DEFAULT,layout:(t={},v()(t,w.c.DEFAULT,{size:"small"}),v()(t,w.c.SECONDARY,{size:"large"}),v()(t,w.c.STATIC,{size:"small"}),v()(t,w.c.DATA_SAVER,{size:"small"}),t),card:{card_name:o,card_url:St(c,"string_value","card_url"),on_visibility:{scribe:"show"},id:i,components:(r={},v()(r,w.c.DEFAULT,s.tweetId?b:m),v()(r,w.c.SECONDARY,[w.b.MEDIA_SECONDARY,w.b.DETAILS_SECONDARY]),v()(r,w.c.STATIC,m),v()(r,w.c.DATA_SAVER,[w.b.MEDIA_STATIC,w.b.DETAILS_SECONDARY]),r),destinations:(n={},v()(n,w.b.DESTINATION,{type:w.f.ACTION,data:{action_data:{next_state:w.c.SECONDARY,persist:!1,vanity:St(c,"string_value",["vanity_url","card_url"])},scribe:"click",promoted_log:"card_url_click"}}),v()(n,w.b.DESTINATION_SECONDARY,{type:w.f.BROWSER,data:{url_data:{url:St(c,"string_value","card_url"),vanity:St(c,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),n),media_entities:ir(d,p,s,_),components_data:(a={},v()(a,w.b.MEDIA,{type:w.d.MEDIA,data:{id:d?w.b.IMAGE_ENTITY:null,aspect_ratio:1,overlay:{type:w.g.PLAY},destination:p?w.b.DESTINATION:w.b.DESTINATION_SECONDARY}}),v()(a,w.b.MEDIA_SECONDARY,{type:w.d.MEDIA,data:{id:p?w.b.IFRAME_ENTITY:null,aspect_ratio:_}}),v()(a,w.b.MEDIA_STATIC,{type:w.d.MEDIA,data:{id:d?w.b.IMAGE_ENTITY:null,aspect_ratio:1,overlay:{type:w.g.PLAY},destination:w.b.DESTINATION_SECONDARY}}),v()(a,w.b.DETAILS,{type:w.d.DETAILS,data:ar(ar({destination:p?w.b.DESTINATION:w.b.DESTINATION_SECONDARY},u?{description:{content:u}}:null),{},{title:{content:St(c,"string_value","title")}})}),v()(a,w.b.DETAILS_SECONDARY,{type:w.d.DETAILS,data:ar(ar({destination:w.b.DESTINATION_SECONDARY},u?{description:{content:u}}:null),{},{title:{content:St(c,"string_value","title")}})}),a)}}},Fr=function(e){var t,r,n,a,i,o=e.cardId,c=e.cardType,s=e.data,l=e.cardContext,d=Pt(s,"image_value","image_original"),u=St(s,"string_value","player_stream_url"),p=Pt(s,"image_value","player_image_original"),_=parseInt(St(s,"string_value","player_width"),10)/parseInt(St(s,"string_value","player_height"),10),b=St(s,"string_value","content_duration_seconds"),m=wt(s,"boolean_value","counts_are_final"),f=St(s,"string_value","selected_choice"),y=St(s,"string_value","end_datetime_utc"),g=l.viewerUserId===l.tweetUserId,T="detail"===l.locationKey?"normal":"small",I={};d&&(I[w.b.IMAGE_ENTITY]=Rt(d)),u&&(I[w.b.VIDEO_ENTITY]={type:"video",aspect_ratio:_,content_id:St(s,"string_value","player_content_id")||Nt(u),duration_ms:b?1e3*parseInt(b,10):void 0,vmap_url:u,poster_image:p,publisher_id:St(s,"string_value","player_owner_id")||l.tweetUserId,variants:[{src:St(s,"string_value","player_hls_url"),type:"application/x-mpegURL"}]},I[w.b.IMAGE_ENTITY_STATIC]=Rt(p||{}));var E=function(e){var t=[1,2,3,4].map((function(t){var r=St(s,"string_value","choice".concat(t,"_label")),n=St(s,"string_value","choice".concat(t,"_count"));return r?{index:t,cta:r,count:parseInt(n,10)||0,destination:e}:null})).filter(Boolean);return{type:"poll",data:sr(sr({choices:t,isAuthor:g,isFinal:m,resultTextSize:T,endDatetimeUtc:y},f?{selectedChoice:parseInt(f,10)}:null),{},{totalVotes:t.reduce((function(e,t){return e+t.count}),0)})}};return{layout:v()({},w.c.DEFAULT,{size:"large",chromeless:!0}),state:w.c.DEFAULT,card:{id:o,card_name:c,card_url:St(s,"string_value","card_url"),on_visibility:{scribe:"show"},fetch_updates:v()({},w.c.DEFAULT,!m),components:(t={},v()(t,w.c.DEFAULT,d||u?[w.b.POLL,w.b.MEDIA]:[w.b.POLL]),v()(t,w.c.STATIC,d||u?[w.b.POLL_STATIC,w.b.MEDIA_STATIC]:[w.b.POLL_STATIC]),t),components_data:sr((r={},v()(r,w.b.POLL,E(w.b.DESTINATION)),v()(r,w.b.POLL_STATIC,E(w.b.DESTINATION_STATIC)),r),d?(n={},v()(n,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY}}),v()(n,w.b.MEDIA_STATIC,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY}}),n):u?(a={},v()(a,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.VIDEO_ENTITY}}),v()(a,w.b.MEDIA_STATIC,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY_STATIC}}),a):null),destinations:(i={},v()(i,w.b.DESTINATION,{type:w.f.ACTION,data:{action_data:{persist:!0,type:"vote"},auth_required:!0,scribe:"vote",promoted_log:"poll_card_vote"}}),v()(i,w.b.DESTINATION_STATIC,{type:w.f.BROWSER,data:{url_data:{url:l.tweetPermalink||w.e},scribe:"open_link",promoted_log:"card_url_click"}}),i),media_entities:I}}},Yr=function(e){var t,r=e.cardId,n=e.cardType,a=e.data,i=Pt(a,"image_value","promo_image_original");return{state:w.c.DEFAULT,layout:v()({},w.c.DEFAULT,{size:"large"}),card:{card_name:n,card_url:St(a,"string_value","card_url"),on_visibility:{scribe:"show"},id:r,components:v()({},w.c.DEFAULT,[w.b.MEDIA,w.b.DETAILS,w.b.BUTTON_GROUP]),destinations:v()({},w.b.DESTINATION,{type:w.f.BROWSER,data:{url_data:{url:St(a,"string_value",["app_url","card_url"])},scribe:"open_link",promoted_log:"install_app"}}),media_entities:v()({},w.b.IMAGE_ENTITY,Rt(i)),components_data:(t={},v()(t,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY,destination:w.b.DESTINATION}}),v()(t,w.b.DETAILS,{type:w.d.DETAILS,data:{destination:w.b.DESTINATION,title:{content:St(a,"string_value","title")},footer:"App Store"}}),v()(t,w.b.BUTTON_GROUP,{type:w.d.BUTTON_GROUP,data:{buttons:[{index:0,cta:T.a.getCtaString(St(a,"string_value","cta_key")),destination:w.b.DESTINATION}]}}),t)}}},Gr=function(e){var t,r,n,a=e.cardId,i=e.cardType,o=e.data,c=e.cardContext,s=St(o,"string_value","thank_you_url"),l=Pt(o,"image_value",["cover_promo_image","promo_image"]),d=Pt(o,"image_value","promo_image"),u=St(o,"string_value","title"),p=function(e){return["one","two","three","four"].map((function(t,r){var n=St(o,"string_value","cta_".concat(t)),a=St(o,"string_value","cta_".concat(t,"_tweet"));return n&&a?{icon:"compose",index:r,cta:T.a.renderTweetActionLabel(n),tweet:a,destination:e}:null})).filter(Boolean)},_=p(w.b.DESTINATION),b=p(w.b.DESTINATION_STATIC);return{state:w.c.DEFAULT,layout:(t={},v()(t,w.c.DEFAULT,{size:"large"}),v()(t,w.c.SECONDARY,{size:"large"}),t),card:{card_name:i,card_url:St(o,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,components:{default:[w.b.MEDIA,w.b.DETAILS,w.b.BUTTON_GROUP],secondary:[w.b.MEDIA_SECONDARY,w.b.DETAILS_SECONDARY],static:[w.b.MEDIA_STATIC,w.b.DETAILS_STATIC,w.b.BUTTON_GROUP_STATIC]},destinations:dr(dr(v()({},w.b.DESTINATION,{type:w.f.ACTION,data:{action_data:{next_state:w.c.SECONDARY,persist:!0,type:"compose"},auth_required:!0,scribe:"click",promoted_log:"convo_button_click"}}),s?v()({},w.b.DESTINATION_SECONDARY,{type:w.f.BROWSER,data:{url_data:{url:s,vanity:St(o,"string_value",["thank_you_vanity_url","thank_you_shortened_url","thank_you_url"])},scribe:"open_link",promoted_log:"card_url_click"}}):null),{},v()({},w.b.DESTINATION_STATIC,{type:w.f.BROWSER,data:{url_data:{url:c.tweetPermalink||w.e},scribe:"open_link",promoted_log:"card_url_click"}})),media_entities:(r={},v()(r,w.b.IMAGE_ENTITY,Rt(l)),v()(r,w.b.IMAGE_ENTITY_SECONDARY,Rt(d)),r),components_data:(n={},v()(n,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY}}),v()(n,w.b.MEDIA_SECONDARY,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY_SECONDARY,destination:w.b.DESTINATION_SECONDARY}}),v()(n,w.b.MEDIA_STATIC,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY,destination:w.b.DESTINATION_STATIC}}),v()(n,w.b.DETAILS,{type:w.d.DETAILS,data:dr({},u?{title:{content:u}}:null)}),v()(n,w.b.DETAILS_SECONDARY,{type:w.d.DETAILS,data:dr({title:{content:St(o,"string_value","thank_you_text")}},s?{destination:w.b.DESTINATION_SECONDARY}:null)}),v()(n,w.b.DETAILS_STATIC,{type:w.d.DETAILS,data:dr({},u?{title:{content:u}}:null)}),v()(n,w.b.BUTTON_GROUP,{type:w.d.BUTTON_GROUP,data:{buttons:_}}),v()(n,w.b.BUTTON_GROUP_STATIC,{type:w.d.BUTTON_GROUP,data:{buttons:b}}),n)}}},zr=function(e){var t,r,n,a=e.cardId,i=e.cardType,o=e.data,c=e.cardContext,s=St(o,"string_value","thank_you_url"),l=Pt(o,"image_value",["cover_player_image_original","player_image_original"]),d=Pt(o,"image_value","player_image_original"),u=Pt(o,"image_value","cover_promo_image_original"),p=St(o,"string_value","title"),_=parseInt(St(o,"string_value","cover_player_width"),10)/parseInt(St(o,"string_value","cover_player_height"),10),b=parseInt(St(o,"string_value","player_width"),10)/parseInt(St(o,"string_value","player_height"),10),m=function(e){return["one","two","three","four"].map((function(t,r){var n=St(o,"string_value","cta_".concat(t)),a=St(o,"string_value","cta_".concat(t,"_tweet"));return n&&a?{icon:"compose",index:r,cta:T.a.renderTweetActionLabel(n),tweet:a,destination:e}:null})).filter(Boolean)},f=m(w.b.DESTINATION),y=m(w.b.DESTINATION_STATIC),g=St(o,"string_value","cover_player_stream_url"),I=St(o,"string_value","player_stream_url"),E=St(o,"string_value","player_hls_url"),O=Ct(o,"user_value","site"),h=St(o,"string_value","content_duration_seconds"),A=St(o,"string_value","cover_content_duration_seconds");return{state:w.c.DEFAULT,layout:(t={},v()(t,w.c.DEFAULT,{size:"large"}),v()(t,w.c.SECONDARY,{size:"large"}),v()(t,w.c.STATIC,{size:"large"}),t),card:{card_name:i,card_url:St(o,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,components:{default:[w.b.MEDIA,w.b.DETAILS,w.b.BUTTON_GROUP],secondary:[w.b.MEDIA_SECONDARY,w.b.DETAILS_SECONDARY],static:[w.b.MEDIA_STATIC,w.b.DETAILS_STATIC,w.b.BUTTON_GROUP_STATIC]},destinations:pr(pr(v()({},w.b.DESTINATION,{type:w.f.ACTION,data:{action_data:{next_state:w.c.SECONDARY,persist:!0,type:"compose"},auth_required:!0,scribe:"click",promoted_log:"convo_button_click"}}),s?v()({},w.b.DESTINATION_SECONDARY,{type:w.f.BROWSER,data:{url_data:{url:s,vanity:St(o,"string_value",["thank_you_vanity_url","thank_you_shortened_url","thank_you_url"])},scribe:"open_link",promoted_log:"card_url_click"}}):null),{},v()({},w.b.DESTINATION_STATIC,{type:w.f.BROWSER,data:{url_data:{url:c.tweetPermalink||w.e},scribe:"open_link",promoted_log:"card_url_click"}})),media_entities:pr(pr({},g?v()({},w.b.VIDEO_ENTITY,pr(pr({type:"video",aspect_ratio:_,content_id:Nt(g)},A?{duration_ms:1e3*parseInt(A,10)}:null),{},{vmap_url:g,poster_image:l,publisher_id:O?O.id_str:c.tweetUserId})):null),{},(r={},v()(r,w.b.VIDEO_ENTITY_SECONDARY,pr({type:"video",aspect_ratio:b,content_id:Nt(I),duration_ms:h?1e3*parseInt(h,10):void 0,vmap_url:I,poster_image:d,publisher_id:O?O.id_str:c.tweetUserId},E?{variants:[{src:E,type:"application/x-mpegURL"}]}:null)),v()(r,w.b.IMAGE_ENTITY,Rt(u||{})),v()(r,w.b.IMAGE_ENTITY_STATIC,Rt(d||{})),r)),components_data:(n={},v()(n,w.b.MEDIA,{type:w.d.MEDIA,data:{id:g?w.b.VIDEO_ENTITY:u?w.b.IMAGE_ENTITY:w.b.VIDEO_ENTITY_SECONDARY}}),v()(n,w.b.MEDIA_SECONDARY,{type:w.d.MEDIA,data:{id:w.b.VIDEO_ENTITY_SECONDARY}}),v()(n,w.b.MEDIA_STATIC,{type:w.d.MEDIA,data:{id:d?w.b.IMAGE_ENTITY_STATIC:w.b.IMAGE_ENTITY,destination:w.b.DESTINATION_STATIC,aspect_ratio:d?void 0:1.91}}),v()(n,w.b.DETAILS,{type:w.d.DETAILS,data:pr({},p?{title:{content:p}}:null)}),v()(n,w.b.DETAILS_SECONDARY,{type:w.d.DETAILS,data:pr({title:{content:St(o,"string_value","thank_you_text")}},s?{destination:w.b.DESTINATION_SECONDARY}:null)}),v()(n,w.b.DETAILS_STATIC,{type:w.d.DETAILS,data:pr({},p?{title:{content:p}}:null)}),v()(n,w.b.BUTTON_GROUP,{type:w.d.BUTTON_GROUP,data:{buttons:f}}),v()(n,w.b.BUTTON_GROUP_STATIC,{type:w.d.BUTTON_GROUP,data:{buttons:y}}),n)}}},Vr=function(e){var t,r,n,a,i=e.cardId,o=e.cardType,c=e.data,s=e.cardContext,l=Pt(c,"image_value","player_image_original"),d=St(c,"string_value","player_hls_url"),u=parseInt(St(c,"string_value","player_width"),10)/parseInt(St(c,"string_value","player_height"),10),p=St(c,"string_value","content_duration_seconds");return{state:w.c.DEFAULT,layout:(t={},v()(t,w.c.DEFAULT,{size:"large"}),v()(t,w.c.STATIC,{size:"large"}),t),card:{card_name:o,card_url:St(c,"string_value","card_url"),on_visibility:{scribe:"show"},id:i,components:(r={},v()(r,w.c.DEFAULT,[w.b.MEDIA,w.b.DETAILS]),v()(r,w.c.STATIC,[w.b.MEDIA_STATIC,w.b.DETAILS]),r),destinations:v()({},w.b.DESTINATION,{type:w.f.BROWSER,data:{url_data:{domain:St(c,"string_value",["domain","vanity_url"]),url:St(c,"string_value",["website_shortened_url","website_url","card_url"]),vanity:St(c,"string_value",["vanity_url","website_shortened_url","website_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:(n={},v()(n,w.b.IMAGE_ENTITY,Rt(l)),v()(n,w.b.VIDEO_ENTITY,br({type:"video",aspect_ratio:u,content_id:St(c,"string_value","player_content_id")||Nt(l.url),duration_ms:p?1e3*parseInt(p,10):void 0,vmap_url:St(c,"string_value","player_stream_url"),poster_image:l,publisher_id:St(c,"string_value","player_owner_id")||s.tweetUserId},d?{variants:[{src:d,type:"application/x-mpegURL"}]}:null)),n),components_data:(a={},v()(a,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.VIDEO_ENTITY,aspect_ratio:u}}),v()(a,w.b.MEDIA_STATIC,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY,aspect_ratio:u,destination:w.b.DESTINATION}}),v()(a,w.b.DETAILS,{type:w.d.DETAILS,data:{destination:w.b.DESTINATION,title:{content:St(c,"string_value","title")}}}),a)}}},Wr=function(e){var t,r=e.cardId,n=e.cardType,a=e.data,i=Pt(a,"image_value","promo_image_original");return{state:w.c.DEFAULT,layout:v()({},w.c.DEFAULT,{size:"large"}),card:{card_name:n,card_url:St(a,"string_value","card_url"),on_visibility:{scribe:"show"},id:r,components:v()({},w.c.DEFAULT,[w.b.MEDIA,w.b.DETAILS]),destinations:v()({},w.b.DESTINATION,{type:w.f.BROWSER,data:{url_data:{domain:St(a,"string_value",["domain","vanity_url"]),url:St(a,"string_value",["website_shortened_url","website_url","card_url"]),vanity:St(a,"string_value",["vanity_url","website_shortened_url","website_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:v()({},w.b.IMAGE_ENTITY,Rt(i)),components_data:(t={},v()(t,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY,destination:w.b.DESTINATION}}),v()(t,w.b.DETAILS,{type:w.d.DETAILS,data:{destination:w.b.DESTINATION,title:{content:St(a,"string_value","title")}}}),t)}}},Hr=function(e){var t,r=e.cardId,n=e.cardType,a=e.data,i=Pt(a,"image_value","thumbnail_image_original"),o=St(a,"string_value","description");return{state:w.c.DEFAULT,layout:v()({},w.c.DEFAULT,{size:"small"}),card:{card_name:n,card_url:St(a,"string_value","card_url"),on_visibility:{scribe:"show"},id:r,components:v()({},w.c.DEFAULT,[w.b.MEDIA,w.b.DETAILS]),destinations:v()({},w.b.DESTINATION,{type:w.f.BROWSER,data:{url_data:{domain:St(a,"string_value",["domain","vanity_url"]),url:St(a,"string_value","card_url"),vanity:St(a,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:fr({},i?v()({},w.b.IMAGE_ENTITY,Rt(i)):null),components_data:(t={},v()(t,w.b.MEDIA,{type:w.d.MEDIA,data:{id:i?w.b.IMAGE_ENTITY:null,aspect_ratio:1,destination:w.b.DESTINATION}}),v()(t,w.b.DETAILS,{type:w.d.DETAILS,data:fr(fr({destination:w.b.DESTINATION},o?{description:{content:o}}:null),{},{title:{content:St(a,"string_value","title")}})}),t)}}},qr=function(e){var t,r=e.cardId,n=e.cardType,a=e.data,i=Pt(a,"image_value","summary_photo_image_original"),o=St(a,"string_value","description");return{state:w.c.DEFAULT,layout:v()({},w.c.DEFAULT,{size:i?"large":"small"}),card:{card_name:n,card_url:St(a,"string_value","card_url"),on_visibility:{scribe:"show"},id:r,components:v()({},w.c.DEFAULT,[w.b.MEDIA,w.b.DETAILS]),destinations:v()({},w.b.DESTINATION,{type:w.f.BROWSER,data:{url_data:{domain:St(a,"string_value",["domain","vanity_url"]),url:St(a,"string_value","card_url"),vanity:St(a,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:vr({},i?v()({},w.b.IMAGE_ENTITY,Rt(i)):null),components_data:(t={},v()(t,w.b.MEDIA,{type:w.d.MEDIA,data:{id:i?w.b.IMAGE_ENTITY:null,aspect_ratio:i?1.91:1,destination:w.b.DESTINATION}}),v()(t,w.b.DETAILS,{type:w.d.DETAILS,data:vr(vr({destination:w.b.DESTINATION},o?{description:{content:o}}:null),{},{title:{content:St(a,"string_value","title")}})}),t)}}},Jr=function(e){var t=e.cardId,r=e.cardType,n=e.data,a=hr(n),i=a.app_store_data,o=a.components,c=a.component_objects,s=a.destination_objects,l=a.media_entities,d=a.users,u=function(e,t){return Object.keys(e).reduce((function(r,n){var a=e[n];if("app_store_with_docked_media"===a.type||"app_store"===a.type){var i=Or(t[a.data.app_id]);r[n]={type:"browser",data:{url_data:{url:i?i.url:w.e},scribe:"unified_card_app_store_open_link",promoted_log:"unified_card_component_app_store_click"}}}else r[n]=Ir(Ir({},a),{},{data:Ir(Ir({},a.data),{},{scribe:"open_link",promoted_log:"unified_card_component_url_click"})});return r}),{})}(s,i),p=o.find((function(e){return c[e]&&"details"===c[e].type})),_=p&&"details"===c[p].type?c[p]:null,b=o.find((function(e){return c[e]&&"app_store_details"===c[e].type})),m=b&&"app_store_details"===c[b].type?c[b]:null,f=function(e,t){var r,n,a=e?e.data.destination:void 0;if(e)if("details"===e.type)r=Ir({},e.data.title);else if("app_store_details"===e.type){var i=e.data.app_id,o=Or(t[i])||{};r=o.title,n=o.category?o.category.content:void 0}return{type:"details",data:{title:r,footer:n,destination:a}}}(_||m||void 0,i),y=p||b,g=o.find((function(e){return c[e]&&"twitter_list_details"===c[e].type})),I=g&&"twitter_list_details"===c[g].type?function(e,t){var r=e.data.destination,n=Ir({},e.data.name),a=t[e.data.user_id],i=e.data.member_count;return{type:w.d.TWITTER_LIST_DETAILS,data:{title:n,destination:r,memberCount:i,attribution:a}}}(c[g],d):null,E=o.find((function(e){return c[e]&&"media_with_details_horizontal"===c[e].type}));if(!!E){var O,h=E&&"media_with_details_horizontal"===c[E].type?(C=c[E],L=C.data,R=L.destination,N=L.topic_detail,M=N.title,j=N.subtitle,x=L.media_id,P={},v()(P,w.b.MEDIA,{type:w.d.MEDIA,data:{id:x,aspect_ratio:1,destination:R}}),v()(P,w.b.TOPIC_DETAILS,{type:w.d.TOPIC_DETAILS,data:Ir(Ir({destination:R},j&&j.content?{description:Ir({},j)}:null),{},{title:M})}),P):null,A=Object.keys(u).reduce((function(e,t){return e[t]=Ir(Ir({},u[t]),{},{data:Ir(Ir({},u[t].data),{},{scribe_element:"uc_media_with_details_horizontal"})}),e}),{});return{state:w.c.DEFAULT,layout:(O={},v()(O,w.c.DEFAULT,{size:"small"}),v()(O,w.c.STATIC,{size:"small"}),O),card:{card_name:r,card_url:St(n,"string_value","card_url"),on_visibility:{scribe:"show"},id:t,components:v()({},w.c.DEFAULT,[w.b.MEDIA,w.b.TOPIC_DETAILS]),destinations:A,media_entities:Ir({},l),components_data:Ir({},h)}}}var D,S,C,P,L,R,N,M,j,x,k=o.find((function(e){return c[e]&&"button_group"===c[e].type})),U=k&&"button_group"===c[k].type?{type:w.d.BUTTON_GROUP,data:{buttons:c[k].data.buttons.map((function(e,t){return{index:t+1,icon:e.icon_type,destination:e.destination,cta:"cta"===e.type?T.a.getCtaString(e.action):e.text.content,is_rtl:"custom"===e.type?e.text.is_rtl:void 0,isAppDetails:null!=m}}))}}:null,B=o.find((function(e){return c[e]&&"swipeable_media"===c[e].type})),F=B&&"swipeable_media"===c[B].type?{type:w.d.SWIPEABLE_MEDIA,data:{media_list:c[B].data.media_list}}:null,Y=o.find((function(e){return c[e]&&"media"===c[e].type})),G=Y&&"media"===c[Y].type?c[Y]:null,z=Object.keys(l).reduce((function(e,t){var r=l[t];return e[t]=Ir(Ir({},r),{},{type:"video"===r.type?"uc_video":r.type}),e}),{}),V=G?z[G.data.id]:null,W=V?V.original_info.width/V.original_info.height:null,H=Object.keys(l).reduce((function(e,t){var r=l[t];return e[Ar(t)]={media_url_https:r.media_url_https,type:"photo",original_info:r.original_info},e}),{}),q=V&&"uc_video"===V.type,J=F&&F.data.media_list.some((function(e){return e.id&&"uc_video"===z[e.id].type})),K=[].concat(Le()(q?[w.b.MEDIA_STATIC]:[]),Le()(J?[w.b.SWIPEABLE_MEDIA_STATIC]:[]),Le()(o.filter((function(e){return!(q&&e===Y||J&&e===B)})))),X={};return f&&y&&(X[y]=f),U&&k&&(X[k]=U),F&&B&&(X[B]=F),I&&g&&(X[g]=I),G&&Y&&(X[Y]={type:w.d.MEDIA,data:Ir({},G.data)}),q&&G&&(X[w.b.MEDIA_STATIC]={type:w.d.MEDIA,data:{aspect_ratio:W||void 0,destination:G.data.destination,id:Ar(G.data.id),overlay:{type:w.g.PLAY}}}),J&&F&&(X[w.b.SWIPEABLE_MEDIA_STATIC]={type:w.d.SWIPEABLE_MEDIA,data:{media_list:F.data.media_list.map((function(e){return{destination:e.destination,id:Ar(e.id),overlay:{type:w.g.PLAY}}}))}}),{state:w.c.DEFAULT,layout:(D={},v()(D,w.c.DEFAULT,{size:"large"}),v()(D,w.c.STATIC,{size:"large"}),D),card:{card_name:r,card_url:St(n,"string_value","card_url"),on_visibility:{scribe:"show"},id:t,components:(S={},v()(S,w.c.DEFAULT,o),v()(S,w.c.STATIC,K),S),destinations:u,media_entities:Ir(Ir({},z),H),components_data:X}}},Kr=function(e){var t,r,n,a,i,o,c=e.cardId,s=e.cardType,l=e.data,d=e.cardContext,u=e.users,p=Pt(l,"image_value","player_image_original"),_=St(l,"string_value","player_stream_url"),b=parseInt(St(l,"string_value","player_width"),10)/parseInt(St(l,"string_value","player_height"),10),m=St(l,"string_value","content_duration_seconds"),f=function(e){return[1,2,3,4].map((function(t){var r=St(l,"string_value","cta".concat(t)),n=St(l,"string_value","cta".concat(t,"_wm_id"));return r&&n?{icon:"dm",index:t,cta:r,wm_id:n,destination:e}:null})).filter(Boolean)},y=f(w.b.DESTINATION),g=f(w.b.DESTINATION_STATIC),T=Ct(l,"user_value","recipient"),I=T&&u[T.id_str],E=T.id_str!==d.tweetUserId&&I;return{state:w.c.DEFAULT,layout:(t={},v()(t,w.c.DEFAULT,{size:"large"}),v()(t,w.c.STATIC,{size:"large"}),t),card:{card_name:s,card_url:St(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:c,components:(r={},v()(r,w.c.DEFAULT,[w.b.MEDIA].concat(Le()(E?[w.b.DETAILS]:[]),[w.b.BUTTON_GROUP])),v()(r,w.c.STATIC,[w.b.MEDIA_STATIC].concat(Le()(E?[w.b.DETAILS]:[]),[w.b.BUTTON_GROUP_STATIC])),r),destinations:(n={},v()(n,w.b.DESTINATION,{type:w.f.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:T.id_str},auth_required:!0,scribe:"click",promoted_log:"dm_button_click"}}),v()(n,w.b.DESTINATION_STATIC,{type:w.f.BROWSER,data:{url_data:{url:d.tweetPermalink||w.e},scribe:"open_link",promoted_log:"card_url_click"}}),n),media_entities:(a={},v()(a,w.b.IMAGE_ENTITY,Rt(p||{})),v()(a,w.b.VIDEO_ENTITY,Sr(Sr({type:"video",aspect_ratio:b,content_id:St(l,"string_value","player_content_id")||Nt(_)},m?{duration_ms:1e3*parseInt(m,10)}:null),{},{vmap_url:_,poster_image:p,publisher_id:St(l,"string_value","player_owner_id")||d.tweetUserId,variants:[{src:St(l,"string_value","player_hls_url"),type:"application/x-mpegURL"}]})),a),components_data:Sr(Sr((i={},v()(i,w.b.MEDIA,{type:w.d.MEDIA,data:{id:w.b.VIDEO_ENTITY}}),v()(i,w.b.MEDIA_STATIC,{type:w.d.MEDIA,data:{id:w.b.IMAGE_ENTITY,destination:w.b.DESTINATION_STATIC}}),i),E?v()({},w.b.DETAILS,{type:w.d.DETAILS,data:{attribution:I}}):null),{},(o={},v()(o,w.b.BUTTON_GROUP,{type:w.d.BUTTON_GROUP,data:{buttons:y}}),v()(o,w.b.BUTTON_GROUP_STATIC,{type:w.d.BUTTON_GROUP,data:{buttons:g}}),o))}}},Xr=function(e){return Lt(e,(function(e){return e("player_width").and("player_height").and("amplify_url_vmap").and("amplify_content_id")}))},Zr=function(e){return Lt(e,(function(e){return e("card_url").and("title")}))},Qr=function(e){return Lt(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url")}))},$r=function(e){return Lt(e,(function(e){return e("card_url").and("broadcast_id").and("broadcast_title")}))},en=function(e){return Lt(e,(function(e){return e("card_url").and("title")}))},tn=function(e){return Lt(e,(function(e){return e("recipient").and("cta1").and("cta1_wm_id").and("image_original")}))},rn=function(e){return Lt(e,(function(e){return e("card_url").and("event_id").and("event_title")}))},nn=function(e,t){return Lt(e,(function(e){return e("recipient").and("cta")}))&&t.tweetUserId===Ct(e,"user_value","recipient").id_str},an=function(e){return Lt(e,(function(e){return e("card_url").and((function(e){return e("photo_image").or("cover_format_media_url")})).and("id").and((function(e){return e("title").or("author").or("subcategory_string")}))}))},on=function(e){return Lt(e,(function(e){return e("card_url").and("broadcast_width").and("broadcast_height").and("id").and((function(e){return e("broadcaster_twitter_id").or("title")}))}))},cn=function(e){return rr.a.isVineCard({name:"player",binding_values:e})?Lt(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url").and("player_stream_content_type")})):Lt(e,(function(e){return e("card_url").and("player_url").and("player_height").and("player_width").and("title")}))},sn=function(e){return Lt(e,(function(e){return e("choice1_label").and("choice2_label").and("end_datetime_utc").and("counts_are_final").and("api").and("card_url")}))},ln=function(e){return Lt(e,(function(e){return e("card_url").and("title").and("promo_image_original").and("cta_key")}))},dn=function(e){return Lt(e,(function(e){return e("card_url").and("thank_you_text").and("card_id").and("promo_image").and("cta_one").and("cta_one_tweet")}))},un=function(e){return Lt(e,(function(e){return e("card_url").and("thank_you_text").and("card_id").and("cta_one").and("cta_one_tweet").and("player_width").and("player_height").and("player_stream_url")}))},pn=function(e){return Lt(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url")}))},_n=function(e){return Lt(e,(function(e){return e("card_url").and("title").and("promo_image_original")}))},bn=function(e){return Lt(e,(function(e){return e("card_url").and("title")}))},mn=function(e){return Lt(e,(function(e){return e("card_url").and("title")}))},fn=function(e){var t=hr(e);return!!(t&&t.components&&t.component_objects&&t.components.length&&t.components.every((function(e){return t.component_objects[e]&&t.component_objects[e].type in Er})))},yn=function(e){return Lt(e,(function(e){return e("recipient").and("cta1").and("cta1_wm_id").and("player_width").and("player_height").and("player_stream_url")}))},vn=function(e,t,r){var n,a=(n={},v()(n,w.a.AMPLIFY,Xr),v()(n,w.a.APP,Zr),v()(n,w.a.APPPLAYER,Qr),v()(n,w.a.BROADCAST,$r),v()(n,w.a.DIRECT_STORE_LINK_APP,en),v()(n,w.a.IMAGE_DIRECT_MESSAGE,tn),v()(n,w.a.LIVE_EVENT,rn),v()(n,w.a.MESSAGE_ME,nn),v()(n,w.a.MOMENT,an),v()(n,w.a.PERISCOPE_BROADCAST,on),v()(n,w.a.PLAYER,cn),v()(n,w.a.POLL_2_CHOICE_TEXT,sn),v()(n,w.a.POLL_3_CHOICE_TEXT,sn),v()(n,w.a.POLL_4_CHOICE_TEXT,sn),v()(n,w.a.POLL_2_CHOICE_IMAGE,sn),v()(n,w.a.POLL_3_CHOICE_IMAGE,sn),v()(n,w.a.POLL_4_CHOICE_IMAGE,sn),v()(n,w.a.POLL_2_CHOICE_VIDEO,sn),v()(n,w.a.POLL_3_CHOICE_VIDEO,sn),v()(n,w.a.POLL_4_CHOICE_VIDEO,sn),v()(n,w.a.PROMO_IMAGE_APP,ln),v()(n,w.a.PROMO_IMAGE_CONVO,dn),v()(n,w.a.PROMO_VIDEO_CONVO,un),v()(n,w.a.PROMO_VIDEO_WEBSITE,pn),v()(n,w.a.PROMO_WEBSITE,_n),v()(n,w.a.SUMMARY,bn),v()(n,w.a.SUMMARY_LARGE_IMAGE,mn),v()(n,w.a.UNIFIED_CARD,fn),v()(n,w.a.VIDEO_DIRECT_MESSAGE,yn),n)[e];return!!a&&a(t,r)},gn=(wr={},v()(wr,w.a.AMPLIFY,Cr),v()(wr,w.a.APP,Pr),v()(wr,w.a.APPPLAYER,Lr),v()(wr,w.a.BROADCAST,Rr),v()(wr,w.a.DIRECT_STORE_LINK_APP,Nr),v()(wr,w.a.IMAGE_DIRECT_MESSAGE,Mr),v()(wr,w.a.LIVE_EVENT,jr),v()(wr,w.a.MESSAGE_ME,xr),v()(wr,w.a.MOMENT,kr),v()(wr,w.a.PERISCOPE_BROADCAST,Ur),v()(wr,w.a.PLAYER,Br),v()(wr,w.a.POLL_2_CHOICE_TEXT,Fr),v()(wr,w.a.POLL_3_CHOICE_TEXT,Fr),v()(wr,w.a.POLL_4_CHOICE_TEXT,Fr),v()(wr,w.a.POLL_2_CHOICE_IMAGE,Fr),v()(wr,w.a.POLL_3_CHOICE_IMAGE,Fr),v()(wr,w.a.POLL_4_CHOICE_IMAGE,Fr),v()(wr,w.a.POLL_2_CHOICE_VIDEO,Fr),v()(wr,w.a.POLL_3_CHOICE_VIDEO,Fr),v()(wr,w.a.POLL_4_CHOICE_VIDEO,Fr),v()(wr,w.a.PROMO_IMAGE_APP,Yr),v()(wr,w.a.PROMO_IMAGE_CONVO,Gr),v()(wr,w.a.PROMO_VIDEO_CONVO,zr),v()(wr,w.a.PROMO_VIDEO_WEBSITE,Vr),v()(wr,w.a.PROMO_WEBSITE,Wr),v()(wr,w.a.SUMMARY,Hr),v()(wr,w.a.SUMMARY_LARGE_IMAGE,qr),v()(wr,w.a.UNIFIED_CARD,Jr),v()(wr,w.a.VIDEO_DIRECT_MESSAGE,Kr),wr),Tn=function(e,t){var r=e.binding_values,n=e.name,a=e.url,i=e.users,o=void 0===i?{}:i,c=gn[n];return vn(n,r,t)&&c?c({cardId:a,cardType:n,data:r,cardContext:t,users:o}):null};function In(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?In(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):In(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var hn=function(e){p()(r,e);var t=On(r);function r(e){var n;o()(this,r),n=t.call(this,e),v()(d()(n),"_handleLikelyInteraction",(function(){n.state.interactionLikely||n.setState({interactionLikely:!0})})),v()(d()(n),"_updateCardState",(function(e){n.setState({state:e})})),v()(d()(n),"_updateUCPromotedMetadata",(function(e){n.setState({ucPromotedMetadata:e})})),v()(d()(n),"_scribeCardAction",(function(e){var t=e.action,r=e.element,a=e.componentType,i=e.ctaIndex,o=e.isAuthRequired,c=n.state.card,s=n.props.onScribeEvent;c&&s&&s({action:t,element:r,componentType:a,cardName:c.card_name,cardUrl:c.card_url,ctaIndex:i,isMessageMe:c.card_name===w.a.MESSAGE_ME,isAuthRequired:o})})),v()(d()(n),"_onPromotedLogEvent",(function(e){var t=n.props.onPromotedLogEvent;t&&t(En(En({},e),{},{ucPromotedMetadata:n.state.ucPromotedMetadata}))})),v()(d()(n),"_requestCardUpdate",(function(){var e=n.props.requestCardUpdate,t=n.state.card;e&&t&&e([t.id],{name:t.card_name})}));var a=n._convertCard(e);return n.state=a?En({},a):{},n}return s()(r,[{key:"componentDidMount",value:function(){var e=this.state.card;e&&this._scribeCardAction({action:e.on_visibility.scribe,componentType:"card"})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState(this._convertCard(e))}},{key:"render",value:function(){var e=this.state,t=e.card,n=e.state,i=e.ucPromotedMetadata,o=e.carouselIndex,c=this.props,s=c.a11yDomIds,l=c.cardContext,d=c.dmSentOrReceived,u=c.isDataSaverEnabled,p=c.isInteractive,_=c.isPromoted,b=c.onEventReminderClick,m=c.onPollVote,f=c.onScribeEvent,y=c.promotedContent,v=c.nativeID,T=c.requestCardUpdate,I=c.testIDs,O=c.transformUrl,h=c.useBlueButtonForAppDetails,A=c.withSquareBottomBorderRadius;if(!t)return null;var D=this._getCurrentLayout(),S=this._getDetailData(),w=this._getTwitterListDetailsData(),C=this._getTopicDetailsData(),P=this._getMediaData(),L=this._getPollData(),R=this._getButtonsData(),N=this._getSwipeableMediaData(),M=t.fetch_updates,j=this.props.withInteractiveStyling&&!!(S&&S.destination||w&&w.destination||C&&C.destination),x={a11yDomIds:s,dmSentOrReceived:d,locationKey:l.locationKey,onLikelyInteraction:this._handleLikelyInteraction,nativeID:v,testIDs:I,withInteractiveStyling:j,withSquareBottomBorderRadius:A,media:P},k=T&&M&&M[n],U=P&&P.mediaEntity&&"photo"===P.mediaEntity.type,B="small"===D.size||u&&S&&!R&&U&&!_;return g.createElement(ht.a.ViewImpressor,{viewType:"card"},g.createElement(r.Context.Provider,{value:{card:t,carouselIndex:o,isDataSaverEnabled:u,isInteractive:p,isPromoted:_,media:P,promotedContent:y,onEventReminderClick:b,onPollVote:m,onPromotedLogEvent:this._onPromotedLogEvent,onScribeEvent:f,scribeCardAction:this._scribeCardAction,transformUrl:O,ucPromotedMetadata:i,updateCardState:this._updateCardState,updateUCPromotedMetadata:this._updateUCPromotedMetadata}},this._renderPreconnectTags(),k?g.createElement(E,{requestCardUpdate:this._requestCardUpdate}):null,B?S||C?g.createElement(Ot,a()({},x,{details:S,reverse:D.reverse},C?{topicDetails:C}:null)):null:g.createElement(_t,a()({},x,{buttons:R||void 0,chromeless:D.chromeless,details:S,listDetails:w||void 0,poll:L||void 0,renderVideoPlayer:this.props.renderVideoPlayer,swipeableMedia:N,useBlueButtonForAppDetails:h}))))}},{key:"_getCurrentLayout",value:function(){var e=this.state,t=e.layout,r=e.state;return t[this.props.isDataSaverEnabled?w.c.DATA_SAVER:r]||t[w.c.DEFAULT]}},{key:"_getButtonsData",value:function(){var e=this._getComponent("button_group");return e?e.data.buttons:null}},{key:"_getSwipeableMediaData",value:function(){var e=this.state.card,t=this._getComponent("swipeable_media"),r=t&&t.data;if(r&&r.media_list)return Object(At.a)(r.media_list,(function(t){var r=t&&t.id&&e?e.media_entities[t.id]:void 0;return r?En(En({},t),{},{media_entity:r}):void 0}))}},{key:"_getDetailData",value:function(){var e=this._getComponent("details"),t=e&&e.data;if(t){if(t.destination){var r=this._getVanityText(t.destination);t.vanity=r||void 0}return t}}},{key:"_getTwitterListDetailsData",value:function(){var e=this._getComponent("twitter_list_details");return e&&e.data||null}},{key:"_getTopicDetailsData",value:function(){var e=this._getComponent("topic_details");return e&&e.data||null}},{key:"_getMediaData",value:function(){var e=this.state.card,t=this._getComponent("media"),r=t&&t.data,n=r&&r.id&&e?e.media_entities[r.id]:void 0,a=r&&r.overlay,i=r&&r.aspect_ratio;return r?En(En({},r.destination?{destination:r.destination}:null),{},{aspect_ratio:i,mediaEntity:n,overlay:a}):void 0}},{key:"_getPollData",value:function(){var e=this._getComponent("poll");return e?e.data:null}},{key:"_getComponent",value:function(e){var t=this.state,r=t.card,n=t.state,a=this.props.isDataSaverEnabled;if(!r)throw new Error("No card data available");var i=a?w.c.DATA_SAVER:n,o=(r.components[i]||r.components[w.c.DEFAULT]).map((function(e){return r.components_data[e]})).find((function(t){return t.type===e}));return o||void 0}},{key:"_getVanityText",value:function(e){var t=this.state.card;if(t){var r=t.destinations[e];if(r)switch(r.type){case w.f.BROWSER:case w.f.BROWSER_WITH_DOCKED_MEDIA:case w.f.BROWSER_WITH_MEDIA:return r.data.url_data.vanity;case w.f.ACTION:return r.data.action_data.vanity;default:return}}}},{key:"_renderPreconnectTags",value:function(){var e=this._getDetailData(),t=this.state,r=t.card,n=t.interactionLikely,a=this.props.isPromoted;if(!e||!e.destination||!r)return null;var i=r.destinations[e.destination];if(i.type!==w.f.BROWSER)return null;var o=i.data.url_data.url,c=i.data.url_data.domain||i.data.url_data.vanity;if(!c)return null;var s=n||a,l=n&&a;return s?g.createElement(g.Fragment,null,l?g.createElement("link",{href:o,rel:"prerender"}):null,s?g.createElement("link",{href:o,rel:"preconnect"}):null,s?g.createElement("link",{href:"//".concat(c),rel:"preconnect"}):null):null}},{key:"_convertCard",value:function(e){var t=e.card,r=e.cardState,n=e.cardContext,a=e.initialCarouselIndex,i=Tn(t,n),o=r||!!this.state&&this.state.state||i&&i.state||void 0;return i&&o?En(En({},i),{},{state:o,carouselIndex:a}):null}}]),r}(g.Component);v()(hn,"defaultProps",{isDataSaverEnabled:!1,isInteractive:!0,isPromoted:!1,withInteractiveStyling:!0}),v()(hn,"Context",g.createContext(Object.freeze({}))),hn.propTypes={};var An=t.a=hn},kH1Z:function(e,t,r){r("ax0f")({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web-legacy/loader.HWCard.81389bf5.js.map