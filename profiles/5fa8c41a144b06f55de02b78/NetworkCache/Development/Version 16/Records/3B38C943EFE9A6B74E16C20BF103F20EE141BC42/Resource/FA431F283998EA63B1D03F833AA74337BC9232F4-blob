(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{FwSR:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return we}));i("hBpG"),i("z84I"),i("7x/C"),i("OZaJ"),i("DZ+c"),i("XygZ");var n=i("RhWx"),r=i.n(n),o=i("VrFO"),s=i.n(o),a=i("Y9Ll"),c=i.n(a),d=i("1Pcy"),u=i.n(d),l=i("5Yy7"),h=i.n(l),f=i("N+ot"),m=i.n(f),p=i("AuHH"),_=i.n(p),v=i("KEM+"),g=i.n(v),I=i("ERkP"),y=function(){function e(t,i,n,r,o){s()(this,e),this.id=t,this._renderer=n,this.canBeAnchor=r,this.data=i,this.sortIndex=o}return c()(e,[{key:"render",value:function(){return(0,this._renderer)(this.data)}}]),e}(),R=function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"-1";return new y(e,t,i,n,r)},w=(i("yH/f"),Object.freeze({FocusedItem:"focusedItem",Anchor:"anchor"})),b=function(e){return{anchor:e,type:w.Anchor}},T=function(e){return{itemId:e,type:w.FocusedItem}},A=i("A9rn"),H=i("Resy"),O=function(){function e(t){var i=t.viewportRect,n=t.listRect,r=t.listLength,o=t.renderedItems;s()(this,e),this._viewportRect=i,this._listRect=n,this._listLength=r,this._renderedItems=o}return c()(e,[{key:"getForList",value:function(){return this._listRect}},{key:"getForViewport",value:function(){return this._viewportRect}},{key:"getListLength",value:function(){return this._listLength}},{key:"getRenderedItems",value:function(){return this._renderedItems}}]),e}(),P=i("nfVA"),S=i("Lqdf"),k=i("aWzz"),x=i("oQhu"),E=i("fs1G"),F=(i("1t7P"),i("LW0h"),i("vfdX"),i("jwue"),i("vrRf"),i("lTEL"),i("KOtZ"),i("M+/F"),i("m9LP"),i("daRM"),i("FtHn"),i("+KXO"),i("LqLs"),i("87if"),i("+oxZ"),i("kYxP"),i("m3Bd")),j=i.n(F),C=i("dPJJ"),M=i("E6XO"),V=i("wrlS"),U=i("64vW"),L=i("pQ3Z"),D=i.n(L),B=i("iBK2"),z=i("aITJ"),W=i("Irs7"),K=i("ddV6"),N=i.n(K),q=i("38/B"),J=i("06eB"),Y=i.n(J),Z=i("15eg"),G=i("GVND");function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=_()(e);if(t){var r=_()(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return m()(this,i)}}var Q=function(){return window.performance?window.performance.now():Date.now()},$=function(e){h()(i,e);var t=X(i);function i(e){var n;s()(this,i),n=t.call(this,e),g()(u()(n),"_perfReported",!1),g()(u()(n),"_shouldAnimateTranslate",!1),g()(u()(n),"_observeElement",(function(e){var t=n._resizeObserver;t&&(t.disconnect(),t.observe(e))})),g()(u()(n),"_handleResize",(function(e){var t=n.props,i=t.onHeightChanged,r=t.item,o=N()(e,1)[0],s=(o&&Math.floor(o.contentRect.height))!==(n._currentHeight&&Math.floor(n._currentHeight));o&&s&&(n._currentHeight=o.contentRect.height,i(r.id,o.contentRect.height)),n._recordTTFV()})),g()(u()(n),"_setRef",(function(e){var t=n.props,i=t.item,r=t.setAPI;e?(n._element=e,r(i.id,u()(n)),n._observeElement(e)):(r(i.id,void 0),n._element=void 0)})),g()(u()(n),"_handleAnimationStarted",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform 0.15s linear";n._resizeObserver&&n._resizeObserver.disconnect(),n.props.onAnimationStarted(n.props.item.id,e),n._animationTTLTimeoutId&&clearTimeout(n._animationTTLTimeoutId),n._animationTTLTimeoutId=setTimeout(n._handleAnimationEnded,1e3)})),g()(u()(n),"_handleAnimationEnded",(function(){n._animationTTLTimeoutId&&(clearTimeout(n._animationTTLTimeoutId),n._animationTTLTimeoutId=null),n._element&&n._observeElement(n._element),n.props.onAnimationEnded(n.props.item.id)})),g()(u()(n),"_handleHeightChanged",(function(e){n._currentHeight=e,n.props.onHeightChanged(n.props.item.id,e)}));var r=z.a.isSafari()?window.PolyfillResizeObserver:window.ResizeObserver;n._resizeObserver=new r(n._handleResize),n._animationContext={onAnimationEnded:n._handleAnimationEnded,onAnimationStarted:n._handleAnimationStarted,onHeightChanged:n._handleHeightChanged},n._perfStart=Q();var o=Object(Z.a)(),a=o.isAnimationDisabled,c=o.shouldUseTopPositioning;return n._isAnimationDisabled=a,n._shouldUseTopPositioning=c,n}return c()(i,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,i=t.item,n=t.offset,r=t.visible,o=t.shouldAnimate;return this._shouldAnimateTranslate=e.offset!==n&&e.visible===r,!Y()(e.item,i)||e.offset!==n||e.visible!==r||e.shouldAnimate!==o}},{key:"componentWillUnmount",value:function(){this._animationTTLTimeoutId&&(clearTimeout(this._animationTTLTimeoutId),this.props.onAnimationEnded(this.props.item.id)),this._resizeObserver&&this._resizeObserver.disconnect(),this._resizeObserver=void 0}},{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.item,n=t.setAPI;e.item.id!==i.id&&(n(e.item.id,void 0),n(i.id,this)),this._recordTTFV()}},{key:"measureHeight",value:function(){return this._currentHeight||(this._currentHeight=this._element?this._element.getBoundingClientRect().height:0),this._currentHeight}},{key:"render",value:function(){var e=this.props,t=e.item,i=e.offset,n=e.visible,r=e.shouldAnimate,o=e.translationTransitionStyle,s=this._shouldAnimateTranslate&&!q.a.reducedMotionEnabled?o:"opacity 0.3s ease-out";return I.createElement(G.a.Provider,{value:this._animationContext},I.createElement("div",{ref:this._setRef,style:{position:"absolute",opacity:n?void 0:.01,width:"100%",top:this._shouldUseTopPositioning?"".concat(i,"px"):void 0,transform:this._shouldUseTopPositioning?void 0:"translateY(".concat(i,"px)"),transition:r&&!this._isAnimationDisabled?s:void 0}},t.render()))}},{key:"_recordTTFV",value:function(){var e=this.props,t=e.item,i=e.onVisible,n=e.visible;void 0!==this._currentHeight&&!this._perfReported&&n&&(i(t.id,Q()-this._perfStart),this._perfReported=!0)}}]),i}(I.Component);g()($,"defaultProps",{translationTransitionStyle:"transform 0.15s linear"});var ee=i("VY6S"),te=i("Qyxo"),ie=i("xN10"),ne=i("+d3d"),re=i("mN6z"),oe=i("qdp+"),se=i("/NU0"),ae=i("6vUc"),ce=i("jat/"),de=i("tn7R"),ue=i("Myq3"),le=i("I7xG"),he=i("jHwr");function fe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function me(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(i),!0).forEach((function(t){g()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):fe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=_()(e);if(t){var r=_()(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return m()(this,i)}}var _e={},ve=function(e){h()(i,e);var t=pe(i);function i(e){var n;s()(this,i),n=t.call(this,e),g()(u()(n),"_areAnchorsInvalidated",!1),g()(u()(n),"_cells",new Map),g()(u()(n),"_cellAnimations",new Set),g()(u()(n),"_cellAnimationStyle","transform 0.15s linear"),g()(u()(n),"_isFullScreened",!1),g()(u()(n),"_isIdle",!1),g()(u()(n),"_pendingHeightUpdates",new Map),g()(u()(n),"_renderedItemsStatus",new Set),g()(u()(n),"_rootRef",I.createRef()),g()(u()(n),"_slice",{start:0,end:0}),g()(u()(n),"_visibilityMeasurements",new Map),g()(u()(n),"_handleScroll",(function(){n._isInitialAnchoring||n._viewport.scrollY()<0||(n._isIdle=!1,n._updateScrollEnd(),n._scheduleCriticalUpdateThrottled())})),g()(u()(n),"_updateScrollEnd",Object(ee.a)((function(){n._isIdle=!0,n._scheduleCriticalUpdate()}),100)),g()(u()(n),"_handleEnterFullscreen",(function(){n._isFullScreened=!0})),g()(u()(n),"_handleExitFullscreen",(function(){n._isFullScreened=!1,n._scheduleCriticalUpdate()})),g()(u()(n),"_getPositioningContext",Object(x.a)((function(e){return{heightsReady:e}}))),g()(u()(n),"_getFinalRenderedItems",Object(le.a)(u()(n),(function(e,t,i){return i._getItemMap()}),(function(e,t){return t.renderedItems}),(function(e,t){return Object(te.a)(t,(function(t){var i=t.itemId,n=j()(t,["itemId"]),r=e.get(i);return r&&me(me({},n),{},{item:r})}))}))),g()(u()(n),"_getItemMap",Object(le.a)(u()(n),(function(e){return e.list}),(function(e){var t=new Map;return e.forEach((function(e){t.set(e.id,e)})),t}))),g()(u()(n),"_getItemPositionsMap",(function(e){var t=n.props.list,i=n._getDistanceFromTop(e.itemId),r=e.offset-i,o={};return t.forEach((function(e){var t=n._getHeight(e);o[e.id]={item:e,rectangle:new H.a(r,t)},r+=t})),o})),g()(u()(n),"_getIsHeightsReady",(function(e){return Object(ie.a)(e,(function(e){var t=e.itemId;return n._heights.has(t)}))})),g()(u()(n),"_updatePositioning",(function(e){var t=e.renderedItems,i=e.relativeViewportRect,r=e.firstItem,o=e.height,s=n.props,a=s.list,c=s.onPositionUpdate;n._getIsHeightsReady(t)&&c(new O({viewportRect:i,listRect:new H.a(r?r.rectangle.getTop():0,o),listLength:a.length,renderedItems:t.map((function(e){return{id:e.itemId,rectangle:new H.a(e.offset,n._getHeightForItemId(e.itemId))}}))}))})),g()(u()(n),"_getAnchorItemCandidates",(function(){var e=n.props.analytics,t=n._getFinalRenderedItems().filter((function(e){var t=e.item;return t.canBeAnchor&&(n._isInitialAnchoring||!!n._heights.get(t.id))}));if(n._areAnchorsInvalidated){var i=n._getFinalRenderedItems().filter((function(e){var t,i=e.item,r=null===(t=n._previousItemMap.get(i.id))||void 0===t?void 0:t.sortIndex;return r===B.a||i.sortIndex===B.a||r===i.sortIndex}));if(i.length!==n._getFinalRenderedItems().length){if(e.scribe({element:"scroller",action:"hoisted_anchor_invalidation"}),V.b.isTrue("responsive_web_hoisting_anchor_invalidation_enabled"))return i}else e.scribe({element:"scroller",action:"no_hoisted_anchor_invalidation"})}return t})),g()(u()(n),"_handleAnimationStarted",(function(e,t){n._cellAnimations.add(e),t&&(n._cellAnimationStyle=t)})),g()(u()(n),"_handleAnimationEnded",(function(e){n._cellAnimations.delete(e),n._cellAnimationStyle="transform 0.15s linear"})),g()(u()(n),"_handleItemVisible",(function(e,t){n._visibilityMeasurements.has(e)||n._visibilityMeasurements.set(e,t)})),g()(u()(n),"_reportVisibilityMeasurements",(function(){if(n._visibilityMeasurements.size){var e=0;n._visibilityMeasurements.forEach((function(t){return e+=t}));var t=Math.round(e/n._visibilityMeasurements.size),i=z.a.isDesktopOS()?"scroller_v3":"scroller_v3_mobile";M.c("rweb:scroller:ttfv:".concat(i),{duration_ms:t}),n._visibilityMeasurements.clear()}})),g()(u()(n),"_updateItemHeight",(function(e,t){n._pendingHeightUpdates.set(e,t),(Object(ie.a)(n.state.renderedItems,(function(e){var t=e.itemId;return n._heights.has(t)||n._pendingHeightUpdates.has(t)}))||n._pendingHeightUpdates.size>50)&&(n._update(),n._pendingHeightUpdates.clear())})),g()(u()(n),"_handleHeightChanged",(function(e,t){n._heights.get(e)!==t&&(n._cellAnimations.has(e)?n._scheduleCriticalUpdate():n._updateItemHeight(e,t))})),g()(u()(n),"_setItemRef",(function(e,t){t?(n._cells.set(e,t),n._renderedItemsStatus.add(e)):(n._cells.delete(e),n._renderedItemsStatus.delete(e))})),n._viewport=e.viewport,n._devicePixelRatio=window.devicePixelRatio||1,n.state={renderedItems:[],listHeight:0,shouldAnimate:!1};var r=n.props.cacheKey;return r&&_e.hasOwnProperty(r)?n._heights=_e[r]:(n._heights=new Map,_e[r]=n._heights),n._scheduleCriticalUpdate=Object(he.a)((function(){return n._update()}),window.requestAnimationFrame),n._scheduleUpdate=window.requestIdleCallback?Object(he.a)((function(){n._update()}),window.requestIdleCallback):n._scheduleCriticalUpdate,n._scheduleCriticalUpdateThrottled=Object(ne.a)((function(){n._scheduleCriticalUpdate()}),100,{trailing:!0}),n._scheduleUpdateDebounced=Object(ee.a)(n._scheduleUpdate,250),window.scroller=u()(n),n}return c()(i,[{key:"render",value:function(){var e=this,t=this.state,i=t.listHeight,n=t.shouldAnimate,r=t.renderedItems,o=this._getIsHeightsReady(r);return I.createElement(U.a.Provider,{value:this._getPositioningContext(o)},I.createElement("div",{ref:this._rootRef,style:{position:"relative",minHeight:i}},this._getFinalRenderedItems().map((function(t){var i,r,o,s=t.item,a=t.offset,c=t.visible;return I.createElement($,{item:s,key:s.id,offset:(i={cssPixels:a,dpr:e._devicePixelRatio},r=i.cssPixels,o=i.dpr,Math.round(r*o)/o),onAnimationEnded:e._handleAnimationEnded,onAnimationStarted:e._handleAnimationStarted,onHeightChanged:e._handleHeightChanged,onVisible:e._handleItemVisible,setAPI:e._setItemRef,shouldAnimate:n,translationTransitionStyle:e._cellAnimationStyle,visible:c})}))))}},{key:"shouldComponentUpdate",value:function(e,t){return!D()(this.props,e)||!Object(re.a)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this;e.list!==this.props.list&&(this._isInitialAnchoring||(this._previousItemMap=new Map,e.list.forEach((function(e){t._previousItemMap.set(e.id,e)})),this._areAnchorsInvalidated=!0),this._scheduleCriticalUpdate())}},{key:"componentDidMount",value:function(){var e=this;this._removeScrollHandler=this._viewport.addScrollListener(this._handleScroll),this._removeFullscreenEnterHandler=C.a(this._handleEnterFullscreen),this._removeFullscreenExitHandler=C.b(this._handleExitFullscreen);var t=this._getInitialRenderedItems();if(this.props.isManualScrollRestoration&&this._viewport.scrollBy(-1),t.length>0){var i=this._getDocumentViewportHeight();this.setState({renderedItems:t,shouldAnimate:!0,listHeight:i},(function(){var t;if(e._isInitialAnchoring=!0,(null===(t=e.props.initialAnchor)||void 0===t?void 0:t.type)===w.Anchor){var i=e._rootRef.current&&e._rootRef.current.getBoundingClientRect();i&&e._viewport.scrollBy(i.top)}window.requestAnimationFrame((function(){return window.requestAnimationFrame((function(){return e._scheduleCriticalUpdate()}))}))}))}else this._scheduleCriticalUpdate()}},{key:"componentWillUnmount",value:function(){this._removeScrollHandler&&this._removeScrollHandler(),this._removeFullscreenEnterHandler&&this._removeFullscreenEnterHandler(),this._removeFullscreenExitHandler&&this._removeFullscreenExitHandler(),this._reportVisibilityMeasurements()}},{key:"_getDocumentViewportHeight",value:function(){var e;return(null===(e=document.documentElement)||void 0===e?void 0:e.clientHeight)||0}},{key:"_getInitialRenderedItems",value:function(){var e=this.props,t=e.initialAnchor,i=e.list,n=[];if(!t)return n;if(t.type===w.FocusedItem){var r=Object(oe.a)(i,(function(e){return e.id===t.itemId?{itemId:e.id,offset:0,visible:!0}:void 0}));r&&n.push(r)}else if(t.type===w.Anchor&&Object(se.a)(t.anchor.distanceToViewportTop))for(var o=t.anchor,s=this._getDocumentViewportHeight(),a=o.distanceToViewportTop||0,c=i.findIndex((function(e){return e.id===o.id}));c>-1&&c<i.length&&a<s;){var d=i[c],u=this._heights.get(d.id);if(!Object(se.a)(u))break;n.push({itemId:d.id,offset:a,visible:!0}),a+=u,c+=1}return n}},{key:"getAnchors",value:function(){var e=this._rootRef.current&&this._rootRef.current.getBoundingClientRect(),t=this._measureRelativeViewportRect();return e&&t?this._getItemsWithin(t).filter((function(e){return e.item.canBeAnchor})).map((function(t){return{id:t.item.id,distanceToViewportTop:e.top+t.offset}})):[]}},{key:"_update",value:function(){var e=this._measureRelativeViewportRect();if(e&&!this._isFullScreened){var t=this._getAnchor(e);this._measureHeights(),t&&(this._updateRenderedItems(t,e),this._areAnchorsInvalidated=!1)}}},{key:"_getSliceForCandidates",value:function(e,t,i){var n=Object(ae.a)(e),r=Object(ce.a)(e);return{start:n?t.indexOf(i[n.itemId]):0,end:r?t.indexOf(i[r.itemId])+1:0}}},{key:"_getRenderCandidates",value:function(e,t){var i=this,n=this.props,r=n.minimumOffscreenToViewportRatio,o=n.preferredOffscreenToViewportRatio,s=ye(t,r),a=ye(t,o),c=this._isIdle&&!this._isInitialAnchoring,d=this._getItemPositionsMap(e),u=Object(de.a)(d),l=u.filter((function(e){e.item;return e.rectangle.doesIntersectWith(c?a:s)})).map((function(e){var t=e.item,n=e.rectangle;return{itemId:t.id,offset:n.getTop(),visible:i._heights.has(t.id)}})),h=this._getSliceForCandidates(l,u,d),f=c?h:function(e,t){if(t.start>=e.start&&t.end<=e.end)return e;if(t.start>=e.end||t.end<=e.start)return t;var i=Math.max(e.start-t.start,t.end-e.end);return{start:Math.min(e.start+i,t.start),end:Math.max(e.end-i,t.end)}}(this._slice,h),m=u.slice(f.start,f.end).map((function(e){var t=e.item,n=e.rectangle;return{itemId:t.id,offset:n.getTop(),visible:i._heights.has(t.id)}}));return{itemPositions:u,newRenderedItems:m,slice:f,arePreferredItemsRendered:c}}},{key:"_updateRenderedItems",value:function(e,t){var i=this,n=this._getRenderCandidates(e,t),r=n.newRenderedItems,o=n.itemPositions,s=n.arePreferredItemsRendered,a=n.slice,c=0!==this._cellAnimations.size,d=0!==this._getListOffset(e),u=Object(ae.a)(o),l=Object(ce.a)(o),h=u&&l?l.rectangle.getBottom()-u.rectangle.getTop():0,f=h+this._calculateHeadroom(o,t),m=this._getIsHeightsReady(r),p=!(z.a.isSafari()||z.a.isIOS()),_=!c&&m&&(this._isIdle||p||f<=t.getHeight())||m&&this._isInitialAnchoring,v=r;if(this._slice=a,m&&(this._isInitialAnchoring=!1),d&&_){var g=this._normalization(e,r),I=g.offset,y=g.renderedItems;v=y,this.setState({renderedItems:y,listHeight:f,shouldAnimate:!d},(function(){var e=t;0!==I&&(i._viewport.scrollBy(-I),e=i._measureRelativeViewportRect()),e&&i._updatePositioning({renderedItems:v,relativeViewportRect:e,firstItem:u,height:h})}))}else this.setState({renderedItems:r,listHeight:f,shouldAnimate:!0},(function(){!d&&s||i._scheduleUpdateDebounced(),i._updatePositioning({renderedItems:v,relativeViewportRect:t,firstItem:u,height:h})}))}},{key:"_normalization",value:function(e,t){var i=this._getListOffset(e);return 0!==i?{offset:i,renderedItems:t.map((function(e){var t=e.offset;return me(me({},j()(e,["offset"])),{},{offset:t-i})}))}:{offset:0,renderedItems:t}}},{key:"_calculateHeadroom",value:function(e,t){var i=Object(ue.a)(e,(function(e){return e.item.canBeAnchor})),n=Object(ce.a)(e);if(!n)return 0;var r=n.rectangle.getBottom()-(i?i.rectangle.getTop():n.rectangle.getTop());return Math.max(0,t.getHeight()-r)}},{key:"_getListOffset",value:function(e){if(!e)return 0;var t=this._getDistanceFromTop(e.itemId);return e.offset-t}},{key:"_getAnchor",value:function(e){var t=this;if(!this._isInitialAnchoring&&this.props.pinToTopWhenAtTop&&e.getTop()<=0){var i=Object(ae.a)(this.props.list);return i?{itemId:i.id,offset:0}:void 0}var n=function(t){var i,n,r=(i=t,n=e,Math.max(0,Math.min(i.getBottom(),n.getBottom())-Math.max(i.getTop(),n.getTop())));return(t.getHeight()>0?r/t.getHeight():0)>.01?1:0},r=function(t){return t.getBottom()-e.getTop()},o=this._getAnchorItemCandidates(),s=Ie(o,(function(e,i){var o=new H.a(e.offset,t._getHeight(e.item)),s=new H.a(i.offset,t._getHeight(i.item));return n(o)-n(s)||r(s)-r(o)}));if(s)return{itemId:s.item.id,offset:s.offset};var a=Object(ae.a)(o);if(a)return{itemId:a.item.id,offset:a.offset};var c=Object(ae.a)(this.props.list);return c?{itemId:c.id,offset:0}:void 0}},{key:"_measureRelativeViewportRect",value:function(){var e=this._rootRef.current;if(e)return this._viewport.getRect().translateBy(-e.getBoundingClientRect().top)}},{key:"_getHeight",value:function(e){return this._getHeightForItemId(e.id)}},{key:"_getHeightForItemId",value:function(e){var t=this.props.assumedItemHeight,i=this._heights.get(e);return Object(se.a)(i)?i:t}},{key:"_getDistanceFromTop",value:function(e){var t=this,i=this.props.list,n=i.findIndex((function(t){return t.id===e}));return n>=0?i.slice(0,n).reduce((function(e,i){return t._getHeight(i)+e}),0):0}},{key:"_getItemsWithin",value:function(e){var t=this;return this._getFinalRenderedItems().filter((function(i){var n=i.item,r=i.offset;return new H.a(r,t._getHeight(n)).doesIntersectWith(e)}))}},{key:"_measureHeights",value:function(){var e=this;this._cells.forEach((function(t,i){e._heights.set(i,t.measureHeight())}))}},{key:"findTopmostVisibleId",value:function(){var e=this,t=this._measureRelativeViewportRect(),i=t&&this._getFinalRenderedItems().find((function(i){var n=i.item,r=i.offset;return new H.a(r,e._getHeight(n)).doesIntersectWith(t)}));return i&&i.item.id}},{key:"scrollToTop",value:function(){this._viewport.scrollToTop()}},{key:"isAtTop",value:function(){var e=this._measureRelativeViewportRect();return!e||e.getTop()<50}}]),i}(I.Component);g()(ve,"defaultProps",{nearEndProximityRatio:1.75,nearStartProximityRatio:.25,assumedItemHeight:400,minimumOffscreenToViewportRatio:.5,preferredOffscreenToViewportRatio:2.5});var ge=Object(W.a)(ve),Ie=function(e,t){if(e.length)return e.reduce((function(e,i){return t(i,e)>0?i:e}))},ye=function(e,t){var i=t*e.getHeight();return new H.a(e.getTop()-i,e.getHeight()+2*i)};function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=_()(e);if(t){var r=_()(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return m()(this,i)}}var we=function(e){h()(i,e);var t=Re(i);function i(e,n){var o;s()(this,i),o=t.call(this,e,n),g()(u()(o),"_renderer",I.createRef()),g()(u()(o),"_getList",Object(x.a)((function(e,t,i,n,o,s){var a=[];return e&&a.push(R("$header","header",(function(){return e}),!1)),a.push.apply(a,r()(i.map((function(e){return R(o(e),e,n,!0,s&&s(e))})))),t&&a.push(R("$footer","footer",(function(){return t}),!1)),a}))),g()(u()(o),"_handlePositionUpdate",(function(e){var t=o.props.onItemsRendered;o._edgeProximity.handlePositioningUpdate(e),t&&t({positions:e.getRenderedItems(),viewport:e.getForViewport()}),o._preservePosition(o._customLocation)}));var a=e.nearStartProximityRatio,c=e.nearEndProximityRatio;return o._edgeProximity=new S.b([{condition:S.a.nearTop(5),callback:function(e){return o.props.onAtStart(e)}},{condition:S.a.nearTopRatio(a),callback:function(e){return o.props.onNearStart(e)}},{condition:S.a.nearBottomRatio(c),callback:function(e){return o.props.onNearEnd(e)}},{condition:S.a.nearBottom(5),callback:function(e){return o.props.onAtEnd(e)}}]),o._viewport=e.viewport||o.context&&o.context.viewport||P.a.root(),o._loadStoredPosition(e,o.context),o}return c()(i,[{key:"render",value:function(){var e=this.props,t=e.anchoring,i=e.assumedItemHeight,n=e.cacheKey,r=e.footer,o=e.header,s=e.identityFunction,a=e.initialAnchor,c=e.items,d=e.noItemsRenderer,u=e.renderer,l=e.sortIndexFunction,h=this._scrollRestorationAnchor[n],f=h?b(h):a?T(a.id):void 0;return c.length?I.createElement(ge,{assumedItemHeight:i,cacheKey:n,initialAnchor:f,isManualScrollRestoration:window.history&&"manual"===window.history.scrollRestoration,key:n,list:this._getList(o,r,c,u,s,l),onPositionUpdate:this._handlePositionUpdate,pinToTopWhenAtTop:t.pinToTopWhenAtTop,ref:this._renderer,viewport:this._viewport}):d()}},{key:"componentDidMount",value:function(){(0,this.props.onPositionRestored)()}},{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.cacheKey,n=t.onPositionRestored;i!==e.cacheKey&&n()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.cacheKey!==e.cacheKey&&(this._preservePosition(this._customLocation),this._loadStoredPosition(e,this.context))}},{key:"componentWillUnmount",value:function(){this._preservePosition(this._customLocation)}},{key:"_preservePosition",value:function(e){if(e&&this._renderer.current){var t=this._renderer.current.getAnchors();e.savePosition(t)}}},{key:"_loadStoredPosition",value:function(e,t){var i=t.getCustomLocation;this._customLocation=i&&i();var n=[];if(this._customLocation){var r=this._customLocation.getSavedPosition();(n=r&&r.length?r:[]).length>0&&this._customLocation&&this._customLocation.claimScrollRestoration()}var o=n.find((function(t){var i=t.id;t.distanceToViewportTop;return!!e.items.find((function(t){return e.identityFunction(t)===i}))}));this._scrollRestorationAnchor=g()({},e.cacheKey,o)}},{key:"findTopmostVisibleId",value:function(){return this._renderer.current?this._renderer.current.findTopmostVisibleId():void 0}},{key:"scrollToTop",value:function(){this._renderer.current&&this._renderer.current.scrollToTop()}},{key:"isAtTop",value:function(){return!this._renderer.current||this._renderer.current.isAtTop()}}]),i}(I.PureComponent);g()(we,"contextTypes",{viewport:k.object,getCustomLocation:k.func}),g()(we,"defaultProps",{anchoring:A.a,onPositionRestored:E.a,onAtEnd:E.a,onAtStart:E.a,onNearEnd:E.a,onNearStart:E.a,nearEndProximityRatio:1.75,nearStartProximityRatio:.25,noItemsRenderer:function(){return null},assumedItemHeight:400,minimumOffscreenToViewportRatio:.5,preferredOffscreenToViewportRatio:2.5})}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web-legacy/loader.AbsolutePower.8cb58365.js.map