(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"0kTQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,o=n("KEM+"),a=n.n(o),c=n("k49u"),i=n("3XMw"),u=n.n(i).a.b20a3893,l=(r={},a()(r,c.a.TargetUserNotFound,{toast:{text:u}}),a()(r,"showToast",!0),r)},"1UMd":function(e,t,n){"use strict";n.r(t),n.d(t,"MultiAccountScreen",(function(){return de}));n("1t7P"),n("2G9S"),n("LW0h"),n("jwue"),n("z84I"),n("ho0z"),n("daRM"),n("FtHn"),n("+KXO"),n("7x/C"),n("OZaJ"),n("DZ+c"),n("uFXj"),n("+oxZ");var r=n("VrFO"),o=n.n(r),a=n("Y9Ll"),c=n.n(a),i=n("1Pcy"),u=n.n(i),l=n("5Yy7"),s=n.n(l),d=n("N+ot"),f=n.n(d),h=n("AuHH"),m=n.n(h),p=n("KEM+"),g=n.n(p),b=n("ERkP"),y=n("EPsT"),_=n("oEGd"),S=n("0KEI"),w=n("hqKg"),v=n("zh9S"),E=n("G6rE"),C=n("auX9"),A=n("KkUe"),k=Object(w.createSelector)(E.e.selectLoggedInUser,C.g,C.j,(function(e,t,n){return{loggedInUser:e,fetchStatus:t,users:n}})),B={fetchMultiAccountListIfNeeded:C.d,createLocalApiErrorHandler:Object(S.d)("ACCOUNT_SWITCHER_MULTI_LIST_FETCH"),logout:A.a,logoutAll:A.b,scribeAction:v.c,switchAccount:C.l},L=Object(_.g)(k,B),M=n("7JQg"),O=n("wrlS"),j=n("kGix"),R=n("v//M"),H=n("jHSc"),P=n("3XMw"),F=n.n(P),I=n("IMYl"),T=n("0kTQ"),V=n("yoO3"),D="AccountSwitcher_Add_Button",x="AccountSwitcher_Switch_Button",U=n("MWbm"),N=n("jtO7"),z=n("t62R"),K=n("0yYu"),X=n("IMA+"),G=n("Znyr"),J=n("rHpw");function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var q=F.a.b8e1d524,Q=F.a.j0a8da6e,$=F.a.b6bd6ae3,ee=F.a.d2b8e92b,te=F.a.dc65b3e4,ne=F.a.i859a9d3,re="https://help.twitter.com/managing-your-account/managing-multiple-twitter-accounts",oe=F.a.ae1bbb26,ae=F.a.bade139e,ce=F.a.ae33b982,ie=F.a.fa07bf68,ue=F.a.d86bbf0f,le=F.a.h6beb5fa,se={page:"account_switcher"},de=function(e){s()(n,e);var t=Z(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),g()(u()(e),"state",{spinner:!1}),g()(u()(e),"_render",(function(){var t=O.b.getNumberValue("responsive_web_multiple_account_limit",5),n=e.props.users.length>=t;return b.createElement(b.Fragment,null,e._renderUsers(),b.createElement(N.a,{align:"left",color:"primary",disabled:n,label:Q,onPress:e._handleAddAccount,testID:D,withBottomBorder:!0}),b.createElement(U.a,{style:[fe.whiteBackground,fe.infoText]},b.createElement(z.c,{color:"deepGray"},(n?te:ee)({maxAccounts:t})," ",b.createElement(z.c,{link:re},ne))),b.createElement(K.a,null),b.createElement(y.a,{color:"red",confirmationSheetConfirmButtonLabel:oe,confirmationSheetConfirmButtonType:"primary",confirmationSheetHeadline:ce,confirmationSheetText:ie,key:"logoutAllButton",label:ae,onConfirmationSheetConfirm:e._handleLogoutAll,withBottomBorder:!1}))})),g()(u()(e),"_renderUsers",(function(){var t=e.props,n=t.loggedInUser,r=t.users;return b.createElement(b.Fragment,null,r.map((function(t){var r=n&&t.user_id===n.id_str;return b.createElement(X.a,{avatarUri:t.avatar_image_url,badgeContext:"account",decoration:r?e._renderCurrentUserCheckmark():e._renderBadge(t.badgeCount),displayMode:"UserCompact",isProtected:t.is_protected,isVerified:t.is_verified,key:t.screen_name,name:t.name,onCellClick:r?void 0:e._handleSwitchAccount(t.user_id,!!t.badgeCount),screenName:t.screen_name,style:fe.whiteBackground,testID:x,userId:t.user_id,withBottomBorder:!0,withLink:!1})})))})),g()(u()(e),"_renderCurrentUserCheckmark",(function(){return b.createElement(I.a,{accessibilityLabel:$,style:fe.iconCheckMark})})),g()(u()(e),"_renderBadge",(function(e){return e?b.createElement(U.a,null,b.createElement(G.a,{count:e,standalone:!0,truncatedCountFormatter:le,unreadCountLabel:ue})):null})),g()(u()(e),"_handleFetch",(function(){var t=e.props,n=t.createLocalApiErrorHandler;(0,t.fetchMultiAccountListIfNeeded)().catch(n())})),g()(u()(e),"_handleAddAccount",(function(){var t=e.props,n=t.history;(0,t.scribeAction)(Y(Y({},se),{},{element:"sign_in",action:"click"})),n.push("/account/add")})),g()(u()(e),"_handleSwitchAccount",(function(t,n){return function(){var r=e.props,o=r.createLocalApiErrorHandler,a=r.scribeAction,c=r.switchAccount;e.setState({spinner:!0}),a(Y(Y({},se),{},{element:n?"account_bubble_badged":"account_bubble",action:"click"})),c({user_id:t}).catch((function(t){return e.setState({spinner:!1}),o(T.a)(t)}))}})),g()(u()(e),"_handleLogoutAll",(function(){var t=e.props,n=t.createLocalApiErrorHandler,r=t.logoutAll,o=t.scribeAction;e.setState({spinner:!0}),o(Y(Y({},se),{},{element:"logout_all",action:"click"})),r().catch((function(t){return e.setState({spinner:!1}),n()(t)}))})),e}return c()(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchMultiAccountListIfNeeded)()}},{key:"render",value:function(){var e=this.props,t=e.fetchStatus,n=e.history,r=this.state.spinner;return b.createElement(V.a,null,b.createElement(H.b,{history:n,title:q},b.createElement(R.a,{fetchStatus:r?j.a.LOADING:t,onRequestRetry:this._handleFetch,render:this._render})))}}]),n}(b.Component),fe=J.a.create((function(e){return{iconCheckMark:{color:e.colors.primary,fontSize:"1.2em"},infoText:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.small},whiteBackground:{backgroundColor:e.colors.cellBackground}}}));t.default=Object(M.c)(se)(L(de))},EPsT:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));n("7x/C"),n("OZaJ"),n("DZ+c");var r=n("VrFO"),o=n.n(r),a=n("Y9Ll"),c=n.n(a),i=n("1Pcy"),u=n.n(i),l=n("5Yy7"),s=n.n(l),d=n("N+ot"),f=n.n(d),h=n("AuHH"),m=n.n(h),p=n("KEM+"),g=n.n(p),b=n("ERkP"),y=n("jtO7"),_=n("eb3s");function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var w=function(e){s()(n,e);var t=S(n);function n(e){var r;return o()(this,n),r=t.call(this,e),g()(u()(r),"_handleClick",(function(e){r.setState({showConfirmation:!0})})),g()(u()(r),"_handleCancel",(function(){r.setState({showConfirmation:!1})})),g()(u()(r),"_handleConfirm",(function(){r.setState({showConfirmation:!1}),r.props.onConfirmationSheetConfirm()})),r.state={showConfirmation:!1},r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.confirmationSheetConfirmButtonLabel,r=e.confirmationSheetHeadline,o=e.confirmationSheetText,a=e.label,c=e.confirmationSheetConfirmButtonType,i=e.withBottomBorder;return b.createElement(b.Fragment,null,b.createElement(y.a,{color:t,label:a,onPress:this._handleClick,withBottomBorder:i}),this.state.showConfirmation?b.createElement(_.a,{confirmButtonLabel:n,confirmButtonType:c,headline:r,onCancel:this._handleCancel,onConfirm:this._handleConfirm,text:o}):null)}}]),n}(b.Component);g()(w,"defaultProps",{color:"red"})},U13f:function(e,t,n){"use strict";n.r(t),n.d(t,"MultiAccountLoginScreen",(function(){return x}));n("2G9S"),n("7x/C"),n("OZaJ"),n("DZ+c");var r=n("VrFO"),o=n.n(r),a=n("Y9Ll"),c=n.n(a),i=n("1Pcy"),u=n.n(i),l=n("5Yy7"),s=n.n(l),d=n("N+ot"),f=n.n(d),h=n("AuHH"),m=n.n(h),p=n("KEM+"),g=n.n(p),b=n("ERkP"),y=n("oEGd"),_=n("0KEI"),S=n("hqKg"),w=n("auX9"),v=Object(S.createSelector)(w.f,w.g,w.j,(function(e,t,n){return{errorMessage:e,fetchStatus:t,multiAccountListLength:n.length}})),E={fetchMultiAccountListIfNeeded:w.d,createLocalApiErrorHandler:Object(_.d)("ACCOUNT_SWITCHER_MULTI_ADD"),addAccount:w.a,resetErrorMessages:w.e},C=Object(y.g)(v,E),A=n("7JQg"),k=n("wrlS"),B=n("jHSc"),L=n("3Wr5"),M=n("3XMw"),O=n.n(M),j=n("6oVL"),R=n("5FtR"),H=n("t62R"),P=n("G1WX"),F=n("rHpw"),I=n("XJCT");function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var V=O.a.b8e1d524,D=O.a.j0a8da6e,x=function(e){s()(n,e);var t=T(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),g()(u()(e),"state",{autoSubmit:!1,passwordValue:"",passwordValueSet:!1,usernameValue:"",usernameValueSet:!1}),g()(u()(e),"_render",(function(){var t=e.props,n=t.errorMessage,r=t.multiAccountListLength,o=e.state.autoSubmit,a=k.b.getNumberValue("responsive_web_multiple_account_limit",5);return r&&r>=a?b.createElement(R.a,{to:"/account/switch"}):b.createElement(b.Fragment,null,b.createElement(H.c,{accessibilityRole:"heading",align:"center",size:"large",style:U.heading,weight:"bold"},D),n?b.createElement(H.c,{color:"red",style:U.errorMessage},n):null,b.createElement(j.a,{autoSubmit:o,hideSubmitButton:!1,loginReturnPath:"/account/switch",onSubmit:e._handleSubmit,submitButtonDisabled:e._hasMissingFields(),submitButtonSize:"normalLarge",submitButtonStyle:U.submitButton},b.createElement(I.b,{onChange:e._handleUsernameFieldChange,onSubmitEditing:e._handleSubmitEditing,value:e.state.usernameValue}),b.createElement(I.a,{onChange:e._handlePasswordFieldChange,onSubmitEditing:e._handleSubmitEditing,value:e.state.passwordValue,withForgotPasswordLink:!0})))})),g()(u()(e),"_hasMissingFields",(function(){var t=e.state,n=t.usernameValueSet,r=t.passwordValueSet;return!n||!r})),g()(u()(e),"_testInputTruthy",(function(e){return e&&e.target&&!!e.target.value})),g()(u()(e),"_handleUsernameFieldChange",(function(t){e.setState({usernameValueSet:e._testInputTruthy(t)}),e.setState({usernameValue:t.target.value})})),g()(u()(e),"_handlePasswordFieldChange",(function(t){e.setState({passwordValueSet:e._testInputTruthy(t)}),e.setState({passwordValue:t.target.value})})),g()(u()(e),"_handleSubmit",(function(t){var n=e.props,r=n.addAccount,o=n.createLocalApiErrorHandler;if(!e._hasMissingFields()){var a=e.state,c=a.usernameValue,i=a.passwordValue,u=t.namedItem("ui_metrics");r({username:c,password:i,redirectAfterLogin:"/home",uiMetrics:u?u.value:void 0}).catch(o({}))}})),g()(u()(e),"_handleSubmitEditing",(function(){e._hasMissingFields()||e.setState({autoSubmit:!0})})),g()(u()(e),"_handleFetch",(function(){var t=e.props,n=t.createLocalApiErrorHandler;(0,t.fetchMultiAccountListIfNeeded)().catch(n())})),e}return c()(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchMultiAccountListIfNeeded)()}},{key:"componentWillUnmount",value:function(){(0,this.props.resetErrorMessages)()}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.fetchStatus,r=Object(L.a)().hasMultiAccountCookie;return b.createElement(B.b,{backLocation:"/account/switch",history:t,title:V},r?b.createElement(P.a,{fetchStatus:n,onRequestRetry:this._handleFetch,render:this._render}):this._render())}}]),n}(b.Component),U=F.a.create((function(e){return{submitButton:{marginHorizontal:e.spaces.xSmall},heading:{marginVertical:e.spaces.xLarge},errorMessage:{marginHorizontal:e.spaces.xSmall}}}));t.default=Object(A.c)({page:"account_switcher",section:"login"})(C(x))},jtO7:function(e,t,n){"use strict";n("uFXj");var r=n("97Jx"),o=n.n(r),a=n("m3Bd"),c=n.n(a),i=n("ERkP"),u=n("t62R"),l=n("I4+6"),s=n("cm6r"),d=n("rHpw"),f=n("MWbm"),h=d.a.create((function(e){return{container:{backgroundColor:e.colors.cellBackground},root:{justifyContent:"center",minHeight:e.spaces.xxLarge,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.small},bottomBorder:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:1}}}));t.a=function(e){var t=e.align,n=void 0===t?"center":t,r=e.color,a=e.label,m=e.withBottomBorder,p=void 0===m||m,g=c()(e,["align","color","label","withBottomBorder"]),b=l.a.generate({backgroundColor:d.a.theme.colors.transparent,color:d.a.theme.colors[r],insetFocusRing:!0}),y=[h.root,p&&h.bottomBorder];return i.createElement(f.a,{style:h.container},i.createElement(s.a,o()({},g,{interactiveStyles:b,style:y}),i.createElement(u.c,{align:n,color:r},a)))}}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web-legacy/bundle.MultiAccount.315d8a85.js.map