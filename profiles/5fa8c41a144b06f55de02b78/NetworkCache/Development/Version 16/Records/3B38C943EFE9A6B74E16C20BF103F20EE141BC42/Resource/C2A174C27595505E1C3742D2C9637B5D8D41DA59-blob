(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"/C0/":function(e,t,r){"use strict";r("1t7P"),r("LW0h"),r("jwue"),r("daRM"),r("FtHn"),r("+KXO"),r("+oxZ");var n=r("KEM+"),a=r.n(n),i=r("ERkP"),o=r("Lsrn"),c=r("k/Ka");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c.a)("svg",l(l({},e),{},{style:[o.a.root,e.style],viewBox:"0 0 24 24"}),i.createElement("g",null,i.createElement("path",{d:"M15.644 11.58L10.43 8.26c-.155-.1-.35-.105-.51-.018-.16.088-.26.256-.26.438v6.64c0 .183.1.35.26.438.074.04.157.062.24.062.093 0 .187-.026.27-.078l5.214-3.32c.144-.09.23-.25.23-.42s-.086-.332-.23-.423zM2.5 22.25c-.192 0-.384-.073-.53-.22-.293-.293-.293-.768 0-1.06l5.25-5.25c.293-.294.768-.294 1.06 0s.294.767 0 1.06l-5.25 5.25c-.146.147-.338.22-.53.22zM15.208 9.542c-.192 0-.384-.073-.53-.22-.293-.293-.293-.768 0-1.06L20.97 1.97c.293-.293.768-.293 1.06 0s.294.768 0 1.06l-6.29 6.293c-.148.146-.34.22-.532.22z"}),i.createElement("path",{d:"M3.815 17.062c-.27 0-.53-.146-.664-.4C2.4 15.236 2 13.623 2 12 2 6.486 6.486 2 12 2c1.592 0 3.176.384 4.582 1.11.368.188.512.64.322 1.01-.19.368-.643.515-1.01.32-1.21-.624-2.52-.94-3.894-.94-4.687 0-8.5 3.813-8.5 8.5 0 1.38.338 2.75.978 3.96.193.367.053.82-.313 1.015-.112.06-.232.087-.35.087zM12 22c-1.59 0-3.175-.384-4.58-1.11-.37-.188-.513-.64-.323-1.01.19-.366.644-.514 1.01-.32 1.21.624 2.52.94 3.893.94 4.687 0 8.5-3.813 8.5-8.5 0-1.364-.33-2.72-.957-3.922-.19-.367-.05-.82.318-1.012.37-.19.82-.05 1.013.318C21.61 8.8 22 10.396 22 12c0 5.514-4.486 10-10 10z"})))};u.metadata={width:24,height:24},t.a=u},"7sPD":function(e,t,r){"use strict";r.r(t),r.d(t,"LiveEventScreen",(function(){return ke}));r("1t7P"),r("jQ/y"),r("LW0h"),r("hBpG"),r("jwue"),r("daRM"),r("FtHn"),r("+KXO"),r("7x/C"),r("OZaJ"),r("DZ+c"),r("+oxZ");var n=r("VrFO"),a=r.n(n),i=r("Y9Ll"),o=r.n(i),c=r("1Pcy"),s=r.n(c),l=r("5Yy7"),u=r.n(l),d=r("N+ot"),p=r.n(d),f=r("AuHH"),m=r.n(f),h=r("KEM+"),y=r.n(h),v=r("ERkP"),b=r("k49u"),g=r("zI2C"),_=r("v6aA"),O=r("es0u"),P=(r("2G9S"),r("5BYb"),r("ho0z"),r("KqXw"),r("WNMA"),r("MvUL"),r("zh9S")),S=r("oEGd"),E=r("0KEI"),k=r("hqKg"),C=r("kGix"),I=r("RrqW"),w=function(e,t,r){return{isFullPageInterstitial:e,type:t,screenName:r}},D=function(e){var t=e.isBlockedBy,r=void 0!==t&&t,n=e.isBlocking,a=void 0!==n&&n,i=e.isSensitive,o=void 0!==i&&i,c=e.screenName,s=[];return r?s.push(w(!0,I.a.BLOCKED_BY,c)):(a&&s.push(w(!0,I.a.BLOCKED,c)),o&&s.push(w(!1,I.a.SENSITIVE))),s.length?s:void 0},j=r("lPpt"),R=r("tn7R"),x=r("G6rE"),A=r("zlxh");function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M=function(e,t){return t.match.params.eventId},N=function(e){return L({},e?{loggedInUserAvatarURI:e.profile_image_url_https,loggedInUserName:e.name}:null)},B=Object(k.createSelector)(M,(function(e,t){return j.a.select(e,M(0,t))}),(function(e,t){var r=((j.a.selectErrors(e)||{})[M(0,t)]||{}).errors,n=(void 0===r?[]:r).find((function(e){return e.code===b.a.BlockedUserError}));return n&&n.message&&n.message.replace("@","")}),(function(e,t){return j.a.selectFetchStatus(e,M(0,t))}),(function(e,t){var r;return[].concat(null===(r=t.location.query)||void 0===r?void 0:r.timeline)[0]}),(function(e,t){var r;return null===(r=t.location.state)||void 0===r?void 0:r.promotedCardState}),x.e.selectLoggedInUser,(function(e,t){return j.a.selectIsTOO(e,M(0,t))}),(function(e,t,r,n,a,i,o,c){var s=function(e,t,r,n){return L({liveEventDetails:{eventId:e},fetchStatus:t?C.a.LOADED:r,refreshStatus:r,timelineDetails:{composeDetails:{defaultText:""},eventId:e,timelineId:A.b,timelineIndex:0,timelineLinks:[]},interstitialOrderToDisplay:t?D({isBlockedBy:!0,screenName:t}):void 0,isTOO:!1,isUserSuspended:!1},N(n))}(e,r,n,o);if(!t)return s;var l=Object(A.o)(t),u=Object(A.h)(t,l,i),d=Object(A.k)(e,t),p=Object(A.n)(t),f=Object(A.q)(e,t,a),m=function(e){var t=e||{},r=t.liveEventDetails,n=void 0===r?{}:r,a=t.users,i=n.attribution_user_id;return!!i&&!Object(R.a)(a||{}).some((function(e){return e.id_str===i}))}(t),h=d.author||{},y=h.blocking,v=h.blocked_by,b=h.screen_name,g=t.liveEventDetails.sensitive,_=D({isBlockedBy:v,isBlocking:y,isSensitive:g,screenName:b});return L(L(L({},s),N(o)),{},{liveEventDetails:d,fetchStatus:t?C.a.LOADED:n,refreshStatus:n,interstitialOrderToDisplay:_,isTOO:c,isUserSuspended:m,serverPollingIntervalSeconds:p,scoreData:l,carousel:u.length>0?u:void 0,timelineDetails:f})})),F={createLocalApiErrorHandler:Object(E.d)("LIVE_EVENT_SCREEN"),fetchLiveEvent:j.a.fetchOne,googleAnalyticsPageView:P.a,remindMeButtonSubscribe:j.a.subscribe,remindMeButtonUnsubscribe:j.a.unSubscribe,scribeAction:P.c,scribePageImpression:P.d},U=Object(S.g)(B,F),H=(r("tVqn"),r("m3Bd")),V=r.n(H),z=r("3XMw"),W=r.n(z),q=r("I6Uj"),G=W.a.i8d6a27e,Y=W.a.hbae0a4e,K={page:"live_event_timeline",section:"live_event_header"},X=function(e){var t=e.author,r=e.hashtag,n=e.title,a=n&&n.trim()||"";return Z(t)?J(t.screen_name,r,a):Q(r,a)},Z=function(e){return!!e},J=function(e,t,r){return t?G({author:e,timelineHashtag:t,title:r}):Y({author:e,title:r})},Q=function(e,t){return e?function(e){var t=e.title,r=e.timelineHashtag;return"".concat(t," ").concat(r)}({timelineHashtag:e,title:t}):function(e){var t=e.title;return"".concat(t)}({title:t})},$=function(e){var t=e.id,r=V()(e,["id"]),n=Object(A.i)(t),a=X(r);return v.createElement(q.a,{scribeNamespace:K,title:a,url:n})},ee=r("wrlS"),te=r("LVU8");function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae=function(e){return{items:[ie(e)]}},ie=function(e){var t=e.liveEventDetails,r=e.timelineTabPosition,n=e.selectedTimeline,a=e.mediaDetails,i=e.includeTimelineSource,o=void 0!==i&&i,c=e.carouselLength,s=e.carouselPosition,l=e.tilePosition,u=t.eventId,d=t.remindMeSubscription,p=(a||{}).broadcastId,f=n||{},m=f.timelineId,h=f.timelineSourceId,y=f.timelineSourceType,v=d||{},b=v.toggle_visible,g=v.subscribed,_=v.notification_id,O=ne({},null),P=ne({},null),S=ne({},null);return u&&(P.host_event_id=u),m&&(P.timeline_id=m),o&&(P.timeline_source_id=h,P.timeline_source_type=y),r&&(P.timeline_tab_position=r),c&&(P.carousel_count=c,P.carousel_position=s),l&&(P.tile_position=l),d&&(P.remind_me_notification_id=_,P.remind_me_subscribed=g,P.remind_me_toggle_visible=b),p&&(S.host_broadcast_id=p),Object.keys(P).length>0&&(O.live_video_event_details=P),Object.keys(S).length>0&&(O.live_broadcast_details=S),O},oe=r("KdqI"),ce=r("XvPy"),se=r("gUG0"),le=r("Vgm9"),ue=r("VTxf"),de=r("rJoH"),pe=r("yoO3"),fe=r("EskI"),me=r("VS6U"),he=r("GSsg"),ye=r("MWbm"),ve=r("t62R"),be=r("rHpw"),ge=r("7JQg"),_e=r("zrc3"),Oe=r("oQhu");function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var ke=function(e){u()(r,e);var t=Ee(r);function r(e,n){var i;return a()(this,r),i=t.call(this,e,n),y()(s()(i),"_carouselIndexReceived",!1),y()(s()(i),"_defaultPollingInterval",30),y()(s()(i),"_minPollingInterval",10),y()(s()(i),"_newSegmentedControlDesign",!1),y()(s()(i),"_shouldHonourServerRefresh",!1),y()(s()(i),"state",{isPlayerFullscreen:!1,selectedCarouselItemId:void 0}),y()(s()(i),"_renderPrimaryContent",(function(e){var t=e.isWide,r=i.props,n=r.carousel,a=r.fetchStatus,o=r.history,c=r.isTOO,s=r.interstitialOrderToDisplay,l=r.liveEventDetails,u=r.refreshStatus,d=r.remindMeButtonSubscribe,p=r.remindMeButtonUnsubscribe,f=r.scoreData,m=r.timelineDetails,h=i.state.isPlayerFullscreen,y=i._getScribeProviderMetadata(n,l,m,i._getSelectedItemIndex(),i._getSelectedItem());return v.createElement(ge.b,{data:y},v.createElement(pe.a,null,v.createElement(ce.a,{carousel:n,fetchStatus:a,history:o,interstitialOrderToDisplay:s,isPlayerFullscreen:h,isTOO:c,isWide:t,liveEventDetails:l,onChildScribeAction:i._handleChildScribeAction,onFetch:i._handleInitialFetch,onFullscreenChange:i._handleFullscreenChange,onSelectedCarouselItemChange:i._handleSelectedCarouselItemChanged,refreshStatus:u,remindMeButtonSubscribe:d,remindMeButtonUnsubscribe:p,scoreData:f,startTimer:i._startTimer,timelineDetails:m,withFloatingComposeButton:!0})))})),y()(s()(i),"_getSelectedItem",(function(){var e=i.props.carousel,t=i.state.selectedCarouselItemId;return Object(A.p)(e,t)})),y()(s()(i),"_getSelectedItemIndex",(function(){var e=i.props.carousel,t=i._getSelectedItem();return e&&t?Object(_e.a)(e,(function(e){return e.id===t.id})):void 0})),y()(s()(i),"_getScribeProviderMetadata",Object(Oe.a)((function(e,t,r,n,a){var i=r.timelineId,o=r.timelineIndex,c=r.timelineLinks,s=(a||{}).mediaDetails,l=c&&c.find((function(e){return e.timelineId===i}));return Se({event_id:t.eventId},ae({carouselLength:e&&e.length,carouselPosition:n,liveEventDetails:t,mediaDetails:s,timelineTabPosition:o,selectedTimeline:l}))}))),y()(s()(i),"_handleInitialFetch",(function(){i._fetchLiveEvent()})),y()(s()(i),"_fetchLiveEvent",(function(){var e=i.props,t=e.createLocalApiErrorHandler,r=e.liveEventDetails.eventId;return(0,e.fetchLiveEvent)(r).catch(t(y()({},b.a.GenericNotFound,{customAction:te.c})))})),y()(s()(i),"_onTimerTick",(function(e){return function(){i._fetchLiveEvent(),e.fetchTop({})}})),y()(s()(i),"_startTimer",(function(e){i._stopTimer(),e&&(i._timer=new he.a(i._onTimerTick(e),{interval:i._getPollingIntervalMs()}),i._timer.start())})),y()(s()(i),"_stopTimer",(function(){i._timer&&i._timer.stop(),i._timer=void 0})),y()(s()(i),"_handleFullscreenChange",(function(e){var t=e.isPlayerFullscreen;i.setState({isPlayerFullscreen:t})})),y()(s()(i),"_handleOverflowButtonClickScribe",(function(){return i._scribeActionWithEventItems({section:"live_event_header",element:"more",action:"click"})})),y()(s()(i),"_handleSelectedCarouselItemChanged",(function(e){i.setState({selectedCarouselItemId:e.id})})),y()(s()(i),"_handleChildScribeAction",(function(e,t){return i._scribeActionWithEventItems(e,t)})),y()(s()(i),"_scribeTimelineImpression",(function(){var e=i.props,t=e.carousel,r=e.liveEventDetails,n=e.timelineDetails,a=n.timelineId,o=n.timelineLinks,c=e.scribeAction,s=e.scribeNamespace,l=i._getSelectedItemIndex(),u=(i._getSelectedItem()||{}).mediaDetails,d=o.find((function(e){return e&&e.timelineId===a}));d&&c(Se(Se({},s),{},{action:"impression"}),ae({liveEventDetails:r,includeTimelineSource:!0,mediaDetails:u,selectedTimeline:d,carouselLength:t&&t.length,carouselPosition:l}))})),y()(s()(i),"_maybeSetWindowsTimeline",(function(){var e=i.props,t=e.fetchStatus,r=e.liveEventDetails,n=r.title,a=r.description,o=r.eventId;if(t===C.a.LOADED&&Object(oe.e)()){var c=(i._getSelectedItem()||{}).slate;Object(se.a)().then((function(e){e.default.timeline.setActivity({id:"event-".concat(o),description:a,image:c&&c.image&&c.image.url,title:n,uri:"twitter://events/timeline/".concat(o)})}))}})),i._defaultPollingInterval=ee.b.getNumberValue("live_event_timeline_default_refresh_rate_interval_seconds",30),i._minPollingInterval=ee.b.getNumberValue("live_event_timeline_minimum_refresh_rate_interval_seconds",10),i._shouldHonourServerRefresh=ee.b.isTrue("live_event_timeline_server_controlled_refresh_rate_enabled"),i}return o()(r,[{key:"componentDidMount",value:function(){this._handleInitialFetch(),this._maybeSetWindowsTimeline()}},{key:"componentWillUnmount",value:function(){Object(oe.e)()&&Object(se.a)().then((function(e){e.default.timeline.clearActivity()})),this._stopTimer()}},{key:"componentDidUpdate",value:function(e,t){var r=this.props,n=r.liveEventDetails.eventId,a=r.timelineDetails.timelineId,i=e.liveEventDetails.eventId,o=e.timelineDetails.timelineId;e.fetchStatus!==C.a.LOADED&&this._maybeSetWindowsTimeline(),i!==n?(this._stopTimer(),this._handleInitialFetch()):o!==a&&(this._scribeTimelineTabChange(),this._scribeTimelineImpression())}},{key:"render",value:function(){var e=this.props,t=e.history,r=e.isUserSuspended,n=e.liveEventDetails,a=n.shortTitle,i=n.title,o=n.description,c=e.timelineDetails,s=c.composeDetails,l=c.eventId,u=this.state.isPlayerFullscreen;if(r)return v.createElement(ue.a,null);var d=i||A.d,p=this._renderScoreCard(),f=a?v.createElement(ve.c,{withHashflags:!0},a):A.e,m=v.createElement(O.a,{withWhoToFollow:!1},p),h=this.context.loggedInUserId&&!u?this._renderRightButtons():void 0,y=l&&"twitter://events/timeline/".concat(l),b=l&&"https://twitter.com/i/events/".concat(l||"");return v.createElement(v.Fragment,null,v.createElement(de.a,{canonical:b,description:o,title:d,type:"article"}),v.createElement(g.a,{deepLink:y}),v.createElement(me.a,{backLocation:"/",composeOptions:s,documentTitle:d,headerless:u,history:t,primaryContent:this._renderPrimaryContent,rightControl:h,sidebarContent:m,title:f}))}},{key:"_renderRightButtons",value:function(){var e=this.props,t=e.isTOO,r=e.liveEventDetails,n=r.author,a=r.eventId,i=r.title,o=e.scribeNamespace,c=e.timelineDetails.hashtag;return v.createElement(ye.a,{style:Ce.rightButtonContainer},v.createElement($,{author:n,hashtag:c,id:a,title:i}),t?null:v.createElement(le.a,{author:n,eventId:a,onPress:this._handleOverflowButtonClickScribe,redirectOnDelete:n?"/".concat(n.screen_name,"/moments"):void 0,scribeNamespace:Se(Se({},o),{},{section:"live_event_header"}),style:Ce.overflowButton,title:i}))}},{key:"_renderScoreCard",value:function(){var e=this.props.scoreData;return e?v.createElement(fe.a,{scoreData:e,withContainer:!0,withHeader:!0}):null}},{key:"_getPollingIntervalMs",value:function(){var e=this.props.serverPollingIntervalSeconds,t=void 0===e?0:e;return 1e3*(this._shouldHonourServerRefresh?Math.max(t,this._minPollingInterval):this._defaultPollingInterval)}},{key:"_scribeActionWithEventItems",value:function(e,t){var r=this.props,n=r.carousel,a=r.liveEventDetails,i=r.scribeAction,o=r.scribeNamespace,c=r.timelineDetails,s=c.timelineId,l=c.timelineLinks,u=this._getSelectedItemIndex(),d=(this._getSelectedItem()||{}).mediaDetails,p=l.find((function(e){return e.timelineId===s}));i(Se(Se({},o),e),ae(Se({liveEventDetails:a,mediaDetails:d,selectedTimeline:p,carouselLength:n&&n.length,carouselPosition:u},t)))}},{key:"_scribeTimelineTabChange",value:function(){var e=this.props,t=e.scribeAction,r=e.scribeNamespace,n=e.timelineDetails,a=n.timelineId,i=n.timelineIndex,o=n.timelineLinks,c=e.liveEventDetails,s=(this._getSelectedItem()||{}).mediaDetails,l=o&&o.find((function(e){return e.timelineId===a}));t(Se(Se({},r),{},{component:a,element:"tab",action:"selected"}),ae({liveEventDetails:c,timelineTabPosition:i,mediaDetails:s,selectedTimeline:l,includeTimelineSource:!0}))}}]),r}(v.Component);y()(ke,"contextType",_.a);var Ce=be.a.create((function(e){return{rightButtonContainer:{flexDirection:"row"},overflowButton:{marginStart:e.spaces.xSmall},segmentedControl:{borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor}}}));t.default=Object(ge.c)({page:"live_event_timeline"})(U(ke))},"8FZA":function(e,t,r){"use strict";r.r(t),r.d(t,"BroadcastScreen",(function(){return we}));r("2G9S"),r("ho0z"),r("7x/C"),r("Blm6"),r("OZaJ"),r("DZ+c"),r("tVqn"),r("uFXj");var n=r("97Jx"),a=r.n(n),i=r("VrFO"),o=r.n(i),c=r("Y9Ll"),s=r.n(c),l=r("1Pcy"),u=r.n(l),d=r("5Yy7"),p=r.n(d),f=r("N+ot"),m=r.n(f),h=r("AuHH"),y=r.n(h),v=r("KEM+"),b=r.n(v),g=r("ERkP"),_=r("k49u"),O="NOT_STARTED",P="RUNNING",S="TIMED_OUT",E="ENDED",k=r("rHpw"),C=r("Zl35"),I=r("pWcu");function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var D=function(e){p()(r,e);var t=w(r);function r(e){var n;return o()(this,r),n=t.call(this,e),b()(u()(n),"state",{guestsState:null,playerState:null}),b()(u()(n),"_init",(function(e){n._unsubscribeCall=e.subscribe((function(e,t){return n.setState({playerState:e,guestsState:t})}))})),n._init(e.playerApi),n}return s()(r,[{key:"componentWillUnmount",value:function(){"function"==typeof this._unsubscribeCall&&this._unsubscribeCall()}},{key:"render",value:function(){var e=this.props,t=e.playerApi,r=e.containerRef,n=this.state,a=n.guestsState,i=n.playerState,o={aspectRatio:k.a.theme.aspectRatios.landscape,playerApi:t,containerRef:r,guestsState:a,playerState:i};return g.createElement(C.b.Context.Provider,{value:o},g.createElement(C.b.PeriodicContext.Provider,{value:o},g.createElement(I.a,{containerRef:r,guestsState:a,playerApi:t,playerState:i})))}}]),r}(g.Component),j=r("es0u"),R=(r("1t7P"),r("LW0h"),r("jwue"),r("daRM"),r("FtHn"),r("+KXO"),r("KqXw"),r("WNMA"),r("+oxZ"),r("zh9S")),x=r("ddV6"),A=r.n(x),T=r("3zvM"),L=r("lMB6");function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var N=Object(T.e)({namespace:"broadcasts",fetchOneContext:"FETCH_BROADCAST",fetchOneEndpoint:function(e){return e.Broadcasts.fetchBroadcast},fetchOneParams:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({ids:[A()(e,1)[0]]},t)}}),B=L.a.register(N),F=r("oEGd"),U=r("0KEI"),H=r("hqKg"),V=r("kGix"),z=r("G6rE");function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G=function(e,t){return t.match.params.broadcastId},Y=function(e,t){return B.select(e,G(0,t))},K=Object(H.createSelector)(G,Y,(function(e,t){var r=Y(e,t);return r&&r.twitter_user_id?z.e.select(e,r.twitter_user_id):void 0}),(function(e,t){return B.selectFetchStatus(e,G(0,t))}),(function(e,t){return t.location.state?t.location.state.promotedContent:void 0}),(function(e,t,r,n,a){var i=t?V.a.LOADED:n;return q(q({broadcastId:e},t&&{broadcast:t}),{},{twitterBroadcaster:r,fetchStatus:i,promotedContent:a})})),X={createLocalApiErrorHandler:Object(U.d)("BROADCAST_SCREEN"),fetchBroadcast:B.fetchOne,fetchUserIfNeeded:z.e.fetchOneIfNeeded,scribeAction:R.c,scribePageImpression:R.d,googleAnalyticsPageView:R.a},Z=Object(F.g)(K,X),J=r("7JQg"),Q=r("v//M"),$=r("LVU8"),ee=r("zlxh"),te=r("eXeu"),re=r("VS6U"),ne=r("B5iK"),ae=r("pynj"),ie=r("Modb"),oe=r("lklz"),ce=r("MWbm"),se=r("t62R"),le=r("Wms4"),ue=r("jV+4"),de=r("TIdA"),pe=r("A91F"),fe=r("3XMw"),me=r.n(fe);function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var ye={url:"https://pbs.twimg.com/lex/placeholder_live_nomargin.png",width:1920,height:1080},ve={objectFitVideo:"contain"},be=function(e){return e&&e.trim().length>0},ge=me.a.ac4c73d8,_e=me.a.e39b368e,Oe=me.a.f2382014,Pe=me.a.e3aac82a,Se=me.a.hd0bc1eb,Ee=me.a.bea1f26a,ke=me.a.jceadc3e,Ce=me.a.d980e29e,Ie=me.a.fc209bb7,we=function(e){p()(r,e);var t=he(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"_getTitle",(function(){var t=e.props.broadcast;if(t){var r=t.status,n=t.state;if(r)return r;var a=e._getName(t);if(a)switch(n){case P:return Se({name:a});case E:case S:return Ee({name:a});case O:default:return ke}}return ke})),b()(u()(e),"_getName",(function(e){var t=e.twitter_username,r=e.user_display_name;return be(r)?r:t&&be(t)?"@".concat(t):void 0})),b()(u()(e),"_isLive",(function(){return e.props.broadcast&&"RUNNING"===e.props.broadcast.state})),b()(u()(e),"_renderPrimaryContent",(function(){var t=e.props.fetchStatus;return g.createElement(Q.a,{accessibilityLabel:Pe,fetchStatus:t,onRequestRetry:e._handleFetchBroadcast,render:e._render})})),b()(u()(e),"_render",(function(){var t=e._getTitle();return g.createElement(g.Fragment,null,e._renderMedia(),g.createElement(ce.a,{style:De.header},e._renderUserName(),g.createElement(ce.a,{style:De.title},g.createElement(se.c,{size:"large",style:De.titleText,weight:"bold"},t),e._isLive()?g.createElement(le.a,{type:"live"},Oe):null),e._renderRelatedEvent()))})),b()(u()(e),"_renderUserName",(function(){var t=e.props,r=t.twitterBroadcaster,n=t.broadcast;return r?g.createElement(ce.a,{style:De.userNameWrapper},g.createElement(ae.a,{screenName:r.screen_name},g.createElement(ue.a,{isProtected:r.protected,isVerified:r.verified,name:r.name,profileImageUrl:r.profile_image_url_https,screenName:r.screen_name,translatorType:"none"===r.translator_type?void 0:r.translator_type,withLink:!0,withScreenName:!0}))):n&&n.user_display_name?g.createElement(ce.a,{style:De.userNameWrapper},g.createElement(ue.a,{name:n.user_display_name,profileImageUrl:n.profile_image_url})):void 0})),b()(u()(e),"_scribePageImpression",(function(){var t=e.props,r=t.scribePageImpression,n=t.googleAnalyticsPageView,a=t.scribeNamespace,i=t.broadcastId;i&&r(a,{items:[{live_broadcast_details:{target_broadcast_id:i}}]}),n(a)})),b()(u()(e),"_renderOverlayUI",(function(e,t){return e?g.createElement(D,{containerRef:t,playerApi:e}):null})),b()(u()(e),"_fetchTwitterBroadcaster",(function(){var t=e.props,r=t.fetchUserIfNeeded,n=t.broadcast,a=n&&n.twitter_user_id;a&&r(a)})),b()(u()(e),"_startTimer",(function(){e._stopTimer(),e._timer=new ne.b(3e4).interval(e._fetchUpdates),e._timer.start()})),b()(u()(e),"_stopTimer",(function(){e._timer&&e._timer.stop(),e._timer=void 0})),b()(u()(e),"_handleFetchBroadcast",(function(){var t=e.props,r=t.broadcast,n=t.broadcastId,a=t.createLocalApiErrorHandler,i=t.fetchBroadcast;n&&i(n,{broadcastVersionMap:b()({},n,null==r?void 0:r.version)}).catch(a(b()({},_.a.GenericNotFound,{customAction:$.c})))})),b()(u()(e),"_fetchUpdates",(function(){e._handleFetchBroadcast()})),e}return s()(r,[{key:"componentWillUnmount",value:function(){this._stopTimer()}},{key:"componentDidMount",value:function(){this._handleFetchBroadcast(),this._scribePageImpression()}},{key:"componentDidUpdate",value:function(e){e.broadcastId!==this.props.broadcastId&&this._handleFetchBroadcast(),this.props.broadcast&&(e.broadcast&&e.broadcast.broadcast_id)!==(this.props.broadcast&&this.props.broadcast.broadcast_id)&&(this._startTimer(),this._fetchTwitterBroadcaster())}},{key:"render",value:function(){var e=this.props.history,t=this._getTitle();return g.createElement(re.a,{backLocation:"/",documentTitle:t,history:e,primaryContent:this._renderPrimaryContent,sidebarContent:g.createElement(j.a,null),title:_e})}},{key:"_renderMedia",value:function(){var e=this.props.broadcast;return e&&e.state===O?this._renderPreLiveSlate():this._renderPlayer()}},{key:"_renderStartDateLabel",value:function(){var e=this.props.broadcast,t=e&&e.scheduled_start_ms?new Date(parseInt(e.scheduled_start_ms,10)):void 0,r=t?Ce({date:Ie(t)}):void 0;return r?g.createElement(ce.a,{style:De.labelOverlay},g.createElement(le.a,null,r)):null}},{key:"_renderPreLiveSlate",value:function(){var e=this.props.broadcast,t=e&&e.pre_live_slate_url?{url:e.pre_live_slate_url,width:600,height:337}:ye;return g.createElement(ce.a,null,g.createElement(de.a,{accessibilityLabel:ge,aspectMode:pe.a.exact(k.a.theme.aspectRatios.landscape),image:t,previewMode:!1}),this._renderStartDateLabel())}},{key:"_renderPlayer",value:function(){var e=this.props,t=e.broadcastId,r=e.broadcast,n=e.promotedContent,i=r&&{url:r.image_url,width:r.width,height:r.height},o=r&&r.media_id;if(!(t&&i&&o))return null;var c=this.props.location.query.t,s="string"==typeof c?c:void 0,l=r&&Object(ee.m)(r.image_url_small,r.image_url_medium,i),u=Object(te.d)({useLegacyPlayer:!1})?null:{customOverlay:this._renderOverlayUI,useLegacyPlayer:!0,showControls:!1};return g.createElement(ce.a,{style:[De.card]},g.createElement(ie.a,a()({accessibilityLabel:ge,aspectRatio:16/9,customVariants:l,displayOptions:ve,includeBroadcastEventAssociation:!0,poster:i,promotedContent:n,source:{videoId:oe.b.forBroadcast(t),contentId:o},timecode:s,videoType:"video"},u)))}},{key:"_renderRelatedEvent",value:function(){var e=this.props.broadcast,t=e&&e.liveEvents&&e.liveEvents[0]||{},r=t.id,n=t.title;if(!r||!n)return null;var a="/i/events/".concat(r),i=g.createElement(se.c,{color:"primary",link:a},n);return g.createElement(se.c,{style:De.relatedEvent},g.createElement(me.a.I18NFormatMessage,{$i18n:"c43d1678"},i))}}]),r}(g.Component),De=k.a.create((function(e){return{card:{backgroundColor:e.colors.faintGray,overflow:"hidden"},header:{flexDirection:"column",justifyContent:"center",paddingVertical:e.spaces.medium,paddingHorizontal:e.spaces.xSmall,borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},labelOverlay:{position:"absolute",bottom:e.spaces.xSmall,left:e.spaces.xSmall},title:{alignItems:"center",flexDirection:"row",flexWrap:"nowrap"},relatedEvent:{flexBasis:"100%"},userNameWrapper:{marginBottom:e.spaces.xSmall,alignItems:"flex-start"},titleText:{marginRight:e.spaces.xxSmall}}}));t.default=Object(J.c)({page:"broadcast"})(Z(we))},A53h:function(e,t,r){"use strict";r("1t7P"),r("LW0h"),r("jwue"),r("daRM"),r("FtHn"),r("+KXO"),r("+oxZ");var n=r("KEM+"),a=r.n(n),i=r("ERkP"),o=r("Lsrn"),c=r("k/Ka");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c.a)("svg",l(l({},e),{},{style:[o.a.root,e.style],viewBox:"0 0 24 24"}),i.createElement("g",null,i.createElement("path",{d:"M20.654 12l3.032-3.032c.293-.293.293-.768 0-1.06s-.768-.294-1.06 0l-3.033 3.03-3.032-3.03c-.292-.294-.767-.294-1.06 0s-.293.767 0 1.06L18.533 12 15.5 15.032c-.292.293-.292.768 0 1.06.147.147.34.22.53.22s.385-.072.53-.22l3.033-3.03 3.032 3.03c.146.147.338.22.53.22s.384-.072.53-.22c.293-.292.293-.767 0-1.06L20.655 12zm-8.401 10.75c-.166 0-.33-.055-.466-.162L4.74 17H2.254c-1.24 0-2.25-1.01-2.25-2.25v-5.5C.003 8.01 1.013 7 2.253 7H4.74l7.047-5.588c.225-.18.533-.215.792-.087.258.125.423.387.423.675v20c0 .288-.165.55-.424.675-.104.05-.216.075-.327.075zm-10-14.25c-.413 0-.75.337-.75.75v5.5c0 .413.337.75.75.75h2.75c.17 0 .333.058.466.162l6.033 4.786V3.552L5.47 8.338c-.134.104-.298.162-.467.162h-2.75z"})))};u.metadata={width:24,height:24},t.a=u},EskI:function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));r("7xRU"),r("z84I"),r("ho0z"),r("7x/C"),r("OZaJ"),r("KqXw"),r("DZ+c"),r("Ysgh"),r("uFXj");var n=r("VrFO"),a=r.n(n),i=r("Y9Ll"),o=r.n(i),c=r("5Yy7"),s=r.n(c),l=r("N+ot"),u=r.n(l),d=r("AuHH"),p=r.n(d),f=r("ERkP"),m=r("3XMw"),h=r.n(m),y=(r("yH/f"),Object.freeze({BROADCAST_MEDIA_TYPE:"broadcast",VIDEO_MEDIA_TYPE:"video"}),Object.freeze({COMPLETED:"COMPLETED",DELAYED:"DELAYED",LIVE:"LIVE",UPCOMING:"UPCOMING"})),v="scorecard",b=r("6vad"),g=r("t62R"),_=r("rHpw"),O=(r("aWzz"),r("U+bB")),P=r("MWbm");function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p()(e);if(t){var a=p()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u()(this,r)}}var E=h.a.eaaca5db,k=function(e){var t=e.id,r=void 0===t?"":t,n=e.status,a=e.isLive,i="44"===r.split(":")[0],o=n===y.UPCOMING||n===y.DELAYED;return i&&a||o},C=function(e){s()(r,e);var t=S(r);function r(){return a()(this,r),t.apply(this,arguments)}return o()(r,[{key:"render",value:function(){var e=function(e){var t=e.moments;if(t){var r=t.id,n=t.participant_scores,a=t.winner_id,i=t.progress_strings,o=t.status,c=o===y.LIVE;return{isLive:c,progressStrings:k({id:r,status:o,isLive:c})?i.join(" "):i[0],participantScores:n,winnerId:a}}}(this.props.scoreData);return e?this._renderScoreCardWithHeader(e):null}},{key:"_renderScoreCardWithHeader",value:function(e){var t=this.props.withHeader;return f.createElement(f.Fragment,null,t?f.createElement(b.a,{text:E,withBottomBorder:!0}):null,this._renderScoresAndMatchStatus(e))}},{key:"_renderScoresAndMatchStatus",value:function(e){var t=this,r=this.props.withContainer,n=e.isLive,a=e.participantScores,i=e.progressStrings,o=e.winnerId,c=a.map((function(e){return t._renderTeamRow(e,o,n)}));return f.createElement(P.a,{style:[I.teamDisplay,r&&I.container]},f.createElement(P.a,{style:I.teamRows},c),f.createElement(g.c,{style:I.matchStatusText},i))}},{key:"_renderTeamRow",value:function(e,t,r){var n=e.participant,a=n.name,i=n.media,o=n.id,c=e.score,s=o===t,l=r||s?"bold":"normal";return f.createElement(P.a,{key:o,style:I.teamRow,testID:v},f.createElement(O.a,{source:i.url,style:I.teamLogo}),f.createElement(g.c,{align:"left",numberOfLines:1,style:I.teamName},a),f.createElement(g.c,{style:I.teamScore,weight:l},c),f.createElement(P.a,{style:[I.winnerContainer,s&&I.winner]}))}}]),r}(f.Component),I=_.a.create((function(e){return{container:{margin:e.spaces.xSmall},teamDisplay:{alignItems:"center",flexDirection:"row",justifyContent:"center",marginTop:e.spaces.xSmall},teamRows:{flexGrow:1,flexShrink:1,borderRightWidth:1,borderRightStyle:"solid",borderRightColor:e.colors.lightGray},teamRow:{alignItems:"center",flexDirection:"row",justifyContent:"flex-start",marginBottom:e.spaces.xxSmall,marginTop:e.spaces.xxSmall},teamLogo:{borderRadius:e.borderRadii.small,marginRight:e.spaces.xSmall,width:e.spaces.medium,height:e.spaces.medium},teamName:{flexGrow:1,flexShrink:1},teamScore:{flexShrink:0,marginLeft:e.spaces.xSmall},winnerContainer:{width:e.spaces.xSmall},winner:{borderBottomWidth:4,borderBottomColor:"transparent",borderBottomStyle:"solid",borderRightWidth:5,borderRightStyle:"solid",borderRightColor:e.colors.text,borderTopWidth:4,borderTopStyle:"solid",borderTopColor:"transparent"},matchStatusText:{minWidth:"calc(4.5 * ".concat(e.spaces.medium,")"),paddingLeft:e.spaces.xSmall}}}))},GSsg:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("yH/f");var n=r("VrFO"),a=r.n(n),i=r("Y9Ll"),o=r.n(i),c=r("B5iK"),s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.freeze({});a()(this,e);var n=r.interval,i=void 0===n?6e4:n,o=r.burstInterval,s=void 0===o?3e3:o,l=r.burstDuration,u=void 0===l?3e5:l;this.pollTimer=new c.b(i).interval(t),this.burstTimer=new c.a(this.pollTimer,s,u)}return o()(e,[{key:"start",value:function(e){return this.pollTimer.start(),e&&this.burstTimer.requestBurst(),this}},{key:"stop",value:function(){return this.burstTimer.stopBurst(),this.pollTimer.stop(),this}},{key:"restart",value:function(){return this.stop(),this.start(),this}}]),e}()},I6Uj:function(e,t,r){"use strict";r("1t7P"),r("jQ/y"),r("2G9S"),r("LW0h"),r("jwue"),r("daRM"),r("FtHn"),r("+KXO"),r("7x/C"),r("OZaJ"),r("DZ+c"),r("+oxZ");var n=r("VrFO"),a=r.n(n),i=r("Y9Ll"),o=r.n(i),c=r("1Pcy"),s=r.n(c),l=r("5Yy7"),u=r.n(l),d=r("N+ot"),p=r.n(d),f=r("AuHH"),m=r.n(f),h=r("KEM+"),y=r.n(h),v=r("ERkP"),b=r("CaKu"),g=r("1YZw"),_=r("rxPX"),O=Object(_.a)().propsFromActions((function(){return{addToast:g.b}})).withAnalytics({element:"share"}),P=r("3XMw"),S=r.n(P),E="share-button",k="share-by-tweet",C=r("TnY3"),I=r("mjJ+"),w=r("fn9Y"),D=r("/yvb"),j=r("rHpw"),R=(r("lTEL"),r("87if"),r("kYxP"),r("Cm4o"),function(){return void 0!==window.navigator.share}),x=function(e){var t=new URL(e,"https://twitter.com");return t.searchParams.has("s")||t.searchParams.set("s","20"),t.href},A=r("I/9y"),T=r("SOvA"),L=r("jwTb");function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var F=S.a.c0530da5,U=S.a.if23a251,H=S.a.f61c4bbf,V=S.a.fcc684a9,z=S.a.e05c00b4,W=S.a.f88553c8,q=function(e){u()(r,e);var t=B(r);function r(){var e;a()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),y()(s()(e),"_handleSharePress",(function(){var t=e.props,r=t.analytics,n=t.scribeNamespace;r.scribe(N(N({},n),{},{action:"share_menu_click"}))})),y()(s()(e),"_renderMenu",(function(t){var r=e._getActionItems();return v.createElement(I.a,{items:r,onCloseRequested:t,shouldCloseOnClick:!0})})),y()(s()(e),"_getActionItems",(function(){var t=[];return t.push(e._getTweetShareAction()),t.push(e._getDmShareAction()),b.a.isAvailable()&&t.push(e._getCopyLinkAction()),R()&&t.push(e._getShareAction()),t})),y()(s()(e),"_getShareAction",(function(){return{text:e.props.externalShareLabel,onClick:e._handleShare,Icon:w.a}})),y()(s()(e),"_handleShare",(function(){var t=e.props,r=t.analytics,n=t.url,a=t.description,i=t.scribeNamespace,o={title:t.title,text:a,url:n};window.navigator.share&&window.navigator.share(o).then((function(){r.scribe(N(N({},i),{},{action:"share_via"}))})).catch((function(){r.scribe(N(N({},i),{},{action:"share_error"}))}))})),y()(s()(e),"_getCopyLinkAction",(function(){return{text:e.props.copyLinkShareLabel,onClick:e._handleCopyLink,Icon:A.a}})),y()(s()(e),"_handleCopyLink",(function(){var t=e.props,r=t.analytics,n=t.url,a=t.addToast,i=t.scribeNamespace;b.a.setString(x(n)),r.scribe(N(N({},i),{},{action:"copy_link"})),a({text:W})})),y()(s()(e),"_getDmShareAction",(function(){return{text:e.props.dmShareLabel,onClick:e._handleDMShare,Icon:T.a}})),y()(s()(e),"_handleDMShare",(function(){var t=e.props,r=t.analytics,n=t.history,a=t.url,i=t.scribeNamespace;r.scribe(N(N({},i),{},{action:"share_via_dm"})),n.push({query:{text:a},pathname:"/messages/compose"})})),y()(s()(e),"_getTweetShareAction",(function(){return{text:e.props.tweetShareLabel,onClick:e._handleTweetShare,Icon:L.a,testID:k}})),y()(s()(e),"_handleTweetShare",(function(){var t=e.props,r=t.analytics,n=t.history,a=t.url,i=t.title,o=t.description,c=t.scribeNamespace;r.scribe(N(N({},c),{},{action:"share_via_tweet"})),n.push({pathname:"/compose/tweet",query:{text:"".concat(i).concat(o?" ".concat(o):""," ").concat(a)},state:{positionCursorAtBeginning:!0}})})),e}return o()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.analytics,r=e.scribeNamespace;t.scribe(N(N({},r),{},{action:"impression"}))}},{key:"render",value:function(){return v.createElement(D.a,{accessibilityLabel:F,icon:v.createElement(w.a,null),onPress:this._handleSharePress,pullRight:!0,renderMenu:this._renderMenu,style:G.button,testID:E,type:"text"})}}]),r}(v.Component);y()(q,"defaultProps",{externalShareLabel:U,dmShareLabel:H,tweetShareLabel:V,copyLinkShareLabel:z});var G=j.a.create((function(e){return{button:{marginRight:e.spaces.xxSmall}}}));t.a=Object(C.a)(O(q))},MMRb:function(e,t,r){"use strict";r.r(t);var n=r("KEM+"),a=r.n(n),i=r("9OUN"),o=r("lRnM"),c=r("uKEd"),s=r("AQ79");r.d(t,"GLOBAL_STATE_KEY",(function(){return s.a}));var l=r("xPna"),u=r("Ssj5"),d=r("xCUF"),p=r("aWyx");r.d(t,"CONVERSATION_TYPE",(function(){return p.a})),r.d(t,"ENTRY_TYPE",(function(){return p.b})),r.d(t,"PAGINATION_STATUS",(function(){return p.c})),r.d(t,"addParticipants",(function(){return o.d})),r.d(t,"selectConversation",(function(){return o.u})),r.d(t,"selectConversationAvatarMediaId",(function(){return o.v})),r.d(t,"selectConversationFetchStatus",(function(){return o.y})),r.d(t,"selectConversationIsLoaded",(function(){return o.z})),r.d(t,"selectConversationIsRead",(function(){return o.A})),r.d(t,"selectConversationAvatarMediaIsUploading",(function(){return o.w})),r.d(t,"selectConversationAvatarMediaUploadProgress",(function(){return o.x})),r.d(t,"selectConversations",(function(){return o.C})),r.d(t,"selectHasConversations",(function(){return o.D})),r.d(t,"selectEntries",(function(){return c.l})),r.d(t,"selectEntriesForConversation",(function(){return c.m})),r.d(t,"selectEntry",(function(){return c.n})),r.d(t,"selectConversationIdsByInbox",(function(){return l.n})),r.d(t,"selectFetchStatus",(function(){return l.q})),r.d(t,"selectInboxIsLoaded",(function(){return l.r})),r.d(t,"selectIsLoadingTop",(function(){return l.s})),r.d(t,"selectUnreadCount",(function(){return l.u})),r.d(t,"selectUntrustedCursor",(function(){return l.w})),r.d(t,"selectUntrustedUnreadCount",(function(){return l.z})),r.d(t,"selectUntrustedConversationCount",(function(){return l.v})),r.d(t,"selectUntrustedLowQualityCursor",(function(){return l.y})),r.d(t,"selectUntrustedLowQualityConversationCount",(function(){return l.x})),r.d(t,"selectPoppedOutConversationId",(function(){return l.t})),r.d(t,"selectDrawerVisibility",(function(){return l.p})),r.d(t,"selectDrawerExperimentEnabled",(function(){return l.o})),r.d(t,"selectUpdates",(function(){return d.e})),r.d(t,"acceptConversation",(function(){return o.a})),r.d(t,"addAvatarMedia",(function(){return o.b})),r.d(t,"addWelcomeMessageToConversation",(function(){return o.e})),r.d(t,"disableMentionNotifications",(function(){return o.g})),r.d(t,"disableNotifications",(function(){return o.h})),r.d(t,"enableMentionNotifications",(function(){return o.i})),r.d(t,"enableNotifications",(function(){return o.j})),r.d(t,"fetchConversation",(function(){return o.k})),r.d(t,"fetchConversationFromParticipants",(function(){return o.l})),r.d(t,"fetchConversationIfNeeded",(function(){return o.n})),r.d(t,"fetchConversationHistory",(function(){return o.m})),r.d(t,"leaveConversation",(function(){return o.o})),r.d(t,"markAllAsRead",(function(){return o.p})),r.d(t,"markConversationRead",(function(){return o.q})),r.d(t,"muteConversation",(function(){return o.r})),r.d(t,"unmuteConversation",(function(){return o.G})),r.d(t,"removeAvatarMedia",(function(){return o.s})),r.d(t,"removeConversation",(function(){return o.t})),r.d(t,"setConversationAvatar",(function(){return o.E})),r.d(t,"toggleNotifications",(function(){return o.F})),r.d(t,"updateConversationReadState",(function(){return o.L})),r.d(t,"updateConversationAvatar",(function(){return o.H})),r.d(t,"updateConversationName",(function(){return o.J})),r.d(t,"updateTyping",(function(){return o.M})),r.d(t,"fetchInbox",(function(){return l.e})),r.d(t,"fetchInboxIfNeeded",(function(){return l.f})),r.d(t,"fetchTrustedInboxHistory",(function(){return l.g})),r.d(t,"fetchUntrustedInboxHistory",(function(){return l.h})),r.d(t,"fetchUntrustedLowQualityInboxHistory",(function(){return l.i})),r.d(t,"updateLastSeenEventId",(function(){return l.C})),r.d(t,"updateTrustedLastSeenEventId",(function(){return l.D})),r.d(t,"updateUntrustedLastSeenEventId",(function(){return l.E})),r.d(t,"popOutConversation",(function(){return l.m})),r.d(t,"setDrawerVisibility",(function(){return l.B})),r.d(t,"loadDrawerVisibilityFromPersistence",(function(){return l.l})),r.d(t,"setDrawerExperimentEnabled",(function(){return l.A})),r.d(t,"loadDrawerExperimentFromPersistence",(function(){return l.k})),r.d(t,"deleteEntry",(function(){return c.f})),r.d(t,"markSpamStatus",(function(){return c.h})),r.d(t,"removeEntry",(function(){return c.j})),r.d(t,"fetchUpdates",(function(){return d.b})),r.d(t,"fetchUpdatesIfNeeded",(function(){return d.d}));var f=Object(i.c)({conversations:o.f,entries:c.e,inbox:l.d,updates:d.a});u.a.register(a()({},s.a,f)),t.default=f},Mhzv:function(e,t,r){"use strict";r("7x/C"),r("JtPf");var n=r("ERkP"),a=r("zb92"),i=Object(a.a)({loader:function(){return Promise.all([r.e(0),r.e(20),r.e(162)]).then(r.bind(null,"wHP+"))},renderPlaceholder:function(){return n.createElement("div",null)}});t.a=i},RrqW:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));r("yH/f");var n,a=r("KEM+"),i=r.n(a),o=r("ERkP"),c=r("t62R"),s=r("FIs5"),l=r("rHpw"),u=(r("aWzz"),r("3XMw")),d=r.n(u),p=Object.freeze({SENSITIVE:"sensitive",BLOCKED:"blocked",BLOCKED_BY:"blocked_by"}),f={title:d.a.j32d345d,button:d.a.c3d89aca,body:void 0},m={title:d.a.a01d5a7c,body:function(e){var t=e.screenName;return o.createElement(d.a.I18NFormatMessage,{$i18n:"ha49b9b7",screenName:t},o.createElement(c.c,{link:"https://support.twitter.com/articles/117063"},d.a.i859a9d3))},button:d.a.f277e949},h={title:d.a.b2311b7f,body:d.a.cab51f93,button:void 0},y=Object.freeze((n={},i()(n,"sensitive",f),i()(n,"blocked",m),i()(n,"blocked_by",h),n)),v=function(e,t){return"function"==typeof e?t&&e({screenName:t})||void 0:e},b=l.a.create((function(e){return{style:{alignItems:"center",paddingHorizontal:e.spaces.xLarge,paddingVertical:"calc(2 * ".concat(e.spaces.xLarge,")")}}}));t.b=function(e){var t=e.onPress,r=e.type,n=e.screenName,a=y[r],i=a.title,c=a.button,l=a.body,u=v(i,n),d=v(l,n);return o.createElement(s.a,{buttonText:c,header:u,message:d,onButtonPress:t,style:b.style})}},XvPy:function(e,t,r){"use strict";r.d(t,"a",(function(){return Dn}));r("1t7P"),r("LW0h"),r("jwue"),r("z84I"),r("daRM"),r("FtHn"),r("+KXO"),r("7x/C"),r("OZaJ"),r("DZ+c"),r("+oxZ");var n=r("m3Bd"),a=r.n(n),i=r("VrFO"),o=r.n(i),c=r("Y9Ll"),s=r.n(c),l=r("1Pcy"),u=r.n(l),d=r("5Yy7"),p=r.n(d),f=r("N+ot"),m=r.n(f),h=r("AuHH"),y=r.n(h),v=r("KEM+"),b=r.n(v),g=r("ERkP"),_=r("QIgh"),O=r("8UdT"),P=r("iu0J"),S=r("zgaL");function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=r("dwig"),I=r("kGix"),w=r("v//M"),D=r("0+qk"),j=r("zlxh"),R=r("3XMw"),x=r.n(R),A=(r("2G9S"),r("hBvt"),r("uFXj"),r("ho0z"),r("rxPX")),T=r("G6rE"),L=Object(A.a)().propsFromState((function(){return{loggedInUser:T.e.selectLoggedInUser}})).adjustStateProps((function(e){var t=e.loggedInUser;return{userAvatarURI:t&&t.profile_image_url_https,userName:t&&t.name}})).withAnalytics(),M=r("MWbm"),N=r("cm6r"),B=r("XP29"),F=r("t62R"),U=r("rHpw"),H=r("cjZk"),V=r("3rWK"),z=r("ll3R");function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var q=x.a.b8f0483e,G=x.a.e349147b,Y=function(e){p()(r,e);var t=W(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"_handleClick",(function(t){var r=e.props,n=r.analytics,a=r.onClick;a&&a(t),n.scribe({component:"inline_compose_prompt",action:"click"})})),e}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.link,r=e.userAvatarURI,n=e.isDisabled,a=e.userName,i=e.promptLabel,o=e.withBorder,c=e.withComposeIcons;return g.createElement(N.a,{accessibilityLabel:q,interactiveStyles:null,link:n?void 0:t,onClick:n?void 0:this._handleClick,style:[K.root,o&&K.borderBottom]},g.createElement(B.a,{accessibilityLabel:a,size:"xxLarge",uri:r}),g.createElement(M.a,{style:[K.column,K.bodyColumn]},g.createElement(M.a,{style:[K.fakeInput,n&&K.disabled]},g.createElement(F.c,{color:"deepGray",numberOfLines:1},i)),c?g.createElement(g.Fragment,null,g.createElement(H.a,{style:K.icon}),g.createElement(V.a,{style:K.icon}),g.createElement(z.a,{style:K.icon})):null))}}]),r}(g.Component);b()(Y,"defaultProps",{link:"/compose/tweet",promptLabel:G,withBorder:!1,withComposeIcons:!0});var K=U.a.create((function(e){return{root:{backgroundColor:e.colors.cellBackground,flexDirection:"row",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,zIndex:1},borderBottom:{borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid"},column:{alignItems:"center",flexBasis:0,flexDirection:"row",flexShrink:1,minWidth:0},bodyColumn:{flexGrow:1,justifyContent:"space-between",marginLeft:e.spaces.xSmall},fakeInput:{backgroundColor:e.colors.fadedGray,borderRadius:e.borderRadii.infinite,flexGrow:1,flexShrink:1,paddingHorizontal:e.spaces.small,paddingVertical:e.spaces.xSmall},disabled:{opacity:.8},icon:{color:e.colors.primary,height:"calc(".concat(e.spaces.medium," + ").concat(e.spaces.xxSmall,")"),marginLeft:e.spaces.xSmall,width:"calc(".concat(e.spaces.medium," + ").concat(e.spaces.xxSmall,")")}}})),X=L(Y),Z=(r("M+/F"),r("s3M2")),J=r.n(Z),Q=r("RrqW");function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var ee=function(e){p()(r,e);var t=$(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"state",{interstitialsToDisplay:void 0}),b()(u()(e),"_handleInterstitialPress",(function(){var t=e.state.interstitialsToDisplay,r=void 0===t?[]:t,n=J()(r).slice(1);e.setState({interstitialsToDisplay:n})})),e}return s()(r,[{key:"render",value:function(){var e=this.props.children;return this.state.interstitialsToDisplay?this._renderNext():e()}},{key:"_renderNext",value:function(){var e=this.props.children,t=this.state.interstitialsToDisplay,r=t&&t[0];return r?this._renderInterstitial(r):e()}},{key:"_renderInterstitial",value:function(e){var t=this.props.children,r=e.isFullPageInterstitial,n=e.screenName,a=e.type,i=g.createElement(Q.b,{onPress:this._handleInterstitialPress,screenName:n,type:a});return r?i:t(i)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.interstitials,n=t.interstitialsToDisplay;return r&&!n?{interstitialsToDisplay:r}:null}}]),r}(g.Component),te=(r("jQ/y"),r("jQ3i"),r("x4t0"),r("0mK8")),re=r("v6aA"),ne=(r("tVqn"),r("Q0VY")),ae=r("FiRh"),ie=U.a.create((function(e){return{description:{marginTop:e.spaces.xSmall}}})),oe=function(e,t){switch(e){case"animated_gif":return g.createElement(x.a.I18NFormatMessage,{$i18n:"a5d9d070"},t.screenName);case"video":case"vine":return g.createElement(x.a.I18NFormatMessage,{$i18n:"i9606e32"},t.screenName);default:return g.createElement(x.a.I18NFormatMessage,{$i18n:"i1a64d47"},t.screenName)}},ce=function(e){var t=e.coverTweet,r=e.description,n=e.mediaType,a=r?r.trim():void 0,i=a?ne.a.descriptionTextParts(a):[];return g.createElement(M.a,{style:ie.description},i.length?g.createElement(F.c,null,i.map((function(e,t){return g.createElement(ae.b,{key:"events_textpart_".concat(t),linkify:!0,part:e})}))):null,t?g.createElement(F.c,{color:"deepGray",link:t.permalink},oe(n,{screenName:g.createElement(F.c,{dir:"ltr"},"@",t.user.screen_name)})):null)},se=r("wrlS"),le=r("zrc3"),ue=(r("yH/f"),r("hCOa"),r("lTEL"),r("m9LP"),r("87if"),r("kYxP"),function(){function e(t){var r=this;o()(this,e),b()(this,"_scribedIndices",new Map),b()(this,"_indiceCallbacks",new Map),b()(this,"_handleScribeImpression",(function(e){r._scribedIndices.set(e,!0),r._scribeImpression(e)})),this._scribeImpression=t}return s()(e,[{key:"destroy",value:function(){Array.from(this._indiceCallbacks.values()).forEach((function(e){clearTimeout(e)}))}},{key:"handleVisibilityChange",value:function(e){var t=this,r=e.index,n=e.intersectionRatio;if(!this._scribedIndices.has(r)){var a=this._indiceCallbacks.has(r);n>=.5&&!a?this._indiceCallbacks.set(r,setTimeout((function(){return t._handleScribeImpression(r)}),500)):n<.5&&a&&(clearTimeout(this._indiceCallbacks.get(r)),this._indiceCallbacks.delete(r))}}}]),e}()),de=r("boUI"),pe=function(e){if(e){var t=Math.round(e/1e3),r=t%60,n=r<10?"0".concat(r):r,a=(t-r)/60;if(a>60){var i=Math.floor(a/60),o=a%60,c=o%60<10?"0".concat(o):o;return"".concat(i,":").concat(c,":").concat(n)}return"".concat(a,":").concat(n)}},fe=r("Wms4"),me=x.a.f2382014,he=x.a.g66c8347,ye=function(e){var t=e.playbackDuration;switch(e.type){case j.c.LIVE_BROADCAST:return g.createElement(fe.a,{type:"live"},me);case j.c.REPLAY_BROADCAST:return g.createElement(fe.a,{bold:!0},he);case j.c.VOD:return g.createElement(fe.a,null,pe(t)||"");case j.c.GIF:return g.createElement(fe.a,{bold:!0},"GIF");default:return null}},ve=r("oEGd"),be=r("hqKg"),ge=r("H9MA"),_e=Object(be.createSelector)(ge.c,(function(e){return{dataSaverMode:e}})),Oe=Object(ve.c)(_e),Pe=r("prG5"),Se=r("A91F");function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var Ie=x.a.i3f7ff0f,we=function(e){p()(r,e);var t=Ce(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"state",{hasImageError:!1,currentSlate:void 0}),b()(u()(e),"_handleError",(function(){e.setState({hasImageError:!0})})),e}return s()(r,[{key:"componentDidUpdate",value:function(e,t){var r=this.state,n=r.hasImageError,a=r.currentSlate,i=t.currentSlate;n&&a&&i&&a.image&&i.image&&a.image.url!==i.image.url&&this.setState({hasImageError:!1})}},{key:"render",value:function(){var e=this.state,t=e.currentSlate,r=e.hasImageError,n=t||{},a=n.image,i=n.periscopeVariants,o=n.cropCandidates;return a&&!r?g.createElement(Pe.a,{accessibilityLabel:Ie,aspectMode:Se.a.exact(U.a.theme.aspectRatios.landscape),backgroundColor:U.a.theme.colors.fadedGray,cropCandidates:o,customVariants:i,hideAcceptOverlay:!0,image:a,onError:this._handleError}):g.createElement(M.a,{style:De.fallback})}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.currentSlate){var r=t.currentSlate.image.url,n=e.slate.image.url,a=Object(j.g)(r),i=Object(j.g)(n),o="latest.jpg"===i;return a!==i||!e.dataSaverMode&&o?ke(ke({},t),{},{currentSlate:e.slate}):null}return ke(ke({},t),{},{currentSlate:e.slate})}}]),r}(g.Component),De=U.a.create((function(e){return{fallback:{backgroundColor:e.colors.fadedGray}}})),je=Oe(we),Re=r("jV+4"),xe=r("9Xij"),Ae=r("vCAy");function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var Ne=x.a.d58baa7e,Be=["views","viewers"],Fe=function(e){p()(r,e);var t=Me(r);function r(){return o()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props.onClick,t=this._renderImage(),r=this._renderAttribution(),n=this._renderOverlay(t);return g.createElement(M.a,{accessibilityRole:"button",onClick:e,style:Ue.carouselItem},n,r)}},{key:"_renderAttribution",value:function(){var e=this.props.mediaItem.carouselItemInfo;if(e){var t=e.verified,r=e.name,n=e.screenName;return g.createElement(Re.a,{isVerified:t,name:r,screenName:n,style:Ue.userAttribution,withStackedLayout:!0})}}},{key:"_renderOverlay",value:function(e){var t=this.props.isSelected;return g.createElement(xe.a,{ratio:U.a.theme.aspectRatios.landscape,style:[Ue.image]},this._renderSocialProof(e),t&&g.createElement(M.a,{style:Ue.selectedOverlay}))}},{key:"_renderSocialProof",value:function(e){var t=this.props.mediaItem.carouselItemInfo||{},r=t.type,n=t.socialProof,a=t.playbackDuration,i=n&&Be.includes(n.type)?g.createElement(fe.a,null,g.createElement(M.a,{style:Ue.horizontalContainer},g.createElement(de.a,null),g.createElement(F.c,null,Ne(n.count)))):null,o=ye({playbackDuration:a,type:r});return g.createElement(g.Fragment,null,e,g.createElement(Ae.a,{align:"left"},o,i))}},{key:"_renderImage",value:function(){var e=this.props.mediaItem.slate;return e?g.createElement(je,{slate:e}):null}}]),r}(g.Component),Ue=U.a.create((function(e){return{selectedOverlay:Le(Le({},U.a.absoluteFillObject),{},{borderColor:e.colors.primary,borderRadius:e.borderRadii.small,borderWidth:e.borderWidths.large,borderStyle:"solid"}),horizontalContainer:{flexDirection:"row"},image:{borderRadius:e.borderRadii.small},carouselItem:{paddingEnd:e.spaces.xSmall,width:150},userAttribution:{paddingTop:e.spaces.xxSmall}}})),He=r("OhOQ");function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var ze=Object.freeze({CarouselImpression:"carousel_impression",TileClick:"tile_click",TileImpression:"tile_impression",TileAutoClick:"tile_auto_click"}),We={action:ze.CarouselImpression},qe={action:ze.TileAutoClick},Ge={action:ze.TileImpression},Ye={action:ze.TileClick},Ke=function(e){p()(r,e);var t=Ve(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"_tabRefs",{}),b()(u()(e),"_setTabRef",(function(t){return function(r){e._tabRefs[t]=r}})),b()(u()(e),"_getHandleOnClickForItem",(function(t,r){return function(){var n=e.props.onCarouselScribe;r(t,(function(){return n(Ye)}))}})),b()(u()(e),"_handleCarouselChildImpression",(function(t){(0,e.props.onCarouselScribe)(Ge,{tilePosition:t})})),b()(u()(e),"_handleVisibleRangeChange",(function(t){e._impressionTracker.handleVisibilityChange(t)})),e}return s()(r,[{key:"componentDidMount",value:function(){var e=this.props.onCarouselScribe;this._impressionTracker=new ue(this._handleCarouselChildImpression),this._shouldDisplayCarousel()&&e(We)}},{key:"componentWillUnmount",value:function(){this._impressionTracker.destroy()}},{key:"componentDidUpdate",value:function(e){var t=e.carousel,r=this.props,n=r.carousel,a=r.onCarouselScribe;this._shouldDisplayCarousel()&&n.length!==t.length&&a(We)}},{key:"render",value:function(){return this._shouldDisplayCarousel()?g.createElement(He.a,{navButtonStyle:Xe.carouselNavButton,onVisibleRangeChange:this._handleVisibleRangeChange,stretchChildren:!1,style:Xe.carousel,tabRefs:this._tabRefs,visibleItemIndex:this.props.selectedItemIndex},this._renderCarouselItems()):null}},{key:"_renderCarouselItems",value:function(){var e=this,t=this.props,r=t.carousel,n=t.selectedItemIndex,a=t.setSelectedCarouselIndex;return r.map((function(t,r){return g.createElement(Fe,{isSelected:r===n,key:r,mediaItem:t,onClick:e._getHandleOnClickForItem(r,a),ref:e._setTabRef(r)})}))}},{key:"_shouldDisplayCarousel",value:function(){return this.props.carousel.length>1}}]),r}(g.PureComponent),Xe=U.a.create((function(e){return{carousel:{height:"auto",paddingTop:e.spaces.small},carouselNavButton:{alignSelf:"flex-start",paddingTop:e.spaces.large}}})),Ze=Ke,Je=r("/yvb");function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var tt=x.a.j1d352d7,rt=x.a.d18909d4,nt={element:"reminder_button"},at=Object.freeze({impression:"impression",click:"click"}),it=function(e){p()(r,e);var t=et(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"_handleLayout",(function(){var t=e.props.onRemindButtonScribe;e._buttonImpression||(e._buttonImpression=!0,t($e({action:at.impression},nt)))})),b()(u()(e),"_handlePress",(function(){var t=e.props,r=t.remindMeSubscription,n=r.subscribed,a=r.notification_id,i=t.eventId,o=t.onPress,c=t.onRemindButtonScribe;o(i,{remind_me:!n,notification_id:a}),c($e({action:at.click},nt))})),e}return s()(r,[{key:"render",value:function(){var e,t=this.props.remindMeSubscription,r=t.toggle_visible,n=t.subscribed;return r?g.createElement(M.a,{onLayout:this._handleLayout,style:ot.remindMeButton},n?(e=this._handlePress,g.createElement(Je.a,{onPress:e,size:"normalCompact",type:"onMedia"},tt)):function(e){return g.createElement(Je.a,{onPress:e,size:"normalCompact",type:"invertedSecondary"},rt)}(this._handlePress)):null}}]),r}(g.Component),ot=U.a.create((function(e){return{remindMeButton:{margin:e.spaces.xSmall}}})),ct=it,st=r("EskI"),lt=(r("AxOO"),r("0yYu")),ut=r("pjBI"),dt=(r("aWzz"),r("Blm6"),r("97Jx")),pt=r.n(dt),ft=r("ZUOq"),mt=r("MMRb"),ht=r("zHh/"),yt=Object(be.createSelector)(ge.d,mt.selectDrawerVisibility,(function(e,t){return{canAutoplay:Object(ht.a)(e),dmDrawerVisibility:t}})),vt=Object(ve.c)(yt),bt=r("7JQg"),gt=r("xPna"),_t=g.createContext({dockRequested:!1,closeRequested:!1}),Ot=r("MXDK"),Pt=r("7nmT"),St=r.n(Pt);function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var It={component:"dock"},wt=Object.freeze({dockedOnScroll:"dock_on_scroll",undockOnScroll:"undock_on_scroll",dismissTap:"dismiss_tap",undockTap:"undock_tap"}),Dt=function(e){p()(r,e);var t=Ct(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"state",{closeRequested:!1,dockRequested:!1}),b()(u()(e),"_getRef",(function(t){var r=St.a.findDOMNode(t);e._containerNode=r&&r instanceof window.HTMLElement?r:void 0})),b()(u()(e),"_requestCloseHandler",(function(){var t=e.props,r=t.onDockingScribeAction,n=t.onCloseDockComplete;e.setState({dockRequested:!1,closeRequested:!0},(function(){n&&n()})),r(kt(kt({},It),{},{action:wt.dismissTap}))})),b()(u()(e),"_requestUndockHandler",(function(){var t=e.props.onDockingScribeAction;e.setState({dockRequested:!1},(function(){if(e._containerNode){var r=e._containerNode.offsetTop;Ot.d({top:r})}t(kt(kt({},It),{},{action:wt.undockTap}))}))})),e}return s()(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.state.closeRequested;if(t&&!e.requestDock&&this.setState({closeRequested:!1}),!t&&this.state.dockRequested!==e.requestDock){var r=e.onDockingScribeAction,n=e.requestDock;this.setState({dockRequested:e.requestDock}),r(kt(kt({},It),{},{action:n?wt.dockedOnScroll:wt.undockOnScroll}))}}},{key:"render",value:function(){var e=this.state,t=e.closeRequested,r=e.dockRequested;return g.createElement(M.a,{ref:this._getRef},this.props.render({closeRequested:t,dockRequested:r,requestClose:this._requestCloseHandler,requestUndock:this._requestUndockHandler}))}}]),r}(g.Component),jt=r("vYiB"),Rt=r("xKuM"),xt=r("Lsrn"),At=r("shC7"),Tt=r("k/Ka");function Lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(Tt.a)("svg",Mt(Mt({},e),{},{style:[xt.a.root,e.style,At.a.isRTL&&xt.a.iconRTL],viewBox:"0 0 24 24"}),g.createElement("g",null,g.createElement("path",{d:"M19.687 22H7.813C6.538 22 5.5 20.962 5.5 19.687V13.17c0-.413.336-.75.75-.75s.75.337.75.75v6.517c0 .448.365.813.813.813h11.873c.448 0 .813-.365.813-.813V7.813c0-.448-.365-.813-.813-.813H13.17c-.413 0-.75-.336-.75-.75s.337-.75.75-.75h6.517C20.962 5.5 22 6.538 22 7.813v11.873C22 20.962 20.962 22 19.687 22z"}),g.createElement("path",{d:"M11.996 10.936L4.56 3.5h4.636c.414 0 .75-.336.75-.75S9.61 2 9.196 2H2.75c-.414 0-.75.336-.75.75v6.455c0 .414.336.75.75.75s.75-.336.75-.75V4.56l7.436 7.437c.146.146.338.22.53.22s.384-.073.53-.22c.293-.294.293-.768 0-1.06z"})))};Nt.metadata={width:24,height:24};var Bt=Nt,Ft=r("hOZg");function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var Ht=x.a.e839db39,Vt=x.a.a7a119ec,zt=function(e){p()(r,e);var t=Ut(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"_render",(function(t){var r=t.closeRequested,n=t.dockRequested,a=t.requestUndock,i=t.requestClose,o=e.props,c=o.children,s=o.placeholder;return g.createElement(_t.Provider,{value:{closeRequested:r,dockRequested:n}},n&&s,g.createElement(M.a,{style:n?[Wt.dockedContainer,e._getDockedBottomStyle()]:void 0},n&&e._renderDockingControlBar(a,i),c))})),b()(u()(e),"_getDockedBottomStyle",(function(){return{marginBottom:e.props.dockBottomOffset}})),e}return s()(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.isDisabled,n=t.onDockingScribeAction,a=t.onCloseDockComplete,i=t.visibleThreshold;return g.createElement(jt.a,{isDisabled:r,style:Wt.root,visibleThreshold:i},(function(t){var i=t.isOffscreen;return g.createElement(Dt,{onCloseDockComplete:a,onDockingScribeAction:n,render:e._render,requestDock:i&&!r})}))}},{key:"_renderDockingControlBar",value:function(e,t){var r=this.props,n=r.subtitle,a=r.title;return g.createElement(Rt.a,{rightControl:this._renderDockingControls(e,t),subtitle:n,title:a})}},{key:"_renderDockingControls",value:function(e,t){return g.createElement(M.a,{style:Wt.dockingControls},g.createElement(Je.a,{accessibilityLabel:Vt,icon:g.createElement(Bt,null),onPress:e,type:"text"}),g.createElement(Je.a,{accessibilityLabel:Ht,icon:g.createElement(Ft.a,null),onPress:t,type:"text"}))}}]),r}(g.PureComponent);b()(zt,"defaultProps",{placeholder:g.createElement(xe.a,{ratio:U.a.theme.aspectRatios.landscape})});var Wt=U.a.create((function(e){return{root:{zIndex:1},dockedContainer:{bottom:0,right:0,marginEnd:e.spaces.medium,boxShadow:e.boxShadows.small,maxWidth:ft.a.columnWidths.secondary.normal,position:"fixed",width:ft.a.columnWidths.secondary.normal},dockingControls:{flexDirection:"row",alignItems:"baseline"}}})),qt=zt;function Gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(Tt.a)("svg",Yt(Yt({},e),{},{style:[xt.a.root,e.style],viewBox:"0 0 24 24"}),g.createElement("g",null,g.createElement("circle",{cx:"12",cy:"12",r:"10"}),g.createElement("path",{d:"M16.036 11.58l-6-3.82c-.154-.098-.35-.105-.51-.018-.16.088-.26.256-.26.438v7.64c0 .182.1.35.26.437.076.04.158.062.24.062.095 0 .188-.027.27-.08l6-3.817c.145-.092.23-.25.23-.422s-.085-.33-.23-.42z",fill:"#FFF"}),g.createElement("path",{d:"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z",fill:"#FFF"})))};Kt.metadata={width:24,height:24};var Xt=Kt;function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var Jt=x.a.ic1e826e,Qt=function(e){p()(r,e);var t=Zt(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"state",{isPlaying:!1}),b()(u()(e),"_handlePlayPress",(function(){e.props.player.play()})),b()(u()(e),"_handlePlayerStateChange",(function(t){return e.setState({isPlaying:t.isPlaying})})),e}return s()(r,[{key:"componentDidMount",value:function(){var e=this.props.player;this._videoPlayerUnsubscribe=e.subscribe(this._handlePlayerStateChange)}},{key:"componentWillUnmount",value:function(){this._videoPlayerUnsubscribe&&this._videoPlayerUnsubscribe()}},{key:"render",value:function(){var e=this.state.isPlaying,t=this.props.iconStyle;return this._videoPlayerUnsubscribe&&!e?g.createElement(Je.a,{accessibilityLabel:Jt,borderColor:"transparent",color:"primary",icon:g.createElement(Xt,{style:t||$t.defaultIconStyle}),onPress:this._handlePlayPress,pullRight:!0,size:"xLarge"}):null}}]),r}(g.Component),$t=U.a.create((function(e){return{defaultIconStyle:{height:e.spaces.jumbo}}})),er=Qt,tr=r("A53h"),rr=r("sTSP");function nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var ar=x.a.hb568af3,ir=x.a.bb1cbeb5,or=function(e){p()(r,e);var t=nr(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"state",{isMuted:!0}),b()(u()(e),"_handleMuteToggle",(function(){var t=e.state.isMuted,r=e.props.player;t?r.unmute():r.mute()})),b()(u()(e),"_handlePlayerStateChange",(function(t){e.setState({isMuted:t.isMuted})})),e}return s()(r,[{key:"componentDidMount",value:function(){var e=this.props.player;this._videoPlayerUnsubscribe=e.subscribe(this._handlePlayerStateChange)}},{key:"componentWillUnmount",value:function(){this._videoPlayerUnsubscribe&&this._videoPlayerUnsubscribe()}},{key:"render",value:function(){var e=this.state.isMuted,t=this.props,r=t.buttonType,n=t.pullRight,a=e?g.createElement(tr.a,null):g.createElement(rr.a,null);return!!this._videoPlayerUnsubscribe?g.createElement(Je.a,{accessibilityLabel:e?ir:ar,icon:a,onPress:this._handleMuteToggle,pullRight:n,type:r}):null}}]),r}(g.Component),cr=r("a6qo");function sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var dr=function(e){e.preventDefault(),e.stopPropagation()},pr=function(e){p()(r,e);var t=ur(r);function r(e){var n;return o()(this,r),n=t.call(this,e),b()(u()(n),"state",{isPlaying:!1,total:void 0,remaining:void 0,playerState:void 0}),b()(u()(n),"_handleClick",(function(){n.state.isPlaying?n._player.pause():n._player.play()})),b()(u()(n),"_init",(function(e){n._player=e,n._videoPlayerUnsubscribe=e.subscribe((function(e){n.setState(function(e){var t=e.isPlaying,r=e.tracks[e.currentTrackId],n=r&&r.currentTimeMs,a=r&&r.durationMs,i=pe(n),o=pe(a);return{isPlaying:t,remaining:pe(a-n),total:i&&o&&"".concat(i," / ").concat(o)}}(e))}))})),n._init(e.player),n}return s()(r,[{key:"componentWillUnmount",value:function(){this._videoPlayerUnsubscribe&&this._videoPlayerUnsubscribe()}},{key:"render",value:function(){var e=this;return g.createElement(N.a,{interactiveStyles:null,pointerEvents:"box-none",style:fr.overlay},(function(t){var r=t.isHovered,n=e._renderBottomRow({isHovered:r});return g.createElement(g.Fragment,null,g.createElement(M.a,{onClick:e._handleClick,style:fr.overlay},g.createElement(M.a,{style:fr.playButtonContainer},g.createElement(er,{player:e._player}))),n)}))}},{key:"_renderBottomRow",value:function(e){var t=e.isHovered,r=this.state.isPlaying,n=this.props,a=n.isLive,i=n.mediaType===j.c.VOD;return g.createElement(M.a,{onMouseDown:dr,style:fr.bottomRow},this._renderMediaLabel({isVod:i,isLive:a,isHovered:t&&r}),g.createElement(M.a,{style:fr.right},g.createElement(or,{buttonType:"invertedText",player:this._player})))}},{key:"_renderMediaLabel",value:function(e){var t=e.isVod,r=e.isLive,n=e.isHovered,a=!r&&n;return r?g.createElement(cr.a,{align:"left",type:"live"},nn):this._renderPlaybackTime({isVod:t,withRemaining:a})}},{key:"_renderPlaybackTime",value:function(e){var t,r=e.isVod,n=e.withRemaining,a=this.state,i=a.total,o=a.remaining;return r?i&&o&&(t=n?i:o):t=n?i:an,t?g.createElement(cr.a,{align:"left",bold:!r&&!n},t):null}}]),r}(g.Component),fr=U.a.create((function(e){return{overlay:lr(lr({},U.a.absoluteFillObject),{},{flexGrow:1}),playButtonContainer:{alignItems:"center",flexGrow:1,justifyContent:"center"},bottomRow:{position:"absolute",bottom:0,flexGrow:1,zIndex:1,paddingStart:e.spaces.xSmall,paddingEnd:e.spaces.xxSmall,width:"100%"},right:{alignItems:"center",flexDirection:"row",flexGrow:1,justifyContent:"flex-end"},totalTime:{paddingHorizontal:e.spaces.xxSmall}}})),mr=r("FwvS"),hr=r("nT9l"),yr=r("muX9"),vr=r("OrGc"),br=r("hACr");function gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var _r=function(e){p()(r,e);var t=gr(r);function r(){return o()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e,t=this.props,r=t.backgroundColor,n=t.children,a=t.remindMeButton,i=this._renderMediaLabel(),o=i||a?g.createElement(M.a,{style:[Or.verticalAlignment,(e=r,{backgroundImage:"linear-gradient(transparent 0%, ".concat(e," 100%)")})]},g.createElement(M.a,{style:Or.wrapper},a,i)):null;return g.createElement(M.a,null,o,n)}},{key:"_renderMediaLabel",value:function(){var e=this.props.mediaLabel;return e?g.createElement(M.a,{style:Or.mediaLabelWrapper},g.createElement(F.c,{align:"left",color:"white",size:"normal",style:Or.mediaLabel},e)):null}}]),r}(g.Component);b()(_r,"defaultProps",{backgroundColor:U.a.theme.colors.translucentBlack77});var Or=U.a.create((function(e){return{verticalAlignment:{flexDirection:"column",alignItems:"flex-end",zIndex:1,height:"25%",width:"100%",bottom:"0",left:"0",position:"absolute"},wrapper:{flexDirection:"row-reverse",flexWrap:"nowrap",justifyContent:"space-between",width:"100%",position:"absolute",bottom:"0",paddingBottom:e.spaces.xSmall,paddingStart:e.spaces.xSmall,paddingEnd:e.spaces.xSmall},mediaLabelWrapper:{justifyContent:"center",flexGrow:1,flexShrink:1},mediaLabel:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}})),Pr=_r,Sr=r("TIdA");function Er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var kr=x.a.f93bb3ee,Cr=function(e){p()(r,e);var t=Er(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"state",{shouldRenderImage:!0}),b()(u()(e),"_getRenderDataSafeImage",(function(t){var r=t.originalImage,n=t.mediaItem;return function(t){var a=t.useMinimumData,i=t.resourceSelectionHandler,o=e.props,c=o.fallbackAccessibilityLabel,s=o.slate,l=s.label,u=s.periscopeVariants,d=o.remindMeButton,p=n.ext_alt_text,f=n.expanded_url,m=n.original_info,h=p||c,y=g.createElement(Pr,{mediaLabel:a?void 0:l,remindMeButton:d},g.createElement(yr.a,null,g.createElement("meta",{content:r.url,property:"og:image"}),g.createElement("meta",{content:r.width,property:"og:image:width"}),g.createElement("meta",{content:r.height,property:"og:image:height"})),g.createElement(Sr.a,{accessibilityLabel:h,aspectMode:Se.a.exact(U.a.theme.aspectRatios.landscape),cropCandidates:m&&m.focus_rects,customVariants:u,image:r,onError:e._handleImageError,onVariantSelection:i,previewMode:a}));return f?g.createElement(br.a,{handlers:b()({},vr.d.openPhotoModal,e._handleOpenPhotoModal)},y):y}})),b()(u()(e),"_handleImageError",(function(){e.setState({shouldRenderImage:!1})})),b()(u()(e),"_handleOpenPhotoModal",(function(){var t=e.props,r=t.history,n=t.coverMedia;n&&r.push(n.expanded_url)})),e}return s()(r,[{key:"componentDidUpdate",value:function(e){if(!this.state.shouldRenderImage){var t=this.props.slate.image,r=e.slate.image;t.url!==r.url&&this.setState({shouldRenderImage:!0})}}},{key:"render",value:function(){return this.state.shouldRenderImage?this._renderImage():null}},{key:"_renderImage",value:function(){var e=this._getMediaItem(),t=e&&mr.c(e);return e&&t?g.createElement(hr.a,{acceptLabel:kr,renderContent:this._getRenderDataSafeImage({mediaItem:e,originalImage:t}),resourceId:t.url}):null}},{key:"_getMediaItem",value:function(){var e=this.props,t=e.slate,r=e.coverMedia;return Object(j.r)(t,r)||void 0}}]),r}(g.PureComponent),Ir=r("oQhu"),wr=r("mf9H"),Dr="events-player",jr=r("RUwF"),Rr=r("mXq/");function xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var Lr=x.a.ic1e826e,Mr=x.a.gede4931,Nr=x.a.ebe9be93,Br=1e3*se.b.getNumberValue("live_event_multi_video_auto_advance_transition_duration_seconds",5),Fr=function(e){p()(r,e);var t=Tr(r);function r(){return o()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props.isDocked;return g.createElement(M.a,{style:Ur.root},g.createElement(M.a,{style:Ur.wrapper},this._renderImage(),e?null:this._renderNextItemInformation(),this._renderPlayButton(),this._renderReplayButton()))}},{key:"_renderImage",value:function(){var e=this.props.nextCarouselItem.slate;return g.createElement(g.Fragment,null,e?g.createElement(je,{slate:e}):null,g.createElement(M.a,{style:Ur.backgroundFading}))}},{key:"_renderNextItemInformation",value:function(){var e=this.props.nextCarouselItem.carouselItemInfo;if(!e)return null;var t=e.playbackDuration,r=e.name,n=e.screenName,a=e.type,i=e.verified;return g.createElement(M.a,{style:Ur.nextItemInformationWrapper},g.createElement(M.a,{style:Ur.upNextWrapper},g.createElement(F.c,{align:"left",color:"white"},Nr)),g.createElement(Re.a,{color:"white",isVerified:i,name:r,screenName:n,style:Ur.usernameWrapper}),g.createElement(M.a,null,g.createElement(M.a,{style:Ur.badgeContainer},ye({playbackDuration:t,type:a}))))}},{key:"_renderPlayButton",value:function(){var e=this.props.onComplete;return g.createElement(M.a,{style:Ur.playWrapper},g.createElement(Rr.a,{accessibilityLabel:Lr,duration:Br,onComplete:e,onPress:e,type:"upNext"}))}},{key:"_renderReplayButton",value:function(){var e=this.props.onReplay;return g.createElement(M.a,{style:Ur.replayWrapper},g.createElement(Je.a,{accessibilityLabel:Mr,icon:g.createElement(jr.a,null),onPress:e,size:"normal",type:"invertedText"}))}}]),r}(g.PureComponent),Ur=U.a.create((function(e){return{root:Ar(Ar({},U.a.absoluteFillObject),{},{alignItems:"center",justifyContent:"center"}),backgroundFading:Ar(Ar({},U.a.absoluteFillObject),{},{backgroundColor:e.colors.translucentBlack30}),wrapper:{height:"100%",position:"relative",width:"100%"},badgeContainer:{position:"absolute"},playWrapper:Ar(Ar({},U.a.absoluteFillObject),{},{alignItems:"center",justifyContent:"center"}),replayWrapper:{bottom:e.spaces.micro,left:e.spaces.xxSmall,position:"absolute"},nextItemInformationWrapper:{left:0,padding:e.spaces.xSmall,position:"absolute",top:0},usernameWrapper:{paddingBottom:e.spaces.xxSmall},upNextWrapper:{paddingBottom:e.spaces.small}}})),Hr=r("Modb"),Vr=r("lklz"),zr=r("Mhzv"),Wr=r("38/B"),qr=r("TrHT");function Gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var Xr=x.a.b0b38773,Zr=new wr.b(.25),Jr={hideControlBar:!0,hidePeriscopeLink:!0,badgeConfiguration:{hideViewCount:!0,hideDataSize:!0,hideDuration:!0},hideLeftBadges:!0,hidePosterImage:!0,hideRightBadges:!0,showEventCta:!1},Qr={hideFullScreenButton:!0},$r=function(e){p()(r,e);var t=Kr(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"_dmQuickAccessEnabled",!0===se.b.getValueWithoutScribeImpression("responsive_web_dm_quick_access_enabled")),b()(u()(e),"_multiVideoAutoAdvanceEnabled",se.b.isTrue("live_event_multi_video_auto_advance_enabled")),b()(u()(e),"_multiVideoAutoAdvanceDockEnabled",se.b.isTrue("live_event_multi_video_auto_advance_dock_enabled")),b()(u()(e),"_multiVideoAutoAdvanceFullscreenEnabled",se.b.isTrue("live_event_multi_video_auto_advance_fullscreen_enabled")),b()(u()(e),"_horizonVideoPlayerEnabled",se.b.isTrue("responsive_web_events_page_horizon_video_enabled")),b()(u()(e),"state",{isPlayerMuted:!0,showUpNextPlayerOverlay:!1}),b()(u()(e),"_getUiStack",Object(Ir.a)((function(t,r,n,a,i,o){return function(c){var s=c.guestsState,l=c.playerApi,u=c.playerState,d=c.containerRef;return g.createElement(zr.a,{containerRef:d,guestsState:s,isDocked:r,nextItemInfo:a,onUpNextComplete:e._getHandleUpNextOverlayComplete(i),onUpNextReplay:e._handleReplayPress,playerApi:l,playerDisplayOptions:t,playerState:u,renderUpNextImage:function(){var e=null==o?void 0:o.slate;return g.createElement(g.Fragment,null,e?g.createElement(je,{slate:e}):null,g.createElement(M.a,{style:en.backgroundFading}))},shouldRenderUpNext:n})}}))),b()(u()(e),"_renderHorizonPlayer",(function(t,r){t.closeRequested;var n=t.dockRequested,a=t.key,i=t.playerProps;if(!i)return null;var o=e.props.disableFullscreenVideo,c=e._shouldRenderUpNext(r,n),s=c||n?Jr:void 0,l=o?Qr:void 0,u=e.props,d=u.carousel,p=u.selectedItemIndex,f=e._getNextEligibleCarouselItemIndex(p,d),m=f>-1&&d?d[f]:void 0,h=null==m?void 0:m.carouselItemInfo,y=h?{playbackDurationMs:h.playbackDuration,name:h.name,screenName:h.screenName,type:h.type,verified:!!h.verified}:void 0,v=e._getUiStack(i.displayOptions,n,!!c,y,f,m);return i?g.createElement(M.a,{style:n?en.dockedContainerBackground:void 0},g.createElement(Hr.a,pt()({},i,{displayOptions:s||l,key:a,loopingThresholdMs:7e3,onProgressChange:e._handleProgressChange,preserveMuteState:!0,uiStack:v}))):null})),b()(u()(e),"_renderPlayer",(function(t,r){t.closeRequested;var n=t.dockRequested,a=t.key,i=t.playerProps,o=e.props.disableFullscreenVideo,c=e._shouldRenderUpNext(r,n),s=c?e._renderUpNextOverlay(n):e._renderDockedOverlay(n),l=c||n?Jr:void 0,u=o?Qr:void 0;return i?g.createElement(M.a,{style:n?en.dockedContainerBackground:void 0},g.createElement(Hr.a,pt()({},i,{customOverlay:s,displayOptions:l||u,key:a,loopingThresholdMs:7e3,onProgressChange:e._handleProgressChange,preserveMuteState:!0,useLegacyPlayer:!0}))):null})),b()(u()(e),"_renderUpNextOverlay",(function(t){var r=e.props,n=r.carousel,a=r.selectedItemIndex,i=e._getNextEligibleCarouselItemIndex(a,n),o=i>-1&&n?n[i]:void 0;return i&&o?g.createElement(Fr,{isDocked:t,nextCarouselItem:o,onComplete:e._getHandleUpNextOverlayComplete(i),onReplay:e._handleReplayPress}):null})),b()(u()(e),"_handleProgressChange",(function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.state.showUpNextPlayerOverlay;r!==n&&e.setState({showUpNextPlayerOverlay:r})})),b()(u()(e),"_getHandleUpNextOverlayComplete",(function(t){return function(r){if(t){var n=e.props,a=n.onChildScribeAction,i=n.setSelectedCarouselIndex,o={tilePosition:t};i(t),a(r?Ye:qe,o)}e.setState({showUpNextPlayerOverlay:!1})}})),b()(u()(e),"_renderDockedOverlay",(function(t){return function(r){var n=e.props,a=n.mediaDetails.isLive,i=n.mediaType;return t?g.createElement(pr,{isLive:a,mediaType:i,player:r}):null}})),b()(u()(e),"_setPlayer",(function(t){e._playerInstance=t})),b()(u()(e),"_shouldRenderUpNext",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.props,a=n.carousel,i=n.isPlayerFullscreen,o=n.selectedItemIndex,c=n.canAutoplay,s=e._getNextEligibleCarouselItemIndex(o,a);return e._multiVideoAutoAdvanceEnabled&&c&&!Wr.a.reducedMotionEnabled&&(!r||e._multiVideoAutoAdvanceDockEnabled)&&(!i||e._multiVideoAutoAdvanceFullscreenEnabled)&&t&&e.state.showUpNextPlayerOverlay&&s>-1})),b()(u()(e),"_handleCloseDockComplete",(function(){var t=e.state.showUpNextPlayerOverlay,r=e.props,n=r.carousel,a=r.selectedItemIndex;if(t){var i=e._getNextEligibleCarouselItemIndex(a,n);e._getHandleUpNextOverlayComplete(i)()}else e._playerInstance&&e._playerInstance.pause()})),b()(u()(e),"_handleMuteChange",(function(t){var r=t.isPlayerMuted;return e.setState({isPlayerMuted:r})})),b()(u()(e),"_handleReplayPress",(function(){e._playerInstance&&e._playerInstance.replay()})),b()(u()(e),"_getNextEligibleCarouselItemIndex",Object(Ir.a)(j.l)),e}return s()(r,[{key:"render",value:function(){var e,t=this.props,r=t.isDockingEnabled,n=t.carouselItemInfo,a=t.mediaType,i=t.onChildScribeAction,o=t.title;switch(a){case j.c.REPLAY_BROADCAST:case j.c.LIVE_BROADCAST:case j.c.VOD:e=this._renderVideo();break;case j.c.GIF:e=this._renderVideo({withUpNextOverlay:!1,isGif:!0});break;case j.c.SLATE:default:e=this._renderImage()}var c=r?this._renderUserSceenName(n):null;return g.createElement(qt,{dockBottomOffset:this._getOffsetForDrawer(),isDisabled:!r,onCloseDockComplete:this._handleCloseDockComplete,onDockingScribeAction:i,subtitle:c,title:o,visibleThreshold:.25},g.createElement(M.a,{style:en.container,testID:Dr},e))}},{key:"_getOffsetForDrawer",value:function(){var e=U.a.theme.spaces,t=this.props.dmDrawerVisibility,r=parseInt("".concat(e.medium),10);if(this._dmQuickAccessEnabled){if(t===gt.a.COLLAPSED)return ft.a.dmDrawerHeight.collapsed+r;if(t===gt.a.EXPANDED)return ft.a.dmDrawerHeight.expanded+r}return r}},{key:"_renderImage",value:function(){var e=this.props,t=e.history,r=e.remindMeButton,n=e.mediaDetails,a=e.slate;return a?g.createElement(Cr,{coverMedia:n.coverMedia,fallbackAccessibilityLabel:Xr,history:t,remindMeButton:r,slate:a}):null}},{key:"_renderVideo",value:function(){var e,t,r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.withUpNextOverlay,i=void 0===a||a,o=n.isGif,c=void 0!==o&&o,s=this.props,l=s.eventId,u=s.mediaDetails,d=u.broadcastId,p=u.coverMedia,f=u.coverTweet,m=void 0===f?{}:f,h=u.mediaId,y=u.promotedContent,v=s.onFullscreenChange,b=s.slate,_=p||{},O=_.id_str,P=m.id_str,S=b||{},E=S.image,k=S.periscopeVariants,C={accessibilityLabel:Xr,aspectRatio:U.a.theme.aspectRatios.landscape,backgroundColor:U.a.theme.colors.faintGray,maxLoopCount:c?void 0:3,onFullscreenChange:v,onMuteChange:this._handleMuteChange,promotedContent:y,playbackCoordination:Zr,poster:E,customVariants:k,shouldPlayUnmuted:!this.state.isPlayerMuted,setPlayer:this._setPlayer};if(d&&h)e=d,t=Yr(Yr({},C),{},{videoType:"video",includeBroadcastEventAssociation:!0,source:{contentId:h,videoId:Vr.b.forBroadcast(d)}});else if(O&&P){var I=Vr.b.forTweet(P),w=Object(qr.b)(p),D=w&&Object(qr.a)(I,w,l);e=O,t=D?Yr(Yr({},D),C):void 0}return g.createElement(_t.Consumer,null,(function(n){var a=n.closeRequested,o=n.dockRequested;return r._horizonVideoPlayerEnabled?r._renderHorizonPlayer({closeRequested:a,dockRequested:o,key:e,playerProps:t},i):r._renderPlayer({closeRequested:a,dockRequested:o,key:e,playerProps:t},i)}))}},{key:"_renderUserSceenName",value:function(e){var t=e||{},r=t.name,n=t.userId,a=t.accountType,i=t.screenName,o=null;return n&&(a===j.a.TWITTER&&i?o=g.createElement(Re.a,{screenName:i,weight:"normal",withLink:!0}):a===j.a.PERISCOPE&&r&&(o=g.createElement(F.c,{color:"deepGray",link:"https://pscp.tv/u/".concat(n)},r))),o}}]),r}(g.Component),en=U.a.create((function(e){return{backgroundFading:Yr(Yr({},U.a.absoluteFillObject),{},{backgroundColor:e.colors.translucentBlack30}),container:{zIndex:10},dockedContainerBackground:{backgroundColor:e.colors.cellBackground}}})),tn=Object(bt.c)({element:"image"})(vt($r));function rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var nn=x.a.f2382014,an=x.a.g66c8347,on=function(e){p()(r,e);var t=rn(r);function r(e,n){var a;return o()(this,r),a=t.call(this,e,n),b()(u()(a),"state",{headerWidth:0}),b()(u()(a),"_handleDescriptionLayout",(function(e){a.setState({headerWidth:e.nativeEvent.layout.width})})),b()(u()(a),"_getSelectedItemIndex",(function(e,t){return Object(le.a)(e,(function(e){return e.id===t}))})),b()(u()(a),"_setSelectedCarouselIndex",(function(e){var t=a.props,r=t.carousel,n=t.setSelectedCarouselItem,i=r&&r[e];i&&n(i)})),a._enableMultiVideo=se.b.isTrue("live_event_multi_video_enabled"),a._enableDocking=se.b.isTrue("live_event_docking_enabled"),a}return s()(r,[{key:"render",value:function(){var e=this.props.selectedCarouselItem;return g.createElement(g.Fragment,null,e&&this._renderHeaderMedia(e),this._renderDescription(e),g.createElement(lt.a,null))}},{key:"_renderDescription",value:function(e){return g.createElement(M.a,{onLayout:this._handleDescriptionLayout,style:cn.details},this._renderAuthorCategory(),this._renderTitle(),e?this._renderAttributedDescriptionText(e):this._renderDescriptionText(),this._renderScoreCard(),this._enableMultiVideo&&e?this._renderCarousel(e):null)}},{key:"_renderHeaderMedia",value:function(e){var t=this.props,r=t.carousel,n=t.disableFullscreenVideo,a=t.history,i=t.isPlayerFullscreen,o=t.liveEventDetails,c=o.title,s=o.eventId,l=t.onChildScribeAction,u=t.onFullscreenChange,d=e.carouselItemInfo,p=e.mediaDetails,f=e.slate,m=d.type,h=this._getDockingEnabled(m);return g.createElement(tn,{carousel:r,carouselItemInfo:d,disableFullscreenVideo:n,eventId:s,history:a,isDockingEnabled:h,isPlayerFullscreen:i,mediaDetails:p,mediaType:m,onChildScribeAction:l,onFullscreenChange:u,remindMeButton:this._renderRemindMeButton(),selectedItemIndex:this._getSelectedItemIndex(r||[],e.id),setSelectedCarouselIndex:this._setSelectedCarouselIndex,slate:f,title:c})}},{key:"_renderRemindMeButton",value:function(){var e=this.props,t=e.liveEventDetails,r=t.eventId,n=t.remindMeSubscription,a=e.onChildScribeAction,i=e.remindMeButtonSubscribe,o=e.remindMeButtonUnsubscribe;return!!this.context.loggedInUserId&&n&&i&&o?g.createElement(ct,{eventId:r,onPress:n.subscribed?o:i,onRemindButtonScribe:a,remindMeSubscription:n}):null}},{key:"_renderScoreCard",value:function(){var e=this.props,t=e.withScoreCard,r=e.scoreData;return r&&t?g.createElement(st.a,{scoreData:r}):null}},{key:"_renderAuthorCategory",value:function(){return this.props.isTOO?this._renderCategory():this._renderAuthor()||this._renderCategory()}},{key:"_renderAuthor",value:function(){var e=this.props.liveEventDetails.author;return e?g.createElement(M.a,null,g.createElement(te.a,{author:e,size:"normal",withLink:!0,withScreenName:!0}),this._renderTimeString(!0)):void 0}},{key:"_renderCategory",value:function(){var e=this.props.liveEventDetails.category;return e?g.createElement(ut.a,null,g.createElement(F.c,{color:"deepGray",numberOfLines:1,size:"normal",weight:"bold"},e),this._renderTimeString()):void 0}},{key:"_renderTimeString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.liveEventDetails.timeString;return t?g.createElement(F.c,{color:"deepGray",numberOfLines:1,size:"normal",style:[cn.timeString,e&&cn.timeStringMargin]},t):null}},{key:"_renderTitle",value:function(){var e=this.props.liveEventDetails.title;return g.createElement(F.c,{dir:"auto",size:"xLarge",style:cn.title,weight:"heavy",withHashflags:!0},e)}},{key:"_renderAttributedDescriptionText",value:function(e){var t=e.mediaDetails,r=t.coverTweet,n=t.coverMedia,a=this._shouldShowMediaAttribution(e)&&n&&n.type?n.type:void 0;return this._renderDescriptionText(r,a)}},{key:"_renderDescriptionText",value:function(e,t){var r=this.props.liveEventDetails.description;return r||e?g.createElement(ce,{coverTweet:e,description:r,mediaType:t}):null}},{key:"_shouldShowMediaAttribution",value:function(e){var t=e.mediaDetails.broadcastId,r=e.carouselItemInfo.type;return r===j.c.VOD||r===j.c.GIF||r===j.c.SLATE&&!t}},{key:"_renderCarousel",value:function(e){var t=this.props,r=t.carousel,n=t.onChildScribeAction;return r?g.createElement(Ze,{carousel:r,onCarouselScribe:n,selectedItemIndex:this._getSelectedItemIndex(r,e.id),setSelectedCarouselIndex:this._setSelectedCarouselIndex}):null}},{key:"_getDockingEnabled",value:function(e){var t=this.props.isWide,r=this.context.loggedInUserId,n=[j.c.LIVE_BROADCAST,j.c.REPLAY_BROADCAST,j.c.VOD];return!!r&&this._enableDocking&&t&&n.includes(e)}}]),r}(g.Component);b()(on,"contextType",re.a);var cn=U.a.create((function(e){return{coverAttribution:{color:e.colors.deepGray,marginLeft:e.spaces.xxSmall},details:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},presenceContainer:{flexDirection:"row",paddingBottom:e.spaces.xxSmall},presenceIcon:{alignSelf:"center",flexShrink:0,color:e.colors.green,height:"calc(".concat(e.spaces.xLarge," / 5)"),marginEnd:e.spaces.xxSmall},topRow:{alignItems:"center",flexDirection:"row",flexShrink:1,justifyContent:"space-between",paddingHorizontal:e.spaces.xSmall},timeString:{flexShrink:0},timeStringMargin:{marginTop:e.spaces.xSmall},title:{alignItems:"center",flexDirection:"row",paddingTop:e.spaces.xxSmall},videoContainer:{zIndex:10}}})),sn=r("9bsQ"),ln=r("A9rn"),un=r("IG4P"),dn=r("fTQJ"),pn=r("FIs5"),fn=r("I7xG"),mn=r("k/OQ"),hn=r("mw9i"),yn=r("U+bB"),vn=r("YeIG"),bn=r("fs1G");function gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m()(this,r)}}var Pn=x.a.abdcd689,Sn=x.a.a1bb552d,En=x.a.b103771f,kn=x.a.bb980dbf,Cn=x.a.e9f1fbcb,In=x.a.dfd7bbaf,wn=function(){return g.createElement(pn.a,{header:Cn,message:In})},Dn=function(e){p()(r,e);var t=On(r);function r(e){var n;o()(this,r),n=t.call(this,e),b()(u()(n),"state",{selectedCarouselItemId:void 0}),b()(u()(n),"_render",(function(){var e=n.props.interstitialOrderToDisplay;return n._refreshControlWrapper(g.createElement(ee,{interstitials:e},(function(e){return g.createElement(g.Fragment,null,n._renderHeader(),n._renderInlineCompose(),e||n._renderTimeline())})))})),b()(u()(n),"_getComposeTimelineDetails",(function(){return n.props.timelineDetails.composeDetails})),b()(u()(n),"_getTimelineModule",Object(fn.a)(u()(n),(function(e){return e.timelineDetails.eventId}),(function(e){return e.timelineDetails.timelineId}),(function(e,t){return Object(sn.a)(e,t)}))),b()(u()(n),"_setSelectedCarouselItem",(function(e){var t=n.props.onSelectedCarouselItemChange;t&&t(e),n.setState({selectedCarouselItemId:e.id})})),b()(u()(n),"_handleInlineComposeOnClick",(function(e){e.preventDefault();var t=n.props.history,r={pathname:"/compose/tweet",state:n._getComposeTimelineDetails()};t.push(r)}));var a=e.withTweetActionsDisabled;return n._entryConfiguration=function(e){var t,r=e.withTweetActionsDisabled;return k(k({},Object(_.a)({withTweetActionsDisabled:r})),{},(t={},b()(t,O.b.MomentAnnotation,S.a),b()(t,O.b.EventSummary,Object(P.a)({errorContext:"LIVE_EVENT_TIMELINE"})),t))}({withTweetActionsDisabled:a}),n}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.fetchStatus,r=e.liveEventDetails,n=e.onFetch;return g.createElement(w.a,{accessibilityLabel:Pn,fetchStatus:t,key:r.eventId,onRequestRetry:n,render:this._render})}},{key:"_renderHeader",value:function(){var e=this.props,t=e.carousel,r=e.disableFullscreenVideo,n=e.history,a=e.isPlayerFullscreen,i=e.isTOO,o=e.isWide,c=e.liveEventDetails,s=e.onChildScribeAction,l=e.onFullscreenChange,u=e.remindMeButtonSubscribe,d=e.remindMeButtonUnsubscribe,p=e.scoreData,f=e.timelineDetails.hashtag,m=this.state.selectedCarouselItemId,h=Object(j.p)(t,m);return g.createElement(on,{carousel:t,disableFullscreenVideo:r,history:n,isPlayerFullscreen:a,isTOO:i,isWide:o,liveEventDetails:c,onChildScribeAction:s,onFullscreenChange:l,remindMeButtonSubscribe:u,remindMeButtonUnsubscribe:d,scoreData:p,selectedCarouselItem:h,setSelectedCarouselItem:this._setSelectedCarouselItem,timelineHashtag:f,withScoreCard:!o})}},{key:"_renderInlineCompose",value:function(){var e=this.props,t=e.isWide,r=e.timelineDetails.hashtag,n=r?Sn({hashtag:r}):En;return t?g.createElement(g.Fragment,null,g.createElement(X,{onClick:this._handleInlineComposeOnClick,promptLabel:n}),g.createElement(lt.a,null)):null}},{key:"_renderTimeline",value:function(){var e=this._renderTimelineLinks(),t=this._renderRichTimeline();return e.length>1||1===e.length&&e[0].isCustom?g.createElement(g.Fragment,null,g.createElement(mn.a,{accessibilityLabel:kn,links:e.map((function(e){return{key:e.key,label:e.label,isActive:e.isActive,to:_n({},e.to)}}))}),g.createElement(M.a,{style:jn.timelineContainer},t)):t}},{key:"_renderTimelineLinks",value:function(){var e=this;return this.props.timelineDetails.timelineLinks.map((function(t){var r=t.customizationInfo,n=t.label,i=a()(t,["customizationInfo","label"]),o=!Object(vn.a)(r),c=o&&r?e._renderCustomLabel({label:n,customizationInfo:r}):g.createElement(F.c,{weight:"bold"},n);return _n(_n({},i),{},{key:n,label:c,isCustom:o})}))}},{key:"_renderCustomLabel",value:function(e){var t=e.label,r=e.customizationInfo,n=r.badge_media,a=r.title_color;return g.createElement(M.a,{style:jn.timelineLabel},n&&n.url?g.createElement(yn.a,{source:n.url,style:jn.timelineLabelBadge}):null,g.createElement(F.c,{style:{color:a},weight:"bold"},t))}},{key:"_renderRichTimeline",value:function(){var e=this.props,t=e.isPlayerFullscreen,r=e.isWide,n=e.liveEventDetails.title,a=void 0===n?kn:n,i=e.startTimer,o=e.withFloatingComposeButton,c=this._getTimelineModule(),s=t||r||!o?null:this._renderFloatingComposeButton();return g.createElement(C.a,{component:hn.a,fab:s},g.createElement(dn.a,{anchoring:ln.a,entryConfiguration:this._entryConfiguration,module:c,refreshControl:null,renderEmptyState:wn,timelineRef:i,title:a}))}},{key:"_renderFloatingComposeButton",value:function(){var e=this.props.history;return g.createElement(D.a,{getLocationState:this._getComposeTimelineDetails,history:e})}},{key:"_refreshControlWrapper",value:function(e){var t=this.props,r=t.onFetch,n=t.refreshStatus;return g.createElement(un.a,{isRefreshing:n===I.a.LOADING,onRefresh:r},e)}}]),r}(g.Component);b()(Dn,"defaultProps",{onChildScribeAction:bn.a});var jn=U.a.create((function(e){return{timelineLabel:{flexDirection:"row",alignItems:"flex-end"},timelineLabelBadge:{borderRadius:e.borderRadii.infinite,height:"calc(1rem * ".concat(e.lineHeight,")"),marginEnd:e.spaces.xxSmall,width:"calc(1rem * ".concat(e.lineHeight,")")},timelineContainer:{minHeight:"90vh"}}}))},Yyzf:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));r("1t7P"),r("LW0h"),r("jwue"),r("daRM"),r("FtHn"),r("+KXO"),r("+oxZ");var n=r("KEM+"),a=r.n(n),i=r("ERkP"),o=r("t62R"),c=r("/yvb"),s=r("3XMw"),l=r.n(s),u=r("/C0/"),d=r("rHpw"),p=r("U+bB"),f=r("MWbm");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=l.a.a9edea48;function v(e){var t=e.displayBackgroundImage,r=void 0!==t&&t,n=e.errorMessage,a=e.iconPlayError,s=e.imageSrc,l=e.onReloadPress;return i.createElement(f.a,{style:[d.a.absoluteFill,r?null:b.blankOverlay]},r?i.createElement(i.Fragment,null,i.createElement(f.a,{style:b.backgroundImage},s&&i.createElement(p.a,{resizeMode:"cover",source:s,style:d.a.absoluteFill})),i.createElement(f.a,{style:b.overlay})):null,i.createElement(f.a,{style:b.errorContainer},i.createElement(f.a,null,a?i.createElement(u.a,{style:b.playErrorIcon}):null),i.createElement(f.a,{accessible:!0},i.createElement(o.c,{style:r?b.errorMsgTextWhite:b.errorMsgTextGray},n)),l?i.createElement(c.a,{onPress:l,style:b.buttonContainer,type:"primary"},y):null))}var b=d.a.create((function(e){return{backgroundImage:h(h({},d.a.absoluteFillObject),{},{filter:"blur(5px)"}),overlay:h(h({},d.a.absoluteFillObject),{},{backgroundColor:e.colors.translucentBlack77}),blankOverlay:{backgroundColor:e.colors.faintGray},buttonContainer:{justifyContent:"center",alignSelf:"center"},errorContainer:{justifyContent:"center",height:"100%",marginHorizontal:e.spaces.large},errorMsgTextWhite:{color:e.colors.white,textAlign:"center",marginBottom:e.spaces.medium},errorMsgTextGray:{color:e.colors.deepGray,textAlign:"center",marginBottom:e.spaces.medium},playErrorIcon:{fill:e.colors.deepGray,height:e.spaces.xxLarge,width:e.spaces.xxLarge,marginHorizontal:"auto",paddingBottom:e.spaces.medium,textAlignVertical:"middle"}}}))},Zl35:function(e,t,r){"use strict";r.d(t,"a",(function(){return H}));r("1t7P"),r("2G9S"),r("LW0h"),r("jwue"),r("daRM"),r("FtHn"),r("+KXO"),r("7x/C"),r("OZaJ"),r("DZ+c"),r("+oxZ");var n=r("97Jx"),a=r.n(n),i=r("m3Bd"),o=r.n(i),c=r("VrFO"),s=r.n(c),l=r("Y9Ll"),u=r.n(l),d=r("1Pcy"),p=r.n(d),f=r("5Yy7"),m=r.n(f),h=r("N+ot"),y=r.n(h),v=r("AuHH"),b=r.n(v),g=r("KEM+"),_=r.n(g),O=r("ERkP"),P=r("9Xij"),S=(r("z84I"),r("T0aG")),E=r.n(S),k=r("mN6z");function C(e){var t=I(e);return function(e){var r=I(e);return Object(k.a)(t,r)||(t=r),t}}function I(e){if(!e||"object"!==E()(e))return e;var t=JSON.parse(JSON.stringify(e));return delete t.dataUsageBytes,t.tracks=t.tracks.map((function(e){return"number"==typeof e.currentTimeMs&&delete e.currentTimeMs,e})),t}var w=r("Yyzf"),D=r("7nmT"),j=r.n(D),R=r("rHpw");r("jQ/y"),r("gqY9"),r("HUPx"),r("6U7i"),r("JtPf");function x(e){var t=function(e,t){if("object"!==E()(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==E()(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E()(t)?t:String(t)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var a=b()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return y()(this,r)}}var M=function(e){m()(r,e);var t=L(r);function r(){var e;s()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),_()(p()(e),"state",{playerApi:void 0,playerState:void 0,guestsState:void 0}),_()(p()(e),"_initializeState",(function(t){t&&(e._unsubscribe&&e._unsubscribe(),e.setState({playerApi:t}),e._unsubscribe=t.subscribe((function(t,r){return e.setState({playerState:t,guestsState:r})})))})),e}return u()(r,[{key:"componentDidMount",value:function(){this._initializeState(this.props.playerApi)}},{key:"componentDidUpdate",value:function(e){var t=this.props.playerApi;t!==e.playerApi&&this._initializeState(t)}},{key:"render",value:function(){return this.props.children(this.state)}}]),r}(O.Component),N=function(e){m()(r,e);var t=L(r);function r(){var e;s()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),_()(p()(e),"state",{players:{}}),_()(p()(e),"_mounted",!1),_()(p()(e),"_registerPlayer",(function(t,r){var n=new Promise((function(n){setTimeout((function(){e._mounted?e.setState((function(e){return{players:T(T({},e.players),{},_()({},t,r))}}),n):n()}))}));return function(){n.then((function(){return e._unregisterPlayer(t)}))}})),_()(p()(e),"_unregisterPlayer",(function(t){e._mounted&&e.setState((function(r){var n=e.state.players;n[t];return{players:o()(n,[t].map(x))}}))})),_()(p()(e),"_registrationContext",{registerPlayer:e._registerPlayer}),e}return u()(r,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){return O.createElement(r.RegistrationContext.Provider,{value:this._registrationContext},O.createElement(r.ProviderContext.Provider,{value:this.state},this.props.children))}}]),r}(O.Component);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var a=b()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return y()(this,r)}}function H(e){var t=e.periodic,r=e.children,n=t?V.PeriodicContext.Consumer:V.Context.Consumer;return O.createElement(n,null,(function(e){var t=e.aspectRatio,n=e.guestsState,a=e.playerApi,i=e.playerState,o=e.containerRef;return a&&o&&i?r({aspectRatio:t,guestsState:n,playerApi:a,playerState:i,containerRef:o}):null}))}_()(N,"MetadataSubscriber",(function(e){var t=e.playerId,r=e.children;return O.createElement(N.ProviderContext.Consumer,null,(function(e){var n=e.players;return O.createElement(M,{playerApi:n&&n[t]},r)}))})),_()(N,"RegistrationContext",O.createContext({registerPlayer:void 0})),_()(N,"ProviderContext",O.createContext({players:{}}));var V=function(e){m()(r,e);var t=U(r);function r(){var e;s()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),_()(p()(e),"_cache",{stablePlayerState:C(null)}),_()(p()(e),"state",{hasError:null,guestsState:null,playerApi:null,playerState:null,stablePlayerState:null}),_()(p()(e),"_renderCustomOverlay",(function(){var t=e.props.children,r=e.state,n=r.guestsState,a=r.playerApi,i=r.stablePlayerState;return a&&t?"function"==typeof t?t({guestsState:n,playerApi:a,playerState:i,containerRef:e._containerRef}):t:null})),_()(p()(e),"_handleReload",(function(){return e.setState((function(){return{hasError:null}}))})),_()(p()(e),"_handlePlayerApi",(function(t){return function(r){var n=e.props.playerId;e.setState({playerApi:r}),e.props.onApiReady&&e.props.onApiReady(r),n&&t&&(e._unregister=t(n,r)),e._unsubscribe=r.subscribe((function(t,r){var n=e._cache.stablePlayerState(t);e.setState({stablePlayerState:n,playerState:t,guestsState:r}),e.props.onStateUpdate&&e.props.onStateUpdate(t,r)}))}})),e}return u()(r,[{key:"componentWillUnmount",value:function(){this._unregister&&this._unregister(),this._unsubscribe&&this._unsubscribe()}},{key:"componentDidUpdate",value:function(){if(!this._containerRef){var e=j.a.findDOMNode(this);e&&e instanceof HTMLElement&&(this._containerRef=e)}}},{key:"componentDidCatch",value:function(e,t){var r={error:e,info:t};this.setState((function(){return{hasError:r}}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.guestsState,i=t.playerApi,c=t.playerState,s=t.stablePlayerState,l=this.props,u=l.aspectRatio,d=(l.children,l.objectFitVideo),p=(l.onApiReady,l.onStateUpdate,l.playerId,l.basePlayerClass),f=l.size,m=o()(l,["aspectRatio","children","objectFitVideo","onApiReady","onStateUpdate","playerId","basePlayerClass","size"]),h={aspectRatio:this.props.aspectRatio,guestsState:n,playerApi:i,playerState:c,containerRef:this._containerRef},y=F(F({},h),{},{playerState:s}),v=F(F({},m),{},{customOverlay:this._renderCustomOverlay(),displayOptions:{objectFitVideo:d}});return O.createElement(P.a,{ratio:u,style:[z.root,z[f]]},this.state.hasError?O.createElement(w.a,{onReloadPress:this._handleReload}):O.createElement(r.Context.Provider,{value:y},O.createElement(r.PeriodicContext.Provider,{value:h},O.createElement(N.RegistrationContext.Consumer,null,(function(t){var r=t.registerPlayer;return O.createElement(p,a()({},v,{setPlayerApi:e._handlePlayerApi(r)}))})))))}}]),r}(O.Component);_()(V,"Consumer",H),_()(V,"defaultProps",{aspectRatio:R.a.theme.aspectRatios.landscape,size:"fill"}),_()(V,"Context",O.createContext({aspectRatio:R.a.theme.aspectRatios.landscape,guestsState:null,playerApi:null,playerState:null,containerRef:null})),_()(V,"PeriodicContext",O.createContext({aspectRatio:R.a.theme.aspectRatios.landscape,guestsState:null,playerApi:null,playerState:null,containerRef:null}));var z=R.a.create({root:{position:"relative"},fill:{width:"100%",height:"100%"},small:{width:480,height:270},medium:{width:640,height:360},large:{width:800,height:450}});t.b=V},"l+4e":function(e,t,r){"use strict";r("uFXj");var n=r("ERkP"),a=r("rcen"),i=r("rHpw"),o=r("MWbm"),c=i.a.create((function(e){return{root:{paddingHorizontal:e.spaces.small,paddingVertical:e.spaces.xSmall},header:{fontSize:e.fontSizes.large},headerMargin:{marginBottom:e.spaces.small},body:{fontSize:e.fontSizes.normal}}}));t.a=function(e){var t=e.header,r=void 0===t?{}:t,i=e.body,s=void 0===i?{}:i;return n.createElement(o.a,{style:c.root},r.text?n.createElement(a.c,{entities:r.entities,rtl:r.rtl,style:[c.header,s.text&&c.headerMargin],text:r.text,weight:"bold"}):null,s.text?n.createElement(a.c,{entities:s.entities,rtl:s.rtl,style:c.body,text:s.text}):null)}},mf9H:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return h}));r("LW0h"),r("hBpG"),r("jwue"),r("vrRf"),r("Ee2X"),r("6U7i"),r("yH/f"),r("+oxZ");var n=r("VrFO"),a=r.n(n),i=r("Y9Ll"),o=r.n(i),c=r("KEM+"),s=r.n(c),l=r("jHwr"),u=r("+d3d"),d=function(e,t){if(0!==e.length){for(var r=e[0],n=t(r),a=1;a<e.length;a++){var i=e[a],o=t(i);o<n&&(r=i,n=o)}return r}},p=.25,f=Object.freeze({INITIAL:"initial",AUTO_PAUSED:"autoPaused",USER_PAUSED:"userPaused",AUTO_PLAYING:"autoPlaying",USER_PLAYING:"userPlaying",FINISHED:"finished"}),m=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;a()(this,e),s()(this,"_players",[]),s()(this,"_setPlayerState",(function(e,t){e.previousPlaybackState=e.playbackState,e.playbackState=t})),s()(this,"_updatePlaybackStates",(function(){var e=t._players.find((function(e){return e.playbackState===f.USER_PLAYING}));e&&!t._canPlay(e)?(t._pausePlayer(e),t._triggerAutoplay()):e?t._stopAllExcept(e):t._triggerAutoplay()})),s()(this,"_scheduleUpdate",Object(u.a)(Object(l.a)(this._updatePlaybackStates,window.requestIdleCallback?function(e){return window.requestIdleCallback(e,{timeout:200})}:window.requestAnimationFrame),300,{leading:!1,trailing:!0})),this._minimumVisibilityForAutoplay=r}return o()(e,[{key:"register",value:function(e){var t=this,r=e.canAutoplay,n=e.onAutoPlayRequest,a=e.onFullscreenEntered,i=e.onFullscreenExited,o=e.onPauseRequest,c=e.isLooping,s={placement:void 0,playbackState:f.INITIAL,previousPlaybackState:f.INITIAL,commandHandlers:{onAutoPlayRequest:n,onFullscreenEntered:a,onFullscreenExited:i,onPauseRequest:o},canAutoplay:r,isLooping:c};return this._players.push(s),{reset:function(){return t._handleReset(s)},signalFullscreenChange:function(e){return t._handleFullscreenChanged(e)},signalPlacementChange:function(e){return t._handlePlacementChange(s,e)},signalPlay:function(){return t._handlePlay(s)},signalPause:function(){return t._handlePause(s)},signalPlaybackFinish:function(){return t._handlePlaybackFinished(s)},unregister:function(){return t._handleUnregister(s)}}}},{key:"_handleFullscreenChanged",value:function(e){this._players.forEach((function(t){var r=t.commandHandlers,n=r.onFullscreenEntered,a=r.onFullscreenExited;e&&n?n():!e&&a&&a()}))}},{key:"_handlePlacementChange",value:function(e,t){var r=t.scrollY();e.placement=t,this._scrollY!==r&&(this._scrollY=r),e.playbackState===f.FINISHED&&0===t.visibleFraction()&&this._setPlayerState(e,f.INITIAL),this._scheduleUpdate()}},{key:"_handlePlay",value:function(e){e.playbackState!==f.AUTO_PLAYING&&(e.previousPlaybackState===f.AUTO_PLAYING&&e.isLooping?this._setPlayerState(e,f.AUTO_PLAYING):this._setPlayerState(e,f.USER_PLAYING)),this._stopAllExcept(e)}},{key:"_handlePause",value:function(e){e.playbackState!==f.AUTO_PAUSED&&this._setPlayerState(e,f.USER_PAUSED)}},{key:"_handlePlaybackFinished",value:function(e){this._setPlayerState(e,f.FINISHED)}},{key:"_handleReset",value:function(e){this._setPlayerState(e,f.INITIAL),this._scheduleUpdate()}},{key:"_handleUnregister",value:function(e){var t=this._players.indexOf(e);t>=0&&this._players.splice(t,1),this._scheduleUpdate()}},{key:"_triggerAutoplay",value:function(){var e=this,t=this._players.filter((function(t){return e._canAutoPlay(t)})),r=this._findBestAutoplayFit(t);r?(this._stopAllExcept(r),this._autoPlayVideo(r)):this._players.forEach((function(t){t.playbackState===f.AUTO_PLAYING&&e._pausePlayer(t)}))}},{key:"_canAutoPlay",value:function(e){var t=!!e.placement&&e.placement.visibleFraction()>=this._minimumVisibilityForAutoplay,r=e.playbackState===f.USER_PAUSED,n=e.playbackState===f.FINISHED;return e.canAutoplay&&t&&!r&&!n}},{key:"_canPlay",value:function(e){var t=!!e.placement&&e.placement.visibleFraction()>=this._minimumVisibilityForAutoplay,r=!!e.placement&&e.placement.visibleFraction()>0;return!e.placement||r||t}},{key:"_stopAllExcept",value:function(e){var t=this;this._players.forEach((function(r){r===e||r.playbackState!==f.USER_PLAYING&&r.playbackState!==f.AUTO_PLAYING||t._pausePlayer(r)}))}},{key:"_pausePlayer",value:function(e){var t=e.commandHandlers.onPauseRequest;this._setPlayerState(e,f.AUTO_PAUSED),t()}},{key:"_autoPlayVideo",value:function(e){var t=e.commandHandlers.onAutoPlayRequest;this._setPlayerState(e,f.AUTO_PLAYING),t()}},{key:"_findBestAutoplayFit",value:function(e){return 0===this._scrollY?d(e,this._getDistanceToTop):d(e,this._getDistanceToCenter)}},{key:"_getDistanceToCenter",value:function(e){return e.placement?e.placement.distanceToCenter():Number.MAX_VALUE}},{key:"_getDistanceToTop",value:function(e){return e.placement?e.placement.distanceToTop():Number.MAX_VALUE}}]),e}(),h=new m},sTSP:function(e,t,r){"use strict";r("1t7P"),r("LW0h"),r("jwue"),r("daRM"),r("FtHn"),r("+KXO"),r("+oxZ");var n=r("KEM+"),a=r.n(n),i=r("ERkP"),o=r("Lsrn"),c=r("k/Ka");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c.a)("svg",l(l({},e),{},{style:[o.a.root,e.style],viewBox:"0 0 24 24"}),i.createElement("g",null,i.createElement("path",{d:"M12.253 22.75c-.166 0-.33-.055-.466-.162L4.74 17H2.254c-1.24 0-2.25-1.01-2.25-2.25v-5.5C.003 8.01 1.013 7 2.253 7H4.74l7.047-5.588c.225-.18.533-.215.792-.087.258.125.423.387.423.675v20c0 .288-.165.55-.424.675-.104.05-.216.075-.327.075zm-10-14.25c-.413 0-.75.337-.75.75v5.5c0 .413.337.75.75.75h2.75c.17 0 .333.058.466.162l6.033 4.786V3.552L5.47 8.338c-.134.104-.298.162-.467.162h-2.75zm14.33 8.226c-.308 0-.596-.19-.705-.495-.14-.39.06-.818.45-.96 1.373-.495 2.296-1.81 2.296-3.27s-.923-2.774-2.296-3.27c-.39-.14-.592-.57-.45-.96.14-.39.57-.59.958-.45 1.967.707 3.288 2.59 3.288 4.68s-1.32 3.972-3.286 4.68c-.084.03-.17.046-.255.046z"}),i.createElement("path",{d:"M17.82 20.135c-.306 0-.594-.19-.704-.495-.14-.39.06-.82.45-.96 2.802-1.014 4.684-3.698 4.684-6.68 0-2.98-1.883-5.665-4.684-6.68-.39-.14-.592-.57-.45-.96.14-.39.573-.59.96-.45C21.47 5.14 23.75 8.39 23.75 12c0 3.61-2.28 6.862-5.674 8.09-.084.03-.17.045-.255.045z"})))};u.metadata={width:24,height:24},t.a=u},zgaL:function(e,t,r){"use strict";r("1t7P"),r("LW0h"),r("jwue"),r("daRM"),r("FtHn"),r("+KXO"),r("+oxZ");var n=r("KEM+"),a=r.n(n),i=r("ezF+"),o=(r("ERkP"),r("l+4e")),c=r("zh9S"),s=r("Rp9C");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=i.d(i.f({component:o.a,bindActions:function(){return{scribe:c.c}},createProps:function(e){var t=e.entry.content;return{header:t.header,body:t.text}},onImpression:function(e){var t=e.scribeNamespace,r=e.scribeData;(0,e.actions.scribe)(u(u({},t),{},{action:"impression"}),r)},getScribeDataItem:function(e){var t=e.itemMetadata.clientEventInfo;return s.a.getAllSurfaceDetails(t)},divider:{bottom:!0,top:!0}}))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web-legacy/bundle.LiveEvent.014237b5.js.map